(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function V0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Lh={exports:{}},Ma={},Oh={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg;function M0(){if(Bg)return Ae;Bg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,F={};function b(M,Y,me){this.props=M,this.context=Y,this.refs=F,this.updater=me||k}b.prototype.isReactComponent={},b.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},b.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function B(){}B.prototype=b.prototype;function z(M,Y,me){this.props=M,this.context=Y,this.refs=F,this.updater=me||k}var G=z.prototype=new B;G.constructor=z,O(G,b.prototype),G.isPureReactComponent=!0;var te=Array.isArray,re=Object.prototype.hasOwnProperty,oe={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function I(M,Y,me){var Ce,Re={},be=null,je=null;if(Y!=null)for(Ce in Y.ref!==void 0&&(je=Y.ref),Y.key!==void 0&&(be=""+Y.key),Y)re.call(Y,Ce)&&!A.hasOwnProperty(Ce)&&(Re[Ce]=Y[Ce]);var ze=arguments.length-2;if(ze===1)Re.children=me;else if(1<ze){for(var We=Array(ze),Et=0;Et<ze;Et++)We[Et]=arguments[Et+2];Re.children=We}if(M&&M.defaultProps)for(Ce in ze=M.defaultProps,ze)Re[Ce]===void 0&&(Re[Ce]=ze[Ce]);return{$$typeof:n,type:M,key:be,ref:je,props:Re,_owner:oe.current}}function C(M,Y){return{$$typeof:n,type:M.type,key:Y,ref:M.ref,props:M.props,_owner:M._owner}}function x(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function D(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(me){return Y[me]})}var V=/\/+/g;function P(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):Y.toString(36)}function et(M,Y,me,Ce,Re){var be=typeof M;(be==="undefined"||be==="boolean")&&(M=null);var je=!1;if(M===null)je=!0;else switch(be){case"string":case"number":je=!0;break;case"object":switch(M.$$typeof){case n:case e:je=!0}}if(je)return je=M,Re=Re(je),M=Ce===""?"."+P(je,0):Ce,te(Re)?(me="",M!=null&&(me=M.replace(V,"$&/")+"/"),et(Re,Y,me,"",function(Et){return Et})):Re!=null&&(x(Re)&&(Re=C(Re,me+(!Re.key||je&&je.key===Re.key?"":(""+Re.key).replace(V,"$&/")+"/")+M)),Y.push(Re)),1;if(je=0,Ce=Ce===""?".":Ce+":",te(M))for(var ze=0;ze<M.length;ze++){be=M[ze];var We=Ce+P(be,ze);je+=et(be,Y,me,We,Re)}else if(We=S(M),typeof We=="function")for(M=We.call(M),ze=0;!(be=M.next()).done;)be=be.value,We=Ce+P(be,ze++),je+=et(be,Y,me,We,Re);else if(be==="object")throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return je}function ht(M,Y,me){if(M==null)return M;var Ce=[],Re=0;return et(M,Ce,"","",function(be){return Y.call(me,be,Re++)}),Ce}function ft(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(me){(M._status===0||M._status===-1)&&(M._status=1,M._result=me)},function(me){(M._status===0||M._status===-1)&&(M._status=2,M._result=me)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Fe={current:null},ie={transition:null},ye={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:ie,ReactCurrentOwner:oe};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:ht,forEach:function(M,Y,me){ht(M,function(){Y.apply(this,arguments)},me)},count:function(M){var Y=0;return ht(M,function(){Y++}),Y},toArray:function(M){return ht(M,function(Y){return Y})||[]},only:function(M){if(!x(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ae.Component=b,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=z,Ae.StrictMode=i,Ae.Suspense=p,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Ae.act=le,Ae.cloneElement=function(M,Y,me){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ce=O({},M.props),Re=M.key,be=M.ref,je=M._owner;if(Y!=null){if(Y.ref!==void 0&&(be=Y.ref,je=oe.current),Y.key!==void 0&&(Re=""+Y.key),M.type&&M.type.defaultProps)var ze=M.type.defaultProps;for(We in Y)re.call(Y,We)&&!A.hasOwnProperty(We)&&(Ce[We]=Y[We]===void 0&&ze!==void 0?ze[We]:Y[We])}var We=arguments.length-2;if(We===1)Ce.children=me;else if(1<We){ze=Array(We);for(var Et=0;Et<We;Et++)ze[Et]=arguments[Et+2];Ce.children=ze}return{$$typeof:n,type:M.type,key:Re,ref:be,props:Ce,_owner:je}},Ae.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},Ae.createElement=I,Ae.createFactory=function(M){var Y=I.bind(null,M);return Y.type=M,Y},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:h,render:M}},Ae.isValidElement=x,Ae.lazy=function(M){return{$$typeof:w,_payload:{_status:-1,_result:M},_init:ft}},Ae.memo=function(M,Y){return{$$typeof:y,type:M,compare:Y===void 0?null:Y}},Ae.startTransition=function(M){var Y=ie.transition;ie.transition={};try{M()}finally{ie.transition=Y}},Ae.unstable_act=le,Ae.useCallback=function(M,Y){return Fe.current.useCallback(M,Y)},Ae.useContext=function(M){return Fe.current.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M){return Fe.current.useDeferredValue(M)},Ae.useEffect=function(M,Y){return Fe.current.useEffect(M,Y)},Ae.useId=function(){return Fe.current.useId()},Ae.useImperativeHandle=function(M,Y,me){return Fe.current.useImperativeHandle(M,Y,me)},Ae.useInsertionEffect=function(M,Y){return Fe.current.useInsertionEffect(M,Y)},Ae.useLayoutEffect=function(M,Y){return Fe.current.useLayoutEffect(M,Y)},Ae.useMemo=function(M,Y){return Fe.current.useMemo(M,Y)},Ae.useReducer=function(M,Y,me){return Fe.current.useReducer(M,Y,me)},Ae.useRef=function(M){return Fe.current.useRef(M)},Ae.useState=function(M){return Fe.current.useState(M)},Ae.useSyncExternalStore=function(M,Y,me){return Fe.current.useSyncExternalStore(M,Y,me)},Ae.useTransition=function(){return Fe.current.useTransition()},Ae.version="18.3.1",Ae}var Hg;function Nf(){return Hg||(Hg=1,Oh.exports=M0()),Oh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function F0(){if(Wg)return Ma;Wg=1;var n=Nf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,y){var w,T={},S=null,k=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(k=p.ref);for(w in p)i.call(p,w)&&!l.hasOwnProperty(w)&&(T[w]=p[w]);if(h&&h.defaultProps)for(w in p=h.defaultProps,p)T[w]===void 0&&(T[w]=p[w]);return{$$typeof:e,type:h,key:S,ref:k,props:T,_owner:o.current}}return Ma.Fragment=t,Ma.jsx=d,Ma.jsxs=d,Ma}var qg;function U0(){return qg||(qg=1,Lh.exports=F0()),Lh.exports}var W=U0(),$u={},Vh={exports:{}},nn={},Mh={exports:{}},Fh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function j0(){return Kg||(Kg=1,function(n){function e(ie,ye){var le=ie.length;ie.push(ye);e:for(;0<le;){var M=le-1>>>1,Y=ie[M];if(0<o(Y,ye))ie[M]=ye,ie[le]=Y,le=M;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var ye=ie[0],le=ie.pop();if(le!==ye){ie[0]=le;e:for(var M=0,Y=ie.length,me=Y>>>1;M<me;){var Ce=2*(M+1)-1,Re=ie[Ce],be=Ce+1,je=ie[be];if(0>o(Re,le))be<Y&&0>o(je,Re)?(ie[M]=je,ie[be]=le,M=be):(ie[M]=Re,ie[Ce]=le,M=Ce);else if(be<Y&&0>o(je,le))ie[M]=je,ie[be]=le,M=be;else break e}}return ye}function o(ie,ye){var le=ie.sortIndex-ye.sortIndex;return le!==0?le:ie.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var p=[],y=[],w=1,T=null,S=3,k=!1,O=!1,F=!1,b=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(ie){for(var ye=t(y);ye!==null;){if(ye.callback===null)i(y);else if(ye.startTime<=ie)i(y),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(y)}}function te(ie){if(F=!1,G(ie),!O)if(t(p)!==null)O=!0,ft(re);else{var ye=t(y);ye!==null&&Fe(te,ye.startTime-ie)}}function re(ie,ye){O=!1,F&&(F=!1,B(I),I=-1),k=!0;var le=S;try{for(G(ye),T=t(p);T!==null&&(!(T.expirationTime>ye)||ie&&!D());){var M=T.callback;if(typeof M=="function"){T.callback=null,S=T.priorityLevel;var Y=M(T.expirationTime<=ye);ye=n.unstable_now(),typeof Y=="function"?T.callback=Y:T===t(p)&&i(p),G(ye)}else i(p);T=t(p)}if(T!==null)var me=!0;else{var Ce=t(y);Ce!==null&&Fe(te,Ce.startTime-ye),me=!1}return me}finally{T=null,S=le,k=!1}}var oe=!1,A=null,I=-1,C=5,x=-1;function D(){return!(n.unstable_now()-x<C)}function V(){if(A!==null){var ie=n.unstable_now();x=ie;var ye=!0;try{ye=A(!0,ie)}finally{ye?P():(oe=!1,A=null)}}else oe=!1}var P;if(typeof z=="function")P=function(){z(V)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,ht=et.port2;et.port1.onmessage=V,P=function(){ht.postMessage(null)}}else P=function(){b(V,0)};function ft(ie){A=ie,oe||(oe=!0,P())}function Fe(ie,ye){I=b(function(){ie(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){O||k||(O=!0,ft(re))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ie){switch(S){case 1:case 2:case 3:var ye=3;break;default:ye=S}var le=S;S=ye;try{return ie()}finally{S=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ye){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var le=S;S=ie;try{return ye()}finally{S=le}},n.unstable_scheduleCallback=function(ie,ye,le){var M=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?M+le:M):le=M,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,ie={id:w++,callback:ye,priorityLevel:ie,startTime:le,expirationTime:Y,sortIndex:-1},le>M?(ie.sortIndex=le,e(y,ie),t(p)===null&&ie===t(y)&&(F?(B(I),I=-1):F=!0,Fe(te,le-M))):(ie.sortIndex=Y,e(p,ie),O||k||(O=!0,ft(re))),ie},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(ie){var ye=S;return function(){var le=S;S=ye;try{return ie.apply(this,arguments)}finally{S=le}}}}(Fh)),Fh}var Gg;function z0(){return Gg||(Gg=1,Mh.exports=j0()),Mh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function $0(){if(Qg)return nn;Qg=1;var n=Nf(),e=z0();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){d(r,s),d(r+"Capture",s)}function d(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function S(r){return p.call(T,r)?!0:p.call(w,r)?!1:y.test(r)?T[r]=!0:(w[r]=!0,!1)}function k(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function O(r,s,a,c){if(s===null||typeof s>"u"||k(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function F(r,s,a,c,f,g,v){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=v}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){b[r]=new F(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];b[s]=new F(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){b[r]=new F(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){b[r]=new F(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){b[r]=new F(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){b[r]=new F(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){b[r]=new F(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){b[r]=new F(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){b[r]=new F(r,5,!1,r.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function z(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(B,z);b[s]=new F(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(B,z);b[s]=new F(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(B,z);b[s]=new F(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){b[r]=new F(r,1,!1,r.toLowerCase(),null,!1,!1)}),b.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){b[r]=new F(r,1,!1,r.toLowerCase(),null,!0,!0)});function G(r,s,a,c){var f=b.hasOwnProperty(s)?b[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,a,f,c)&&(a=null),c||f===null?S(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,c=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var te=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),oe=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),ht=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ye(r){return r===null||typeof r!="object"?null:(r=ie&&r[ie]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,M;function Y(r){if(M===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+r}var me=!1;function Ce(r,s){if(!r||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(q){var c=q}Reflect.construct(r,[],s)}else{try{s.call()}catch(q){c=q}r.call(s.prototype)}else{try{throw Error()}catch(q){c=q}r()}}catch(q){if(q&&c&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),g=c.stack.split(`
`),v=f.length-1,R=g.length-1;1<=v&&0<=R&&f[v]!==g[R];)R--;for(;1<=v&&0<=R;v--,R--)if(f[v]!==g[R]){if(v!==1||R!==1)do if(v--,R--,0>R||f[v]!==g[R]){var N=`
`+f[v].replace(" at new "," at ");return r.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",r.displayName)),N}while(1<=v&&0<=R);break}}}finally{me=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Y(r):""}function Re(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Ce(r.type,!1),r;case 11:return r=Ce(r.type.render,!1),r;case 1:return r=Ce(r.type,!0),r;default:return""}}function be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case oe:return"Portal";case C:return"Profiler";case I:return"StrictMode";case P:return"Suspense";case et:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case x:return(r._context.displayName||"Context")+".Provider";case V:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ht:return s=r.displayName||null,s!==null?s:be(r.type)||"Memo";case ft:s=r._payload,r=r._init;try{return be(r(s))}catch{}}return null}function je(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ze(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function We(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Et(r){var s=We(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){c=""+v,g.call(this,v)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function cr(r){r._valueTracker||(r._valueTracker=Et(r))}function Ss(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=We(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function $r(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Oi(r,s){var a=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Cs(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=ze(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Bo(r,s){s=s.checked,s!=null&&G(r,"checked",s,!1)}function Ho(r,s){Bo(r,s);var a=ze(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Rs(r,s.type,a):s.hasOwnProperty("defaultValue")&&Rs(r,s.type,ze(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Al(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Rs(r,s,a){(s!=="number"||$r(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var dr=Array.isArray;function hr(r,s,a,c){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&c&&(r[a].defaultSelected=!0)}else{for(a=""+ze(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function Wo(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function As(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(dr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:ze(a)}}function Ps(r,s){var a=ze(s.value),c=ze(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function qo(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function pt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?pt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var fr,Ko=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(fr=fr||document.createElement("div"),fr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=fr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Br(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mi=["Webkit","ms","Moz","O"];Object.keys(Vi).forEach(function(r){Mi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Vi[s]=Vi[r]})});function Go(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Vi.hasOwnProperty(r)&&Vi[r]?(""+s).trim():s+"px"}function Qo(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=Go(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,f):r[a]=f}}var Yo=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xo(r,s){if(s){if(Yo[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Jo(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fi=null;function ks(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var xs=null,mn=null,Kn=null;function Ns(r){if(r=Ta(r)){if(typeof xs!="function")throw Error(t(280));var s=r.stateNode;s&&(s=ru(s),xs(r.stateNode,r.type,s))}}function Gn(r){mn?Kn?Kn.push(r):Kn=[r]:mn=r}function Zo(){if(mn){var r=mn,s=Kn;if(Kn=mn=null,Ns(r),s)for(r=0;r<s.length;r++)Ns(s[r])}}function Ui(r,s){return r(s)}function ea(){}var pr=!1;function ta(r,s,a){if(pr)return r(s,a);pr=!0;try{return Ui(r,s,a)}finally{pr=!1,(mn!==null||Kn!==null)&&(ea(),Zo())}}function st(r,s){var a=r.stateNode;if(a===null)return null;var c=ru(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var bs=!1;if(h)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){bs=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{bs=!1}function ji(r,s,a,c,f,g,v,R,N){var q=Array.prototype.slice.call(arguments,3);try{s.apply(a,q)}catch(Z){this.onError(Z)}}var zi=!1,Ds=null,kn=!1,na=null,ld={onError:function(r){zi=!0,Ds=r}};function Ls(r,s,a,c,f,g,v,R,N){zi=!1,Ds=null,ji.apply(ld,arguments)}function Pl(r,s,a,c,f,g,v,R,N){if(Ls.apply(this,arguments),zi){if(zi){var q=Ds;zi=!1,Ds=null}else throw Error(t(198));kn||(kn=!0,na=q)}}function xn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function $i(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Nn(r){if(xn(r)!==r)throw Error(t(188))}function kl(r){var s=r.alternate;if(!s){if(s=xn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,c=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return Nn(f),r;if(g===c)return Nn(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=g;else{for(var v=!1,R=f.child;R;){if(R===a){v=!0,a=f,c=g;break}if(R===c){v=!0,c=f,a=g;break}R=R.sibling}if(!v){for(R=g.child;R;){if(R===a){v=!0,a=g,c=f;break}if(R===c){v=!0,c=g,a=f;break}R=R.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function ra(r){return r=kl(r),r!==null?Os(r):null}function Os(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Os(r);if(s!==null)return s;r=r.sibling}return null}var Vs=e.unstable_scheduleCallback,ia=e.unstable_cancelCallback,xl=e.unstable_shouldYield,ud=e.unstable_requestPaint,qe=e.unstable_now,Nl=e.unstable_getCurrentPriorityLevel,Bi=e.unstable_ImmediatePriority,Hr=e.unstable_UserBlockingPriority,gn=e.unstable_NormalPriority,sa=e.unstable_LowPriority,bl=e.unstable_IdlePriority,Hi=null,on=null;function Dl(r){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Hi,r,void 0,(r.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:Ol,oa=Math.log,Ll=Math.LN2;function Ol(r){return r>>>=0,r===0?32:31-(oa(r)/Ll|0)|0}var Ms=64,Fs=4194304;function Wr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Wi(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,f=r.suspendedLanes,g=r.pingedLanes,v=a&268435455;if(v!==0){var R=v&~f;R!==0?c=Wr(R):(g&=v,g!==0&&(c=Wr(g)))}else v=a&~f,v!==0?c=Wr(v):g!==0&&(c=Wr(g));if(c===0)return 0;if(s!==0&&s!==c&&!(s&f)&&(f=c&-c,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(c&4&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-Bt(s),f=1<<a,c|=r[a],s&=~f;return c}function cd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mr(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var v=31-Bt(g),R=1<<v,N=f[v];N===-1?(!(R&a)||R&c)&&(f[v]=cd(R,s)):N<=s&&(r.expiredLanes|=R),g&=~R}}function an(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function qi(){var r=Ms;return Ms<<=1,!(Ms&4194240)&&(Ms=64),r}function qr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Kr(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Bt(s),r[s]=a}function He(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-Bt(a),g=1<<f;s[f]=0,c[f]=-1,r[f]=-1,a&=~g}}function Gr(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-Bt(a),f=1<<c;f&s|r[c]&s&&(r[c]|=s),a&=~f}}var xe=0;function Qr(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Vl,Us,Ml,Fl,Ul,aa=!1,Qn=[],At=null,bn=null,Dn=null,Yr=new Map,yn=new Map,Yn=[],dd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jl(r,s){switch(r){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Yr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yn.delete(s.pointerId)}}function Qt(r,s,a,c,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Ta(s),s!==null&&Us(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function hd(r,s,a,c,f){switch(s){case"focusin":return At=Qt(At,r,s,a,c,f),!0;case"dragenter":return bn=Qt(bn,r,s,a,c,f),!0;case"mouseover":return Dn=Qt(Dn,r,s,a,c,f),!0;case"pointerover":var g=f.pointerId;return Yr.set(g,Qt(Yr.get(g)||null,r,s,a,c,f)),!0;case"gotpointercapture":return g=f.pointerId,yn.set(g,Qt(yn.get(g)||null,r,s,a,c,f)),!0}return!1}function zl(r){var s=Xi(r.target);if(s!==null){var a=xn(s);if(a!==null){if(s=a.tag,s===13){if(s=$i(a),s!==null){r.blockedOn=s,Ul(r.priority,function(){Ml(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function gr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=js(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Fi=c,a.target.dispatchEvent(c),Fi=null}else return s=Ta(a),s!==null&&Us(s),r.blockedOn=a,!1;s.shift()}return!0}function Ki(r,s,a){gr(r)&&a.delete(s)}function $l(){aa=!1,At!==null&&gr(At)&&(At=null),bn!==null&&gr(bn)&&(bn=null),Dn!==null&&gr(Dn)&&(Dn=null),Yr.forEach(Ki),yn.forEach(Ki)}function Ln(r,s){r.blockedOn===s&&(r.blockedOn=null,aa||(aa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$l)))}function On(r){function s(f){return Ln(f,r)}if(0<Qn.length){Ln(Qn[0],r);for(var a=1;a<Qn.length;a++){var c=Qn[a];c.blockedOn===r&&(c.blockedOn=null)}}for(At!==null&&Ln(At,r),bn!==null&&Ln(bn,r),Dn!==null&&Ln(Dn,r),Yr.forEach(s),yn.forEach(s),a=0;a<Yn.length;a++)c=Yn[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<Yn.length&&(a=Yn[0],a.blockedOn===null);)zl(a),a.blockedOn===null&&Yn.shift()}var yr=te.ReactCurrentBatchConfig,Xr=!0;function Xe(r,s,a,c){var f=xe,g=yr.transition;yr.transition=null;try{xe=1,la(r,s,a,c)}finally{xe=f,yr.transition=g}}function fd(r,s,a,c){var f=xe,g=yr.transition;yr.transition=null;try{xe=4,la(r,s,a,c)}finally{xe=f,yr.transition=g}}function la(r,s,a,c){if(Xr){var f=js(r,s,a,c);if(f===null)Sd(r,s,c,Gi,a),jl(r,c);else if(hd(f,r,s,a,c))c.stopPropagation();else if(jl(r,c),s&4&&-1<dd.indexOf(r)){for(;f!==null;){var g=Ta(f);if(g!==null&&Vl(g),g=js(r,s,a,c),g===null&&Sd(r,s,c,Gi,a),g===f)break;f=g}f!==null&&c.stopPropagation()}else Sd(r,s,c,null,a)}}var Gi=null;function js(r,s,a,c){if(Gi=null,r=ks(c),r=Xi(r),r!==null)if(s=xn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=$i(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Gi=r,null}function ua(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nl()){case Bi:return 1;case Hr:return 4;case gn:case sa:return 16;case bl:return 536870912;default:return 16}default:return 16}}var ln=null,zs=null,Yt=null;function ca(){if(Yt)return Yt;var r,s=zs,a=s.length,c,f="value"in ln?ln.value:ln.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var v=a-r;for(c=1;c<=v&&s[a-c]===f[g-c];c++);return Yt=f.slice(r,1<c?1-c:void 0)}function $s(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Xn(){return!0}function da(){return!1}function Pt(r){function s(a,c,f,g,v){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=v,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(a=r[R],this[R]=a?a(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Xn:da,this.isPropagationStopped=da,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),s}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=Pt(Vn),Jn=le({},Vn,{view:0,detail:0}),pd=Pt(Jn),Hs,_r,Jr,Qi=le({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Jr&&(Jr&&r.type==="mousemove"?(Hs=r.screenX-Jr.screenX,_r=r.screenY-Jr.screenY):_r=Hs=0,Jr=r),Hs)},movementY:function(r){return"movementY"in r?r.movementY:_r}}),Ws=Pt(Qi),ha=le({},Qi,{dataTransfer:0}),Bl=Pt(ha),qs=le({},Jn,{relatedTarget:0}),Ks=Pt(qs),Hl=le({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),vr=Pt(Hl),Wl=le({},Vn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ql=Pt(Wl),Kl=le({},Vn,{data:0}),fa=Pt(Kl),Gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ql(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Gl[r])?!!s[r]:!1}function Zn(){return Ql}var u=le({},Jn,{key:function(r){if(r.key){var s=Gs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=$s(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ht[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zn,charCode:function(r){return r.type==="keypress"?$s(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?$s(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Pt(u),_=le({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Pt(_),U=le({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zn}),K=Pt(U),se=le({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Be=Pt(se),gt=le({},Qi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),De=Pt(gt),Tt=[9,13,27,32],lt=h&&"CompositionEvent"in window,_n=null;h&&"documentMode"in document&&(_n=document.documentMode);var un=h&&"TextEvent"in window&&!_n,Yi=h&&(!lt||_n&&8<_n&&11>=_n),Qs=" ",Mp=!1;function Fp(r,s){switch(r){case"keyup":return Tt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Up(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ys=!1;function LE(r,s){switch(r){case"compositionend":return Up(s);case"keypress":return s.which!==32?null:(Mp=!0,Qs);case"textInput":return r=s.data,r===Qs&&Mp?null:r;default:return null}}function OE(r,s){if(Ys)return r==="compositionend"||!lt&&Fp(r,s)?(r=ca(),Yt=zs=ln=null,Ys=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yi&&s.locale!=="ko"?null:s.data;default:return null}}var VE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!VE[r.type]:s==="textarea"}function zp(r,s,a,c){Gn(c),s=eu(s,"onChange"),0<s.length&&(a=new Bs("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var pa=null,ma=null;function ME(r){sm(r,0)}function Yl(r){var s=to(r);if(Ss(s))return r}function FE(r,s){if(r==="change")return s}var $p=!1;if(h){var md;if(h){var gd="oninput"in document;if(!gd){var Bp=document.createElement("div");Bp.setAttribute("oninput","return;"),gd=typeof Bp.oninput=="function"}md=gd}else md=!1;$p=md&&(!document.documentMode||9<document.documentMode)}function Hp(){pa&&(pa.detachEvent("onpropertychange",Wp),ma=pa=null)}function Wp(r){if(r.propertyName==="value"&&Yl(ma)){var s=[];zp(s,ma,r,ks(r)),ta(ME,s)}}function UE(r,s,a){r==="focusin"?(Hp(),pa=s,ma=a,pa.attachEvent("onpropertychange",Wp)):r==="focusout"&&Hp()}function jE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Yl(ma)}function zE(r,s){if(r==="click")return Yl(s)}function $E(r,s){if(r==="input"||r==="change")return Yl(s)}function BE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Mn=typeof Object.is=="function"?Object.is:BE;function ga(r,s){if(Mn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!p.call(s,f)||!Mn(r[f],s[f]))return!1}return!0}function qp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Kp(r,s){var a=qp(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qp(a)}}function Gp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Gp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Qp(){for(var r=window,s=$r();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=$r(r.document)}return s}function yd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function HE(r){var s=Qp(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Gp(a.ownerDocument.documentElement,a)){if(c!==null&&yd(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!r.extend&&g>c&&(f=c,c=g,g=f),f=Kp(a,g);var v=Kp(a,c);f&&v&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==v.node||r.focusOffset!==v.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>c?(r.addRange(s),r.extend(v.node,v.offset)):(s.setEnd(v.node,v.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var WE=h&&"documentMode"in document&&11>=document.documentMode,Xs=null,_d=null,ya=null,vd=!1;function Yp(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vd||Xs==null||Xs!==$r(c)||(c=Xs,"selectionStart"in c&&yd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ya&&ga(ya,c)||(ya=c,c=eu(_d,"onSelect"),0<c.length&&(s=new Bs("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=Xs)))}function Xl(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Js={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionend:Xl("Transition","TransitionEnd")},wd={},Xp={};h&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function Jl(r){if(wd[r])return wd[r];if(!Js[r])return r;var s=Js[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Xp)return wd[r]=s[a];return r}var Jp=Jl("animationend"),Zp=Jl("animationiteration"),em=Jl("animationstart"),tm=Jl("transitionend"),nm=new Map,rm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(r,s){nm.set(r,s),l(s,[r])}for(var Ed=0;Ed<rm.length;Ed++){var Td=rm[Ed],qE=Td.toLowerCase(),KE=Td[0].toUpperCase()+Td.slice(1);Zr(qE,"on"+KE)}Zr(Jp,"onAnimationEnd"),Zr(Zp,"onAnimationIteration"),Zr(em,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(tm,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GE=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function im(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,Pl(c,s,void 0,r),r.currentTarget=null}function sm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],f=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var v=c.length-1;0<=v;v--){var R=c[v],N=R.instance,q=R.currentTarget;if(R=R.listener,N!==g&&f.isPropagationStopped())break e;im(f,R,q),g=N}else for(v=0;v<c.length;v++){if(R=c[v],N=R.instance,q=R.currentTarget,R=R.listener,N!==g&&f.isPropagationStopped())break e;im(f,R,q),g=N}}}if(kn)throw r=na,kn=!1,na=null,r}function Ge(r,s){var a=s[xd];a===void 0&&(a=s[xd]=new Set);var c=r+"__bubble";a.has(c)||(om(s,r,2,!1),a.add(c))}function Id(r,s,a){var c=0;s&&(c|=4),om(a,r,c,s)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function va(r){if(!r[Zl]){r[Zl]=!0,i.forEach(function(a){a!=="selectionchange"&&(GE.has(a)||Id(a,!1,r),Id(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Zl]||(s[Zl]=!0,Id("selectionchange",!1,s))}}function om(r,s,a,c){switch(ua(s)){case 1:var f=Xe;break;case 4:f=fd;break;default:f=la}a=f.bind(null,s,a,r),f=void 0,!bs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function Sd(r,s,a,c,f){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var R=c.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(v===4)for(v=c.return;v!==null;){var N=v.tag;if((N===3||N===4)&&(N=v.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;v=v.return}for(;R!==null;){if(v=Xi(R),v===null)return;if(N=v.tag,N===5||N===6){c=g=v;continue e}R=R.parentNode}}c=c.return}ta(function(){var q=g,Z=ks(a),ee=[];e:{var J=nm.get(r);if(J!==void 0){var ae=Bs,he=r;switch(r){case"keypress":if($s(a)===0)break e;case"keydown":case"keyup":ae=m;break;case"focusin":he="focus",ae=Ks;break;case"focusout":he="blur",ae=Ks;break;case"beforeblur":case"afterblur":ae=Ks;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Bl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=K;break;case Jp:case Zp:case em:ae=vr;break;case tm:ae=Be;break;case"scroll":ae=pd;break;case"wheel":ae=De;break;case"copy":case"cut":case"paste":ae=ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=E}var fe=(s&4)!==0,ot=!fe&&r==="scroll",j=fe?J!==null?J+"Capture":null:J;fe=[];for(var L=q,H;L!==null;){H=L;var ne=H.stateNode;if(H.tag===5&&ne!==null&&(H=ne,j!==null&&(ne=st(L,j),ne!=null&&fe.push(wa(L,ne,H)))),ot)break;L=L.return}0<fe.length&&(J=new ae(J,he,null,a,Z),ee.push({event:J,listeners:fe}))}}if(!(s&7)){e:{if(J=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",J&&a!==Fi&&(he=a.relatedTarget||a.fromElement)&&(Xi(he)||he[wr]))break e;if((ae||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,ae?(he=a.relatedTarget||a.toElement,ae=q,he=he?Xi(he):null,he!==null&&(ot=xn(he),he!==ot||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=q),ae!==he)){if(fe=Ws,ne="onMouseLeave",j="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(fe=E,ne="onPointerLeave",j="onPointerEnter",L="pointer"),ot=ae==null?J:to(ae),H=he==null?J:to(he),J=new fe(ne,L+"leave",ae,a,Z),J.target=ot,J.relatedTarget=H,ne=null,Xi(Z)===q&&(fe=new fe(j,L+"enter",he,a,Z),fe.target=H,fe.relatedTarget=ot,ne=fe),ot=ne,ae&&he)t:{for(fe=ae,j=he,L=0,H=fe;H;H=Zs(H))L++;for(H=0,ne=j;ne;ne=Zs(ne))H++;for(;0<L-H;)fe=Zs(fe),L--;for(;0<H-L;)j=Zs(j),H--;for(;L--;){if(fe===j||j!==null&&fe===j.alternate)break t;fe=Zs(fe),j=Zs(j)}fe=null}else fe=null;ae!==null&&am(ee,J,ae,fe,!1),he!==null&&ot!==null&&am(ee,ot,he,fe,!0)}}e:{if(J=q?to(q):window,ae=J.nodeName&&J.nodeName.toLowerCase(),ae==="select"||ae==="input"&&J.type==="file")var pe=FE;else if(jp(J))if($p)pe=$E;else{pe=jE;var _e=UE}else(ae=J.nodeName)&&ae.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(pe=zE);if(pe&&(pe=pe(r,q))){zp(ee,pe,a,Z);break e}_e&&_e(r,J,q),r==="focusout"&&(_e=J._wrapperState)&&_e.controlled&&J.type==="number"&&Rs(J,"number",J.value)}switch(_e=q?to(q):window,r){case"focusin":(jp(_e)||_e.contentEditable==="true")&&(Xs=_e,_d=q,ya=null);break;case"focusout":ya=_d=Xs=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,Yp(ee,a,Z);break;case"selectionchange":if(WE)break;case"keydown":case"keyup":Yp(ee,a,Z)}var ve;if(lt)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ys?Fp(r,a)&&(Te="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(Yi&&a.locale!=="ko"&&(Ys||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ys&&(ve=ca()):(ln=Z,zs="value"in ln?ln.value:ln.textContent,Ys=!0)),_e=eu(q,Te),0<_e.length&&(Te=new fa(Te,r,null,a,Z),ee.push({event:Te,listeners:_e}),ve?Te.data=ve:(ve=Up(a),ve!==null&&(Te.data=ve)))),(ve=un?LE(r,a):OE(r,a))&&(q=eu(q,"onBeforeInput"),0<q.length&&(Z=new fa("onBeforeInput","beforeinput",null,a,Z),ee.push({event:Z,listeners:q}),Z.data=ve))}sm(ee,s)})}function wa(r,s,a){return{instance:r,listener:s,currentTarget:a}}function eu(r,s){for(var a=s+"Capture",c=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=st(r,a),g!=null&&c.unshift(wa(r,g,f)),g=st(r,s),g!=null&&c.push(wa(r,g,f))),r=r.return}return c}function Zs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function am(r,s,a,c,f){for(var g=s._reactName,v=[];a!==null&&a!==c;){var R=a,N=R.alternate,q=R.stateNode;if(N!==null&&N===c)break;R.tag===5&&q!==null&&(R=q,f?(N=st(a,g),N!=null&&v.unshift(wa(a,N,R))):f||(N=st(a,g),N!=null&&v.push(wa(a,N,R)))),a=a.return}v.length!==0&&r.push({event:s,listeners:v})}var QE=/\r\n?/g,YE=/\u0000|\uFFFD/g;function lm(r){return(typeof r=="string"?r:""+r).replace(QE,`
`).replace(YE,"")}function tu(r,s,a){if(s=lm(s),lm(r)!==s&&a)throw Error(t(425))}function nu(){}var Cd=null,Rd=null;function Ad(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Pd=typeof setTimeout=="function"?setTimeout:void 0,XE=typeof clearTimeout=="function"?clearTimeout:void 0,um=typeof Promise=="function"?Promise:void 0,JE=typeof queueMicrotask=="function"?queueMicrotask:typeof um<"u"?function(r){return um.resolve(null).then(r).catch(ZE)}:Pd;function ZE(r){setTimeout(function(){throw r})}function kd(r,s){var a=s,c=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){r.removeChild(f),On(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);On(s)}function ei(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function cm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var eo=Math.random().toString(36).slice(2),er="__reactFiber$"+eo,Ea="__reactProps$"+eo,wr="__reactContainer$"+eo,xd="__reactEvents$"+eo,e0="__reactListeners$"+eo,t0="__reactHandles$"+eo;function Xi(r){var s=r[er];if(s)return s;for(var a=r.parentNode;a;){if(s=a[wr]||a[er]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=cm(r);r!==null;){if(a=r[er])return a;r=cm(r)}return s}r=a,a=r.parentNode}return null}function Ta(r){return r=r[er]||r[wr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function to(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function ru(r){return r[Ea]||null}var Nd=[],no=-1;function ti(r){return{current:r}}function Qe(r){0>no||(r.current=Nd[no],Nd[no]=null,no--)}function Ke(r,s){no++,Nd[no]=r.current,r.current=s}var ni={},Ot=ti(ni),Xt=ti(!1),Ji=ni;function ro(r,s){var a=r.type.contextTypes;if(!a)return ni;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Jt(r){return r=r.childContextTypes,r!=null}function iu(){Qe(Xt),Qe(Ot)}function dm(r,s,a){if(Ot.current!==ni)throw Error(t(168));Ke(Ot,s),Ke(Xt,a)}function hm(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(t(108,je(r)||"Unknown",f));return le({},a,c)}function su(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ni,Ji=Ot.current,Ke(Ot,r),Ke(Xt,Xt.current),!0}function fm(r,s,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=hm(r,s,Ji),c.__reactInternalMemoizedMergedChildContext=r,Qe(Xt),Qe(Ot),Ke(Ot,r)):Qe(Xt),Ke(Xt,a)}var Er=null,ou=!1,bd=!1;function pm(r){Er===null?Er=[r]:Er.push(r)}function n0(r){ou=!0,pm(r)}function ri(){if(!bd&&Er!==null){bd=!0;var r=0,s=xe;try{var a=Er;for(xe=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Er=null,ou=!1}catch(f){throw Er!==null&&(Er=Er.slice(r+1)),Vs(Bi,ri),f}finally{xe=s,bd=!1}}return null}var io=[],so=0,au=null,lu=0,vn=[],wn=0,Zi=null,Tr=1,Ir="";function es(r,s){io[so++]=lu,io[so++]=au,au=r,lu=s}function mm(r,s,a){vn[wn++]=Tr,vn[wn++]=Ir,vn[wn++]=Zi,Zi=r;var c=Tr;r=Ir;var f=32-Bt(c)-1;c&=~(1<<f),a+=1;var g=32-Bt(s)+f;if(30<g){var v=f-f%5;g=(c&(1<<v)-1).toString(32),c>>=v,f-=v,Tr=1<<32-Bt(s)+f|a<<f|c,Ir=g+r}else Tr=1<<g|a<<f|c,Ir=r}function Dd(r){r.return!==null&&(es(r,1),mm(r,1,0))}function Ld(r){for(;r===au;)au=io[--so],io[so]=null,lu=io[--so],io[so]=null;for(;r===Zi;)Zi=vn[--wn],vn[wn]=null,Ir=vn[--wn],vn[wn]=null,Tr=vn[--wn],vn[wn]=null}var cn=null,dn=null,Je=!1,Fn=null;function gm(r,s){var a=Sn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function ym(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,cn=r,dn=ei(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,cn=r,dn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Zi!==null?{id:Tr,overflow:Ir}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Sn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,cn=r,dn=null,!0):!1;default:return!1}}function Od(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Vd(r){if(Je){var s=dn;if(s){var a=s;if(!ym(r,s)){if(Od(r))throw Error(t(418));s=ei(a.nextSibling);var c=cn;s&&ym(r,s)?gm(c,a):(r.flags=r.flags&-4097|2,Je=!1,cn=r)}}else{if(Od(r))throw Error(t(418));r.flags=r.flags&-4097|2,Je=!1,cn=r}}}function _m(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;cn=r}function uu(r){if(r!==cn)return!1;if(!Je)return _m(r),Je=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Ad(r.type,r.memoizedProps)),s&&(s=dn)){if(Od(r))throw vm(),Error(t(418));for(;s;)gm(r,s),s=ei(s.nextSibling)}if(_m(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){dn=ei(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}dn=null}}else dn=cn?ei(r.stateNode.nextSibling):null;return!0}function vm(){for(var r=dn;r;)r=ei(r.nextSibling)}function oo(){dn=cn=null,Je=!1}function Md(r){Fn===null?Fn=[r]:Fn.push(r)}var r0=te.ReactCurrentBatchConfig;function Ia(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var f=c,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(v){var R=f.refs;v===null?delete R[g]:R[g]=v},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function cu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function wm(r){var s=r._init;return s(r._payload)}function Em(r){function s(j,L){if(r){var H=j.deletions;H===null?(j.deletions=[L],j.flags|=16):H.push(L)}}function a(j,L){if(!r)return null;for(;L!==null;)s(j,L),L=L.sibling;return null}function c(j,L){for(j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function f(j,L){return j=di(j,L),j.index=0,j.sibling=null,j}function g(j,L,H){return j.index=H,r?(H=j.alternate,H!==null?(H=H.index,H<L?(j.flags|=2,L):H):(j.flags|=2,L)):(j.flags|=1048576,L)}function v(j){return r&&j.alternate===null&&(j.flags|=2),j}function R(j,L,H,ne){return L===null||L.tag!==6?(L=Ph(H,j.mode,ne),L.return=j,L):(L=f(L,H),L.return=j,L)}function N(j,L,H,ne){var pe=H.type;return pe===A?Z(j,L,H.props.children,ne,H.key):L!==null&&(L.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ft&&wm(pe)===L.type)?(ne=f(L,H.props),ne.ref=Ia(j,L,H),ne.return=j,ne):(ne=Lu(H.type,H.key,H.props,null,j.mode,ne),ne.ref=Ia(j,L,H),ne.return=j,ne)}function q(j,L,H,ne){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=kh(H,j.mode,ne),L.return=j,L):(L=f(L,H.children||[]),L.return=j,L)}function Z(j,L,H,ne,pe){return L===null||L.tag!==7?(L=ls(H,j.mode,ne,pe),L.return=j,L):(L=f(L,H),L.return=j,L)}function ee(j,L,H){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Ph(""+L,j.mode,H),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case re:return H=Lu(L.type,L.key,L.props,null,j.mode,H),H.ref=Ia(j,null,L),H.return=j,H;case oe:return L=kh(L,j.mode,H),L.return=j,L;case ft:var ne=L._init;return ee(j,ne(L._payload),H)}if(dr(L)||ye(L))return L=ls(L,j.mode,H,null),L.return=j,L;cu(j,L)}return null}function J(j,L,H,ne){var pe=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return pe!==null?null:R(j,L,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case re:return H.key===pe?N(j,L,H,ne):null;case oe:return H.key===pe?q(j,L,H,ne):null;case ft:return pe=H._init,J(j,L,pe(H._payload),ne)}if(dr(H)||ye(H))return pe!==null?null:Z(j,L,H,ne,null);cu(j,H)}return null}function ae(j,L,H,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return j=j.get(H)||null,R(L,j,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case re:return j=j.get(ne.key===null?H:ne.key)||null,N(L,j,ne,pe);case oe:return j=j.get(ne.key===null?H:ne.key)||null,q(L,j,ne,pe);case ft:var _e=ne._init;return ae(j,L,H,_e(ne._payload),pe)}if(dr(ne)||ye(ne))return j=j.get(H)||null,Z(L,j,ne,pe,null);cu(L,ne)}return null}function he(j,L,H,ne){for(var pe=null,_e=null,ve=L,Te=L=0,Ct=null;ve!==null&&Te<H.length;Te++){ve.index>Te?(Ct=ve,ve=null):Ct=ve.sibling;var Ue=J(j,ve,H[Te],ne);if(Ue===null){ve===null&&(ve=Ct);break}r&&ve&&Ue.alternate===null&&s(j,ve),L=g(Ue,L,Te),_e===null?pe=Ue:_e.sibling=Ue,_e=Ue,ve=Ct}if(Te===H.length)return a(j,ve),Je&&es(j,Te),pe;if(ve===null){for(;Te<H.length;Te++)ve=ee(j,H[Te],ne),ve!==null&&(L=g(ve,L,Te),_e===null?pe=ve:_e.sibling=ve,_e=ve);return Je&&es(j,Te),pe}for(ve=c(j,ve);Te<H.length;Te++)Ct=ae(ve,j,Te,H[Te],ne),Ct!==null&&(r&&Ct.alternate!==null&&ve.delete(Ct.key===null?Te:Ct.key),L=g(Ct,L,Te),_e===null?pe=Ct:_e.sibling=Ct,_e=Ct);return r&&ve.forEach(function(hi){return s(j,hi)}),Je&&es(j,Te),pe}function fe(j,L,H,ne){var pe=ye(H);if(typeof pe!="function")throw Error(t(150));if(H=pe.call(H),H==null)throw Error(t(151));for(var _e=pe=null,ve=L,Te=L=0,Ct=null,Ue=H.next();ve!==null&&!Ue.done;Te++,Ue=H.next()){ve.index>Te?(Ct=ve,ve=null):Ct=ve.sibling;var hi=J(j,ve,Ue.value,ne);if(hi===null){ve===null&&(ve=Ct);break}r&&ve&&hi.alternate===null&&s(j,ve),L=g(hi,L,Te),_e===null?pe=hi:_e.sibling=hi,_e=hi,ve=Ct}if(Ue.done)return a(j,ve),Je&&es(j,Te),pe;if(ve===null){for(;!Ue.done;Te++,Ue=H.next())Ue=ee(j,Ue.value,ne),Ue!==null&&(L=g(Ue,L,Te),_e===null?pe=Ue:_e.sibling=Ue,_e=Ue);return Je&&es(j,Te),pe}for(ve=c(j,ve);!Ue.done;Te++,Ue=H.next())Ue=ae(ve,j,Te,Ue.value,ne),Ue!==null&&(r&&Ue.alternate!==null&&ve.delete(Ue.key===null?Te:Ue.key),L=g(Ue,L,Te),_e===null?pe=Ue:_e.sibling=Ue,_e=Ue);return r&&ve.forEach(function(O0){return s(j,O0)}),Je&&es(j,Te),pe}function ot(j,L,H,ne){if(typeof H=="object"&&H!==null&&H.type===A&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case re:e:{for(var pe=H.key,_e=L;_e!==null;){if(_e.key===pe){if(pe=H.type,pe===A){if(_e.tag===7){a(j,_e.sibling),L=f(_e,H.props.children),L.return=j,j=L;break e}}else if(_e.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ft&&wm(pe)===_e.type){a(j,_e.sibling),L=f(_e,H.props),L.ref=Ia(j,_e,H),L.return=j,j=L;break e}a(j,_e);break}else s(j,_e);_e=_e.sibling}H.type===A?(L=ls(H.props.children,j.mode,ne,H.key),L.return=j,j=L):(ne=Lu(H.type,H.key,H.props,null,j.mode,ne),ne.ref=Ia(j,L,H),ne.return=j,j=ne)}return v(j);case oe:e:{for(_e=H.key;L!==null;){if(L.key===_e)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(j,L.sibling),L=f(L,H.children||[]),L.return=j,j=L;break e}else{a(j,L);break}else s(j,L);L=L.sibling}L=kh(H,j.mode,ne),L.return=j,j=L}return v(j);case ft:return _e=H._init,ot(j,L,_e(H._payload),ne)}if(dr(H))return he(j,L,H,ne);if(ye(H))return fe(j,L,H,ne);cu(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,L!==null&&L.tag===6?(a(j,L.sibling),L=f(L,H),L.return=j,j=L):(a(j,L),L=Ph(H,j.mode,ne),L.return=j,j=L),v(j)):a(j,L)}return ot}var ao=Em(!0),Tm=Em(!1),du=ti(null),hu=null,lo=null,Fd=null;function Ud(){Fd=lo=hu=null}function jd(r){var s=du.current;Qe(du),r._currentValue=s}function zd(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function uo(r,s){hu=r,Fd=lo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(Zt=!0),r.firstContext=null)}function En(r){var s=r._currentValue;if(Fd!==r)if(r={context:r,memoizedValue:s,next:null},lo===null){if(hu===null)throw Error(t(308));lo=r,hu.dependencies={lanes:0,firstContext:r}}else lo=lo.next=r;return s}var ts=null;function $d(r){ts===null?ts=[r]:ts.push(r)}function Im(r,s,a,c){var f=s.interleaved;return f===null?(a.next=a,$d(s)):(a.next=f.next,f.next=a),s.interleaved=a,Sr(r,c)}function Sr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ii=!1;function Bd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Cr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function si(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,Ve&2){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,Sr(r,a)}return f=c.interleaved,f===null?(s.next=s,$d(c)):(s.next=f.next,f.next=s),c.interleaved=s,Sr(r,a)}function fu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Gr(r,a)}}function Cm(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=v:g=g.next=v,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function pu(r,s,a,c){var f=r.updateQueue;ii=!1;var g=f.firstBaseUpdate,v=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var N=R,q=N.next;N.next=null,v===null?g=q:v.next=q,v=N;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,R=Z.lastBaseUpdate,R!==v&&(R===null?Z.firstBaseUpdate=q:R.next=q,Z.lastBaseUpdate=N))}if(g!==null){var ee=f.baseState;v=0,Z=q=N=null,R=g;do{var J=R.lane,ae=R.eventTime;if((c&J)===J){Z!==null&&(Z=Z.next={eventTime:ae,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var he=r,fe=R;switch(J=s,ae=a,fe.tag){case 1:if(he=fe.payload,typeof he=="function"){ee=he.call(ae,ee,J);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=fe.payload,J=typeof he=="function"?he.call(ae,ee,J):he,J==null)break e;ee=le({},ee,J);break e;case 2:ii=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,J=f.effects,J===null?f.effects=[R]:J.push(R))}else ae={eventTime:ae,lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Z===null?(q=Z=ae,N=ee):Z=Z.next=ae,v|=J;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;J=R,R=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(Z===null&&(N=ee),f.baseState=N,f.firstBaseUpdate=q,f.lastBaseUpdate=Z,s=f.shared.interleaved,s!==null){f=s;do v|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);is|=v,r.lanes=v,r.memoizedState=ee}}function Rm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var Sa={},tr=ti(Sa),Ca=ti(Sa),Ra=ti(Sa);function ns(r){if(r===Sa)throw Error(t(174));return r}function Hd(r,s){switch(Ke(Ra,s),Ke(Ca,r),Ke(tr,Sa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:mt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=mt(s,r)}Qe(tr),Ke(tr,s)}function co(){Qe(tr),Qe(Ca),Qe(Ra)}function Am(r){ns(Ra.current);var s=ns(tr.current),a=mt(s,r.type);s!==a&&(Ke(Ca,r),Ke(tr,a))}function Wd(r){Ca.current===r&&(Qe(tr),Qe(Ca))}var tt=ti(0);function mu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var qd=[];function Kd(){for(var r=0;r<qd.length;r++)qd[r]._workInProgressVersionPrimary=null;qd.length=0}var gu=te.ReactCurrentDispatcher,Gd=te.ReactCurrentBatchConfig,rs=0,nt=null,yt=null,It=null,yu=!1,Aa=!1,Pa=0,i0=0;function Vt(){throw Error(t(321))}function Qd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Mn(r[a],s[a]))return!1;return!0}function Yd(r,s,a,c,f,g){if(rs=g,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,gu.current=r===null||r.memoizedState===null?l0:u0,r=a(c,f),Aa){g=0;do{if(Aa=!1,Pa=0,25<=g)throw Error(t(301));g+=1,It=yt=null,s.updateQueue=null,gu.current=c0,r=a(c,f)}while(Aa)}if(gu.current=wu,s=yt!==null&&yt.next!==null,rs=0,It=yt=nt=null,yu=!1,s)throw Error(t(300));return r}function Xd(){var r=Pa!==0;return Pa=0,r}function nr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?nt.memoizedState=It=r:It=It.next=r,It}function Tn(){if(yt===null){var r=nt.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var s=It===null?nt.memoizedState:It.next;if(s!==null)It=s,yt=r;else{if(r===null)throw Error(t(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},It===null?nt.memoizedState=It=r:It=It.next=r}return It}function ka(r,s){return typeof s=="function"?s(r):s}function Jd(r){var s=Tn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=yt,f=c.baseQueue,g=a.pending;if(g!==null){if(f!==null){var v=f.next;f.next=g.next,g.next=v}c.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,c=c.baseState;var R=v=null,N=null,q=g;do{var Z=q.lane;if((rs&Z)===Z)N!==null&&(N=N.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),c=q.hasEagerState?q.eagerState:r(c,q.action);else{var ee={lane:Z,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};N===null?(R=N=ee,v=c):N=N.next=ee,nt.lanes|=Z,is|=Z}q=q.next}while(q!==null&&q!==g);N===null?v=c:N.next=R,Mn(c,s.memoizedState)||(Zt=!0),s.memoizedState=c,s.baseState=v,s.baseQueue=N,a.lastRenderedState=c}if(r=a.interleaved,r!==null){f=r;do g=f.lane,nt.lanes|=g,is|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Zd(r){var s=Tn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do g=r(g,v.action),v=v.next;while(v!==f);Mn(g,s.memoizedState)||(Zt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function Pm(){}function km(r,s){var a=nt,c=Tn(),f=s(),g=!Mn(c.memoizedState,f);if(g&&(c.memoizedState=f,Zt=!0),c=c.queue,eh(bm.bind(null,a,c,r),[r]),c.getSnapshot!==s||g||It!==null&&It.memoizedState.tag&1){if(a.flags|=2048,xa(9,Nm.bind(null,a,c,f,s),void 0,null),St===null)throw Error(t(349));rs&30||xm(a,s,f)}return f}function xm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Nm(r,s,a,c){s.value=a,s.getSnapshot=c,Dm(s)&&Lm(r)}function bm(r,s,a){return a(function(){Dm(s)&&Lm(r)})}function Dm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Mn(r,a)}catch{return!0}}function Lm(r){var s=Sr(r,1);s!==null&&$n(s,r,1,-1)}function Om(r){var s=nr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:r},s.queue=r,r=r.dispatch=a0.bind(null,nt,r),[s.memoizedState,r]}function xa(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function Vm(){return Tn().memoizedState}function _u(r,s,a,c){var f=nr();nt.flags|=r,f.memoizedState=xa(1|s,a,void 0,c===void 0?null:c)}function vu(r,s,a,c){var f=Tn();c=c===void 0?null:c;var g=void 0;if(yt!==null){var v=yt.memoizedState;if(g=v.destroy,c!==null&&Qd(c,v.deps)){f.memoizedState=xa(s,a,g,c);return}}nt.flags|=r,f.memoizedState=xa(1|s,a,g,c)}function Mm(r,s){return _u(8390656,8,r,s)}function eh(r,s){return vu(2048,8,r,s)}function Fm(r,s){return vu(4,2,r,s)}function Um(r,s){return vu(4,4,r,s)}function jm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function zm(r,s,a){return a=a!=null?a.concat([r]):null,vu(4,4,jm.bind(null,s,r),a)}function th(){}function $m(r,s){var a=Tn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Qd(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function Bm(r,s){var a=Tn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Qd(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function Hm(r,s,a){return rs&21?(Mn(a,s)||(a=qi(),nt.lanes|=a,is|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,Zt=!0),r.memoizedState=a)}function s0(r,s){var a=xe;xe=a!==0&&4>a?a:4,r(!0);var c=Gd.transition;Gd.transition={};try{r(!1),s()}finally{xe=a,Gd.transition=c}}function Wm(){return Tn().memoizedState}function o0(r,s,a){var c=ui(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},qm(r))Km(s,a);else if(a=Im(r,s,a,c),a!==null){var f=qt();$n(a,r,c,f),Gm(a,s,c)}}function a0(r,s,a){var c=ui(r),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(qm(r))Km(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var v=s.lastRenderedState,R=g(v,a);if(f.hasEagerState=!0,f.eagerState=R,Mn(R,v)){var N=s.interleaved;N===null?(f.next=f,$d(s)):(f.next=N.next,N.next=f),s.interleaved=f;return}}catch{}finally{}a=Im(r,s,f,c),a!==null&&(f=qt(),$n(a,r,c,f),Gm(a,s,c))}}function qm(r){var s=r.alternate;return r===nt||s!==null&&s===nt}function Km(r,s){Aa=yu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Gm(r,s,a){if(a&4194240){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Gr(r,a)}}var wu={readContext:En,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},l0={readContext:En,useCallback:function(r,s){return nr().memoizedState=[r,s===void 0?null:s],r},useContext:En,useEffect:Mm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,_u(4194308,4,jm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return _u(4194308,4,r,s)},useInsertionEffect:function(r,s){return _u(4,2,r,s)},useMemo:function(r,s){var a=nr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=nr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=o0.bind(null,nt,r),[c.memoizedState,r]},useRef:function(r){var s=nr();return r={current:r},s.memoizedState=r},useState:Om,useDebugValue:th,useDeferredValue:function(r){return nr().memoizedState=r},useTransition:function(){var r=Om(!1),s=r[0];return r=s0.bind(null,r[1]),nr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=nt,f=nr();if(Je){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),St===null)throw Error(t(349));rs&30||xm(c,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,Mm(bm.bind(null,c,g,r),[r]),c.flags|=2048,xa(9,Nm.bind(null,c,g,a,s),void 0,null),a},useId:function(){var r=nr(),s=St.identifierPrefix;if(Je){var a=Ir,c=Tr;a=(c&~(1<<32-Bt(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Pa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=i0++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},u0={readContext:En,useCallback:$m,useContext:En,useEffect:eh,useImperativeHandle:zm,useInsertionEffect:Fm,useLayoutEffect:Um,useMemo:Bm,useReducer:Jd,useRef:Vm,useState:function(){return Jd(ka)},useDebugValue:th,useDeferredValue:function(r){var s=Tn();return Hm(s,yt.memoizedState,r)},useTransition:function(){var r=Jd(ka)[0],s=Tn().memoizedState;return[r,s]},useMutableSource:Pm,useSyncExternalStore:km,useId:Wm,unstable_isNewReconciler:!1},c0={readContext:En,useCallback:$m,useContext:En,useEffect:eh,useImperativeHandle:zm,useInsertionEffect:Fm,useLayoutEffect:Um,useMemo:Bm,useReducer:Zd,useRef:Vm,useState:function(){return Zd(ka)},useDebugValue:th,useDeferredValue:function(r){var s=Tn();return yt===null?s.memoizedState=r:Hm(s,yt.memoizedState,r)},useTransition:function(){var r=Zd(ka)[0],s=Tn().memoizedState;return[r,s]},useMutableSource:Pm,useSyncExternalStore:km,useId:Wm,unstable_isNewReconciler:!1};function Un(r,s){if(r&&r.defaultProps){s=le({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function nh(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:le({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Eu={isMounted:function(r){return(r=r._reactInternals)?xn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=qt(),f=ui(r),g=Cr(c,f);g.payload=s,a!=null&&(g.callback=a),s=si(r,g,f),s!==null&&($n(s,r,f,c),fu(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=qt(),f=ui(r),g=Cr(c,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=si(r,g,f),s!==null&&($n(s,r,f,c),fu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=qt(),c=ui(r),f=Cr(a,c);f.tag=2,s!=null&&(f.callback=s),s=si(r,f,c),s!==null&&($n(s,r,c,a),fu(s,r,c))}};function Qm(r,s,a,c,f,g,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,v):s.prototype&&s.prototype.isPureReactComponent?!ga(a,c)||!ga(f,g):!0}function Ym(r,s,a){var c=!1,f=ni,g=s.contextType;return typeof g=="object"&&g!==null?g=En(g):(f=Jt(s)?Ji:Ot.current,c=s.contextTypes,g=(c=c!=null)?ro(r,f):ni),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Eu,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Xm(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Eu.enqueueReplaceState(s,s.state,null)}function rh(r,s,a,c){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},Bd(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=En(g):(g=Jt(s)?Ji:Ot.current,f.context=ro(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(nh(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Eu.enqueueReplaceState(f,f.state,null),pu(r,a,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function ho(r,s){try{var a="",c=s;do a+=Re(c),c=c.return;while(c);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function ih(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function sh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var d0=typeof WeakMap=="function"?WeakMap:Map;function Jm(r,s,a){a=Cr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Pu||(Pu=!0,wh=c),sh(r,s)},a}function Zm(r,s,a){a=Cr(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;a.payload=function(){return c(f)},a.callback=function(){sh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){sh(r,s),typeof c!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})}),a}function eg(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new d0;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(f.add(a),r=C0.bind(null,r,s,a),s.then(r,r))}function tg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function ng(r,s,a,c,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Cr(-1,1),s.tag=2,si(a,s,1))),a.lanes|=1),r)}var h0=te.ReactCurrentOwner,Zt=!1;function Wt(r,s,a,c){s.child=r===null?Tm(s,null,a,c):ao(s,r.child,a,c)}function rg(r,s,a,c,f){a=a.render;var g=s.ref;return uo(s,f),c=Yd(r,s,a,c,g,f),a=Xd(),r!==null&&!Zt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Rr(r,s,f)):(Je&&a&&Dd(s),s.flags|=1,Wt(r,s,c,f),s.child)}function ig(r,s,a,c,f){if(r===null){var g=a.type;return typeof g=="function"&&!Ah(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,sg(r,s,g,c,f)):(r=Lu(a.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var v=g.memoizedProps;if(a=a.compare,a=a!==null?a:ga,a(v,c)&&r.ref===s.ref)return Rr(r,s,f)}return s.flags|=1,r=di(g,c),r.ref=s.ref,r.return=s,s.child=r}function sg(r,s,a,c,f){if(r!==null){var g=r.memoizedProps;if(ga(g,c)&&r.ref===s.ref)if(Zt=!1,s.pendingProps=c=g,(r.lanes&f)!==0)r.flags&131072&&(Zt=!0);else return s.lanes=r.lanes,Rr(r,s,f)}return oh(r,s,a,c,f)}function og(r,s,a){var c=s.pendingProps,f=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(po,hn),hn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ke(po,hn),hn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Ke(po,hn),hn|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,Ke(po,hn),hn|=c;return Wt(r,s,f,a),s.child}function ag(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function oh(r,s,a,c,f){var g=Jt(a)?Ji:Ot.current;return g=ro(s,g),uo(s,f),a=Yd(r,s,a,c,g,f),c=Xd(),r!==null&&!Zt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Rr(r,s,f)):(Je&&c&&Dd(s),s.flags|=1,Wt(r,s,a,f),s.child)}function lg(r,s,a,c,f){if(Jt(a)){var g=!0;su(s)}else g=!1;if(uo(s,f),s.stateNode===null)Iu(r,s),Ym(s,a,c),rh(s,a,c,f),c=!0;else if(r===null){var v=s.stateNode,R=s.memoizedProps;v.props=R;var N=v.context,q=a.contextType;typeof q=="object"&&q!==null?q=En(q):(q=Jt(a)?Ji:Ot.current,q=ro(s,q));var Z=a.getDerivedStateFromProps,ee=typeof Z=="function"||typeof v.getSnapshotBeforeUpdate=="function";ee||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==c||N!==q)&&Xm(s,v,c,q),ii=!1;var J=s.memoizedState;v.state=J,pu(s,c,v,f),N=s.memoizedState,R!==c||J!==N||Xt.current||ii?(typeof Z=="function"&&(nh(s,a,Z,c),N=s.memoizedState),(R=ii||Qm(s,a,R,c,J,N,q))?(ee||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=N),v.props=c,v.state=N,v.context=q,c=R):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{v=s.stateNode,Sm(r,s),R=s.memoizedProps,q=s.type===s.elementType?R:Un(s.type,R),v.props=q,ee=s.pendingProps,J=v.context,N=a.contextType,typeof N=="object"&&N!==null?N=En(N):(N=Jt(a)?Ji:Ot.current,N=ro(s,N));var ae=a.getDerivedStateFromProps;(Z=typeof ae=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==ee||J!==N)&&Xm(s,v,c,N),ii=!1,J=s.memoizedState,v.state=J,pu(s,c,v,f);var he=s.memoizedState;R!==ee||J!==he||Xt.current||ii?(typeof ae=="function"&&(nh(s,a,ae,c),he=s.memoizedState),(q=ii||Qm(s,a,q,c,J,he,N)||!1)?(Z||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,he,N),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,he,N)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=he),v.props=c,v.state=he,v.context=N,c=q):(typeof v.componentDidUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),c=!1)}return ah(r,s,a,c,g,f)}function ah(r,s,a,c,f,g){ag(r,s);var v=(s.flags&128)!==0;if(!c&&!v)return f&&fm(s,a,!1),Rr(r,s,g);c=s.stateNode,h0.current=s;var R=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&v?(s.child=ao(s,r.child,null,g),s.child=ao(s,null,R,g)):Wt(r,s,R,g),s.memoizedState=c.state,f&&fm(s,a,!0),s.child}function ug(r){var s=r.stateNode;s.pendingContext?dm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&dm(r,s.context,!1),Hd(r,s.containerInfo)}function cg(r,s,a,c,f){return oo(),Md(f),s.flags|=256,Wt(r,s,a,c),s.child}var lh={dehydrated:null,treeContext:null,retryLane:0};function uh(r){return{baseLanes:r,cachePool:null,transitions:null}}function dg(r,s,a){var c=s.pendingProps,f=tt.current,g=!1,v=(s.flags&128)!==0,R;if((R=v)||(R=r!==null&&r.memoizedState===null?!1:(f&2)!==0),R?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ke(tt,f&1),r===null)return Vd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(v=c.children,r=c.fallback,g?(c=s.mode,g=s.child,v={mode:"hidden",children:v},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=v):g=Ou(v,c,0,null),r=ls(r,c,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=uh(a),s.memoizedState=lh,r):ch(s,v));if(f=r.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return f0(r,s,v,c,R,f,a);if(g){g=c.fallback,v=s.mode,f=r.child,R=f.sibling;var N={mode:"hidden",children:c.children};return!(v&1)&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=N,s.deletions=null):(c=di(f,N),c.subtreeFlags=f.subtreeFlags&14680064),R!==null?g=di(R,g):(g=ls(g,v,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,v=r.child.memoizedState,v=v===null?uh(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},g.memoizedState=v,g.childLanes=r.childLanes&~a,s.memoizedState=lh,c}return g=r.child,r=g.sibling,c=di(g,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function ch(r,s){return s=Ou({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Tu(r,s,a,c){return c!==null&&Md(c),ao(s,r.child,null,a),r=ch(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function f0(r,s,a,c,f,g,v){if(a)return s.flags&256?(s.flags&=-257,c=ih(Error(t(422))),Tu(r,s,v,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=c.fallback,f=s.mode,c=Ou({mode:"visible",children:c.children},f,0,null),g=ls(g,f,v,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,s.mode&1&&ao(s,r.child,null,v),s.child.memoizedState=uh(v),s.memoizedState=lh,g);if(!(s.mode&1))return Tu(r,s,v,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var R=c.dgst;return c=R,g=Error(t(419)),c=ih(g,c,void 0),Tu(r,s,v,c)}if(R=(v&r.childLanes)!==0,Zt||R){if(c=St,c!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|v)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Sr(r,f),$n(c,r,f,-1))}return Rh(),c=ih(Error(t(421))),Tu(r,s,v,c)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=R0.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,dn=ei(f.nextSibling),cn=s,Je=!0,Fn=null,r!==null&&(vn[wn++]=Tr,vn[wn++]=Ir,vn[wn++]=Zi,Tr=r.id,Ir=r.overflow,Zi=s),s=ch(s,c.children),s.flags|=4096,s)}function hg(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),zd(r.return,s,a)}function dh(r,s,a,c,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=f)}function fg(r,s,a){var c=s.pendingProps,f=c.revealOrder,g=c.tail;if(Wt(r,s,c.children,a),c=tt.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&hg(r,a,s);else if(r.tag===19)hg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Ke(tt,c),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&mu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),dh(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&mu(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}dh(s,!0,a,null,g);break;case"together":dh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Iu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Rr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),is|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=di(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=di(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function p0(r,s,a){switch(s.tag){case 3:ug(s),oo();break;case 5:Am(s);break;case 1:Jt(s.type)&&su(s);break;case 4:Hd(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;Ke(du,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Ke(tt,tt.current&1),s.flags|=128,null):a&s.child.childLanes?dg(r,s,a):(Ke(tt,tt.current&1),r=Rr(r,s,a),r!==null?r.sibling:null);Ke(tt,tt.current&1);break;case 19:if(c=(a&s.childLanes)!==0,r.flags&128){if(c)return fg(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ke(tt,tt.current),c)break;return null;case 22:case 23:return s.lanes=0,og(r,s,a)}return Rr(r,s,a)}var pg,hh,mg,gg;pg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},hh=function(){},mg=function(r,s,a,c){var f=r.memoizedProps;if(f!==c){r=s.stateNode,ns(tr.current);var g=null;switch(a){case"input":f=Oi(r,f),c=Oi(r,c),g=[];break;case"select":f=le({},f,{value:void 0}),c=le({},c,{value:void 0}),g=[];break;case"textarea":f=Wo(r,f),c=Wo(r,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=nu)}Xo(a,c);var v;a=null;for(q in f)if(!c.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var R=f[q];for(v in R)R.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?g||(g=[]):(g=g||[]).push(q,null));for(q in c){var N=c[q];if(R=f!=null?f[q]:void 0,c.hasOwnProperty(q)&&N!==R&&(N!=null||R!=null))if(q==="style")if(R){for(v in R)!R.hasOwnProperty(v)||N&&N.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in N)N.hasOwnProperty(v)&&R[v]!==N[v]&&(a||(a={}),a[v]=N[v])}else a||(g||(g=[]),g.push(q,a)),a=N;else q==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,R=R?R.__html:void 0,N!=null&&R!==N&&(g=g||[]).push(q,N)):q==="children"?typeof N!="string"&&typeof N!="number"||(g=g||[]).push(q,""+N):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(N!=null&&q==="onScroll"&&Ge("scroll",r),g||R===N||(g=[])):(g=g||[]).push(q,N))}a&&(g=g||[]).push("style",a);var q=g;(s.updateQueue=q)&&(s.flags|=4)}},gg=function(r,s,a,c){a!==c&&(s.flags|=4)};function Na(r,s){if(!Je)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Mt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function m0(r,s,a){var c=s.pendingProps;switch(Ld(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(s),null;case 1:return Jt(s.type)&&iu(),Mt(s),null;case 3:return c=s.stateNode,co(),Qe(Xt),Qe(Ot),Kd(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(uu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Fn!==null&&(Ih(Fn),Fn=null))),hh(r,s),Mt(s),null;case 5:Wd(s);var f=ns(Ra.current);if(a=s.type,r!==null&&s.stateNode!=null)mg(r,s,a,c,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return Mt(s),null}if(r=ns(tr.current),uu(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[er]=s,c[Ea]=g,r=(s.mode&1)!==0,a){case"dialog":Ge("cancel",c),Ge("close",c);break;case"iframe":case"object":case"embed":Ge("load",c);break;case"video":case"audio":for(f=0;f<_a.length;f++)Ge(_a[f],c);break;case"source":Ge("error",c);break;case"img":case"image":case"link":Ge("error",c),Ge("load",c);break;case"details":Ge("toggle",c);break;case"input":Cs(c,g),Ge("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ge("invalid",c);break;case"textarea":As(c,g),Ge("invalid",c)}Xo(a,g),f=null;for(var v in g)if(g.hasOwnProperty(v)){var R=g[v];v==="children"?typeof R=="string"?c.textContent!==R&&(g.suppressHydrationWarning!==!0&&tu(c.textContent,R,r),f=["children",R]):typeof R=="number"&&c.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&tu(c.textContent,R,r),f=["children",""+R]):o.hasOwnProperty(v)&&R!=null&&v==="onScroll"&&Ge("scroll",c)}switch(a){case"input":cr(c),Al(c,g,!0);break;case"textarea":cr(c),qo(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=nu)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=v.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=v.createElement(a,{is:c.is}):(r=v.createElement(a),a==="select"&&(v=r,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):r=v.createElementNS(r,a),r[er]=s,r[Ea]=c,pg(r,s,!1,!1),s.stateNode=r;e:{switch(v=Jo(a,c),a){case"dialog":Ge("cancel",r),Ge("close",r),f=c;break;case"iframe":case"object":case"embed":Ge("load",r),f=c;break;case"video":case"audio":for(f=0;f<_a.length;f++)Ge(_a[f],r);f=c;break;case"source":Ge("error",r),f=c;break;case"img":case"image":case"link":Ge("error",r),Ge("load",r),f=c;break;case"details":Ge("toggle",r),f=c;break;case"input":Cs(r,c),f=Oi(r,c),Ge("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=le({},c,{value:void 0}),Ge("invalid",r);break;case"textarea":As(r,c),f=Wo(r,c),Ge("invalid",r);break;default:f=c}Xo(a,f),R=f;for(g in R)if(R.hasOwnProperty(g)){var N=R[g];g==="style"?Qo(r,N):g==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Ko(r,N)):g==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&Br(r,N):typeof N=="number"&&Br(r,""+N):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?N!=null&&g==="onScroll"&&Ge("scroll",r):N!=null&&G(r,g,N,v))}switch(a){case"input":cr(r),Al(r,c,!1);break;case"textarea":cr(r),qo(r);break;case"option":c.value!=null&&r.setAttribute("value",""+ze(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?hr(r,!!c.multiple,g,!1):c.defaultValue!=null&&hr(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=nu)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Mt(s),null;case 6:if(r&&s.stateNode!=null)gg(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=ns(Ra.current),ns(tr.current),uu(s)){if(c=s.stateNode,a=s.memoizedProps,c[er]=s,(g=c.nodeValue!==a)&&(r=cn,r!==null))switch(r.tag){case 3:tu(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&tu(c.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[er]=s,s.stateNode=c}return Mt(s),null;case 13:if(Qe(tt),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Je&&dn!==null&&s.mode&1&&!(s.flags&128))vm(),oo(),s.flags|=98560,g=!1;else if(g=uu(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[er]=s}else oo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Mt(s),g=!1}else Fn!==null&&(Ih(Fn),Fn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(r===null||tt.current&1?_t===0&&(_t=3):Rh())),s.updateQueue!==null&&(s.flags|=4),Mt(s),null);case 4:return co(),hh(r,s),r===null&&va(s.stateNode.containerInfo),Mt(s),null;case 10:return jd(s.type._context),Mt(s),null;case 17:return Jt(s.type)&&iu(),Mt(s),null;case 19:if(Qe(tt),g=s.memoizedState,g===null)return Mt(s),null;if(c=(s.flags&128)!==0,v=g.rendering,v===null)if(c)Na(g,!1);else{if(_t!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(v=mu(r),v!==null){for(s.flags|=128,Na(g,!1),c=v.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,r=c,g.flags&=14680066,v=g.alternate,v===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=v.childLanes,g.lanes=v.lanes,g.child=v.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=v.memoizedProps,g.memoizedState=v.memoizedState,g.updateQueue=v.updateQueue,g.type=v.type,r=v.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ke(tt,tt.current&1|2),s.child}r=r.sibling}g.tail!==null&&qe()>mo&&(s.flags|=128,c=!0,Na(g,!1),s.lanes=4194304)}else{if(!c)if(r=mu(v),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Na(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Je)return Mt(s),null}else 2*qe()-g.renderingStartTime>mo&&a!==1073741824&&(s.flags|=128,c=!0,Na(g,!1),s.lanes=4194304);g.isBackwards?(v.sibling=s.child,s.child=v):(a=g.last,a!==null?a.sibling=v:s.child=v,g.last=v)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=qe(),s.sibling=null,a=tt.current,Ke(tt,c?a&1|2:a&1),s):(Mt(s),null);case 22:case 23:return Ch(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?hn&1073741824&&(Mt(s),s.subtreeFlags&6&&(s.flags|=8192)):Mt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function g0(r,s){switch(Ld(s),s.tag){case 1:return Jt(s.type)&&iu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return co(),Qe(Xt),Qe(Ot),Kd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Wd(s),null;case 13:if(Qe(tt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));oo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Qe(tt),null;case 4:return co(),null;case 10:return jd(s.type._context),null;case 22:case 23:return Ch(),null;case 24:return null;default:return null}}var Su=!1,Ft=!1,y0=typeof WeakSet=="function"?WeakSet:Set,ce=null;function fo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){it(r,s,c)}else a.current=null}function fh(r,s,a){try{a()}catch(c){it(r,s,c)}}var yg=!1;function _0(r,s){if(Cd=Xr,r=Qp(),yd(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var v=0,R=-1,N=-1,q=0,Z=0,ee=r,J=null;t:for(;;){for(var ae;ee!==a||f!==0&&ee.nodeType!==3||(R=v+f),ee!==g||c!==0&&ee.nodeType!==3||(N=v+c),ee.nodeType===3&&(v+=ee.nodeValue.length),(ae=ee.firstChild)!==null;)J=ee,ee=ae;for(;;){if(ee===r)break t;if(J===a&&++q===f&&(R=v),J===g&&++Z===c&&(N=v),(ae=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=ae}a=R===-1||N===-1?null:{start:R,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rd={focusedElem:r,selectionRange:a},Xr=!1,ce=s;ce!==null;)if(s=ce,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ce=r;else for(;ce!==null;){s=ce;try{var he=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var fe=he.memoizedProps,ot=he.memoizedState,j=s.stateNode,L=j.getSnapshotBeforeUpdate(s.elementType===s.type?fe:Un(s.type,fe),ot);j.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){it(s,s.return,ne)}if(r=s.sibling,r!==null){r.return=s.return,ce=r;break}ce=s.return}return he=yg,yg=!1,he}function ba(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&fh(s,a,g)}f=f.next}while(f!==c)}}function Cu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function ph(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function _g(r){var s=r.alternate;s!==null&&(r.alternate=null,_g(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[er],delete s[Ea],delete s[xd],delete s[e0],delete s[t0])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function vg(r){return r.tag===5||r.tag===3||r.tag===4}function wg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||vg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function mh(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=nu));else if(c!==4&&(r=r.child,r!==null))for(mh(r,s,a),r=r.sibling;r!==null;)mh(r,s,a),r=r.sibling}function gh(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(gh(r,s,a),r=r.sibling;r!==null;)gh(r,s,a),r=r.sibling}var kt=null,jn=!1;function oi(r,s,a){for(a=a.child;a!==null;)Eg(r,s,a),a=a.sibling}function Eg(r,s,a){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Hi,a)}catch{}switch(a.tag){case 5:Ft||fo(a,s);case 6:var c=kt,f=jn;kt=null,oi(r,s,a),kt=c,jn=f,kt!==null&&(jn?(r=kt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):kt.removeChild(a.stateNode));break;case 18:kt!==null&&(jn?(r=kt,a=a.stateNode,r.nodeType===8?kd(r.parentNode,a):r.nodeType===1&&kd(r,a),On(r)):kd(kt,a.stateNode));break;case 4:c=kt,f=jn,kt=a.stateNode.containerInfo,jn=!0,oi(r,s,a),kt=c,jn=f;break;case 0:case 11:case 14:case 15:if(!Ft&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,v=g.destroy;g=g.tag,v!==void 0&&(g&2||g&4)&&fh(a,s,v),f=f.next}while(f!==c)}oi(r,s,a);break;case 1:if(!Ft&&(fo(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(R){it(a,s,R)}oi(r,s,a);break;case 21:oi(r,s,a);break;case 22:a.mode&1?(Ft=(c=Ft)||a.memoizedState!==null,oi(r,s,a),Ft=c):oi(r,s,a);break;default:oi(r,s,a)}}function Tg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new y0),s.forEach(function(c){var f=A0.bind(null,r,c);a.has(c)||(a.add(c),c.then(f,f))})}}function zn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var g=r,v=s,R=v;e:for(;R!==null;){switch(R.tag){case 5:kt=R.stateNode,jn=!1;break e;case 3:kt=R.stateNode.containerInfo,jn=!0;break e;case 4:kt=R.stateNode.containerInfo,jn=!0;break e}R=R.return}if(kt===null)throw Error(t(160));Eg(g,v,f),kt=null,jn=!1;var N=f.alternate;N!==null&&(N.return=null),f.return=null}catch(q){it(f,s,q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ig(s,r),s=s.sibling}function Ig(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(zn(s,r),rr(r),c&4){try{ba(3,r,r.return),Cu(3,r)}catch(fe){it(r,r.return,fe)}try{ba(5,r,r.return)}catch(fe){it(r,r.return,fe)}}break;case 1:zn(s,r),rr(r),c&512&&a!==null&&fo(a,a.return);break;case 5:if(zn(s,r),rr(r),c&512&&a!==null&&fo(a,a.return),r.flags&32){var f=r.stateNode;try{Br(f,"")}catch(fe){it(r,r.return,fe)}}if(c&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,v=a!==null?a.memoizedProps:g,R=r.type,N=r.updateQueue;if(r.updateQueue=null,N!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&Bo(f,g),Jo(R,v);var q=Jo(R,g);for(v=0;v<N.length;v+=2){var Z=N[v],ee=N[v+1];Z==="style"?Qo(f,ee):Z==="dangerouslySetInnerHTML"?Ko(f,ee):Z==="children"?Br(f,ee):G(f,Z,ee,q)}switch(R){case"input":Ho(f,g);break;case"textarea":Ps(f,g);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ae=g.value;ae!=null?hr(f,!!g.multiple,ae,!1):J!==!!g.multiple&&(g.defaultValue!=null?hr(f,!!g.multiple,g.defaultValue,!0):hr(f,!!g.multiple,g.multiple?[]:"",!1))}f[Ea]=g}catch(fe){it(r,r.return,fe)}}break;case 6:if(zn(s,r),rr(r),c&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(fe){it(r,r.return,fe)}}break;case 3:if(zn(s,r),rr(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{On(s.containerInfo)}catch(fe){it(r,r.return,fe)}break;case 4:zn(s,r),rr(r);break;case 13:zn(s,r),rr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(vh=qe())),c&4&&Tg(r);break;case 22:if(Z=a!==null&&a.memoizedState!==null,r.mode&1?(Ft=(q=Ft)||Z,zn(s,r),Ft=q):zn(s,r),rr(r),c&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!Z&&r.mode&1)for(ce=r,Z=r.child;Z!==null;){for(ee=ce=Z;ce!==null;){switch(J=ce,ae=J.child,J.tag){case 0:case 11:case 14:case 15:ba(4,J,J.return);break;case 1:fo(J,J.return);var he=J.stateNode;if(typeof he.componentWillUnmount=="function"){c=J,a=J.return;try{s=c,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(fe){it(c,a,fe)}}break;case 5:fo(J,J.return);break;case 22:if(J.memoizedState!==null){Rg(ee);continue}}ae!==null?(ae.return=J,ce=ae):Rg(ee)}Z=Z.sibling}e:for(Z=null,ee=r;;){if(ee.tag===5){if(Z===null){Z=ee;try{f=ee.stateNode,q?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=ee.stateNode,N=ee.memoizedProps.style,v=N!=null&&N.hasOwnProperty("display")?N.display:null,R.style.display=Go("display",v))}catch(fe){it(r,r.return,fe)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=q?"":ee.memoizedProps}catch(fe){it(r,r.return,fe)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===r)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===r)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===r)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:zn(s,r),rr(r),c&4&&Tg(r);break;case 21:break;default:zn(s,r),rr(r)}}function rr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(vg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Br(f,""),c.flags&=-33);var g=wg(r);gh(r,g,f);break;case 3:case 4:var v=c.stateNode.containerInfo,R=wg(r);mh(r,R,v);break;default:throw Error(t(161))}}catch(N){it(r,r.return,N)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function v0(r,s,a){ce=r,Sg(r)}function Sg(r,s,a){for(var c=(r.mode&1)!==0;ce!==null;){var f=ce,g=f.child;if(f.tag===22&&c){var v=f.memoizedState!==null||Su;if(!v){var R=f.alternate,N=R!==null&&R.memoizedState!==null||Ft;R=Su;var q=Ft;if(Su=v,(Ft=N)&&!q)for(ce=f;ce!==null;)v=ce,N=v.child,v.tag===22&&v.memoizedState!==null?Ag(f):N!==null?(N.return=v,ce=N):Ag(f);for(;g!==null;)ce=g,Sg(g),g=g.sibling;ce=f,Su=R,Ft=q}Cg(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,ce=g):Cg(r)}}function Cg(r){for(;ce!==null;){var s=ce;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ft||Cu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Ft)if(a===null)c.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Un(s.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Rm(s,g,c);break;case 3:var v=s.updateQueue;if(v!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Rm(s,v,a)}break;case 5:var R=s.stateNode;if(a===null&&s.flags&4){a=R;var N=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var q=s.alternate;if(q!==null){var Z=q.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&On(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ft||s.flags&512&&ph(s)}catch(J){it(s,s.return,J)}}if(s===r){ce=null;break}if(a=s.sibling,a!==null){a.return=s.return,ce=a;break}ce=s.return}}function Rg(r){for(;ce!==null;){var s=ce;if(s===r){ce=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ce=a;break}ce=s.return}}function Ag(r){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Cu(4,s)}catch(N){it(s,a,N)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(N){it(s,f,N)}}var g=s.return;try{ph(s)}catch(N){it(s,g,N)}break;case 5:var v=s.return;try{ph(s)}catch(N){it(s,v,N)}}}catch(N){it(s,s.return,N)}if(s===r){ce=null;break}var R=s.sibling;if(R!==null){R.return=s.return,ce=R;break}ce=s.return}}var w0=Math.ceil,Ru=te.ReactCurrentDispatcher,yh=te.ReactCurrentOwner,In=te.ReactCurrentBatchConfig,Ve=0,St=null,ut=null,xt=0,hn=0,po=ti(0),_t=0,Da=null,is=0,Au=0,_h=0,La=null,en=null,vh=0,mo=1/0,Ar=null,Pu=!1,wh=null,ai=null,ku=!1,li=null,xu=0,Oa=0,Eh=null,Nu=-1,bu=0;function qt(){return Ve&6?qe():Nu!==-1?Nu:Nu=qe()}function ui(r){return r.mode&1?Ve&2&&xt!==0?xt&-xt:r0.transition!==null?(bu===0&&(bu=qi()),bu):(r=xe,r!==0||(r=window.event,r=r===void 0?16:ua(r.type)),r):1}function $n(r,s,a,c){if(50<Oa)throw Oa=0,Eh=null,Error(t(185));Kr(r,a,c),(!(Ve&2)||r!==St)&&(r===St&&(!(Ve&2)&&(Au|=a),_t===4&&ci(r,xt)),tn(r,c),a===1&&Ve===0&&!(s.mode&1)&&(mo=qe()+500,ou&&ri()))}function tn(r,s){var a=r.callbackNode;mr(r,s);var c=Wi(r,r===St?xt:0);if(c===0)a!==null&&ia(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&ia(a),s===1)r.tag===0?n0(kg.bind(null,r)):pm(kg.bind(null,r)),JE(function(){!(Ve&6)&&ri()}),a=null;else{switch(Qr(c)){case 1:a=Bi;break;case 4:a=Hr;break;case 16:a=gn;break;case 536870912:a=bl;break;default:a=gn}a=Mg(a,Pg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Pg(r,s){if(Nu=-1,bu=0,Ve&6)throw Error(t(327));var a=r.callbackNode;if(go()&&r.callbackNode!==a)return null;var c=Wi(r,r===St?xt:0);if(c===0)return null;if(c&30||c&r.expiredLanes||s)s=Du(r,c);else{s=c;var f=Ve;Ve|=2;var g=Ng();(St!==r||xt!==s)&&(Ar=null,mo=qe()+500,os(r,s));do try{I0();break}catch(R){xg(r,R)}while(!0);Ud(),Ru.current=g,Ve=f,ut!==null?s=0:(St=null,xt=0,s=_t)}if(s!==0){if(s===2&&(f=an(r),f!==0&&(c=f,s=Th(r,f))),s===1)throw a=Da,os(r,0),ci(r,c),tn(r,qe()),a;if(s===6)ci(r,c);else{if(f=r.current.alternate,!(c&30)&&!E0(f)&&(s=Du(r,c),s===2&&(g=an(r),g!==0&&(c=g,s=Th(r,g))),s===1))throw a=Da,os(r,0),ci(r,c),tn(r,qe()),a;switch(r.finishedWork=f,r.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:as(r,en,Ar);break;case 3:if(ci(r,c),(c&130023424)===c&&(s=vh+500-qe(),10<s)){if(Wi(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){qt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Pd(as.bind(null,r,en,Ar),s);break}as(r,en,Ar);break;case 4:if(ci(r,c),(c&4194240)===c)break;for(s=r.eventTimes,f=-1;0<c;){var v=31-Bt(c);g=1<<v,v=s[v],v>f&&(f=v),c&=~g}if(c=f,c=qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*w0(c/1960))-c,10<c){r.timeoutHandle=Pd(as.bind(null,r,en,Ar),c);break}as(r,en,Ar);break;case 5:as(r,en,Ar);break;default:throw Error(t(329))}}}return tn(r,qe()),r.callbackNode===a?Pg.bind(null,r):null}function Th(r,s){var a=La;return r.current.memoizedState.isDehydrated&&(os(r,s).flags|=256),r=Du(r,s),r!==2&&(s=en,en=a,s!==null&&Ih(s)),r}function Ih(r){en===null?en=r:en.push.apply(en,r)}function E0(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],g=f.getSnapshot;f=f.value;try{if(!Mn(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ci(r,s){for(s&=~_h,s&=~Au,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Bt(s),c=1<<a;r[a]=-1,s&=~c}}function kg(r){if(Ve&6)throw Error(t(327));go();var s=Wi(r,0);if(!(s&1))return tn(r,qe()),null;var a=Du(r,s);if(r.tag!==0&&a===2){var c=an(r);c!==0&&(s=c,a=Th(r,c))}if(a===1)throw a=Da,os(r,0),ci(r,s),tn(r,qe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,as(r,en,Ar),tn(r,qe()),null}function Sh(r,s){var a=Ve;Ve|=1;try{return r(s)}finally{Ve=a,Ve===0&&(mo=qe()+500,ou&&ri())}}function ss(r){li!==null&&li.tag===0&&!(Ve&6)&&go();var s=Ve;Ve|=1;var a=In.transition,c=xe;try{if(In.transition=null,xe=1,r)return r()}finally{xe=c,In.transition=a,Ve=s,!(Ve&6)&&ri()}}function Ch(){hn=po.current,Qe(po)}function os(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,XE(a)),ut!==null)for(a=ut.return;a!==null;){var c=a;switch(Ld(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&iu();break;case 3:co(),Qe(Xt),Qe(Ot),Kd();break;case 5:Wd(c);break;case 4:co();break;case 13:Qe(tt);break;case 19:Qe(tt);break;case 10:jd(c.type._context);break;case 22:case 23:Ch()}a=a.return}if(St=r,ut=r=di(r.current,null),xt=hn=s,_t=0,Da=null,_h=Au=is=0,en=La=null,ts!==null){for(s=0;s<ts.length;s++)if(a=ts[s],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,g=a.pending;if(g!==null){var v=g.next;g.next=f,c.next=v}a.pending=c}ts=null}return r}function xg(r,s){do{var a=ut;try{if(Ud(),gu.current=wu,yu){for(var c=nt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}yu=!1}if(rs=0,It=yt=nt=null,Aa=!1,Pa=0,yh.current=null,a===null||a.return===null){_t=1,Da=s,ut=null;break}e:{var g=r,v=a.return,R=a,N=s;if(s=xt,R.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var q=N,Z=R,ee=Z.tag;if(!(Z.mode&1)&&(ee===0||ee===11||ee===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ae=tg(v);if(ae!==null){ae.flags&=-257,ng(ae,v,R,g,s),ae.mode&1&&eg(g,q,s),s=ae,N=q;var he=s.updateQueue;if(he===null){var fe=new Set;fe.add(N),s.updateQueue=fe}else he.add(N);break e}else{if(!(s&1)){eg(g,q,s),Rh();break e}N=Error(t(426))}}else if(Je&&R.mode&1){var ot=tg(v);if(ot!==null){!(ot.flags&65536)&&(ot.flags|=256),ng(ot,v,R,g,s),Md(ho(N,R));break e}}g=N=ho(N,R),_t!==4&&(_t=2),La===null?La=[g]:La.push(g),g=v;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var j=Jm(g,N,s);Cm(g,j);break e;case 1:R=N;var L=g.type,H=g.stateNode;if(!(g.flags&128)&&(typeof L.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(ai===null||!ai.has(H)))){g.flags|=65536,s&=-s,g.lanes|=s;var ne=Zm(g,R,s);Cm(g,ne);break e}}g=g.return}while(g!==null)}Dg(a)}catch(pe){s=pe,ut===a&&a!==null&&(ut=a=a.return);continue}break}while(!0)}function Ng(){var r=Ru.current;return Ru.current=wu,r===null?wu:r}function Rh(){(_t===0||_t===3||_t===2)&&(_t=4),St===null||!(is&268435455)&&!(Au&268435455)||ci(St,xt)}function Du(r,s){var a=Ve;Ve|=2;var c=Ng();(St!==r||xt!==s)&&(Ar=null,os(r,s));do try{T0();break}catch(f){xg(r,f)}while(!0);if(Ud(),Ve=a,Ru.current=c,ut!==null)throw Error(t(261));return St=null,xt=0,_t}function T0(){for(;ut!==null;)bg(ut)}function I0(){for(;ut!==null&&!xl();)bg(ut)}function bg(r){var s=Vg(r.alternate,r,hn);r.memoizedProps=r.pendingProps,s===null?Dg(r):ut=s,yh.current=null}function Dg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=g0(a,s),a!==null){a.flags&=32767,ut=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{_t=6,ut=null;return}}else if(a=m0(a,s,hn),a!==null){ut=a;return}if(s=s.sibling,s!==null){ut=s;return}ut=s=r}while(s!==null);_t===0&&(_t=5)}function as(r,s,a){var c=xe,f=In.transition;try{In.transition=null,xe=1,S0(r,s,a,c)}finally{In.transition=f,xe=c}return null}function S0(r,s,a,c){do go();while(li!==null);if(Ve&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(He(r,g),r===St&&(ut=St=null,xt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||ku||(ku=!0,Mg(gn,function(){return go(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=In.transition,In.transition=null;var v=xe;xe=1;var R=Ve;Ve|=4,yh.current=null,_0(r,a),Ig(a,r),HE(Rd),Xr=!!Cd,Rd=Cd=null,r.current=a,v0(a),ud(),Ve=R,xe=v,In.transition=g}else r.current=a;if(ku&&(ku=!1,li=r,xu=f),g=r.pendingLanes,g===0&&(ai=null),Dl(a.stateNode),tn(r,qe()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Pu)throw Pu=!1,r=wh,wh=null,r;return xu&1&&r.tag!==0&&go(),g=r.pendingLanes,g&1?r===Eh?Oa++:(Oa=0,Eh=r):Oa=0,ri(),null}function go(){if(li!==null){var r=Qr(xu),s=In.transition,a=xe;try{if(In.transition=null,xe=16>r?16:r,li===null)var c=!1;else{if(r=li,li=null,xu=0,Ve&6)throw Error(t(331));var f=Ve;for(Ve|=4,ce=r.current;ce!==null;){var g=ce,v=g.child;if(ce.flags&16){var R=g.deletions;if(R!==null){for(var N=0;N<R.length;N++){var q=R[N];for(ce=q;ce!==null;){var Z=ce;switch(Z.tag){case 0:case 11:case 15:ba(8,Z,g)}var ee=Z.child;if(ee!==null)ee.return=Z,ce=ee;else for(;ce!==null;){Z=ce;var J=Z.sibling,ae=Z.return;if(_g(Z),Z===q){ce=null;break}if(J!==null){J.return=ae,ce=J;break}ce=ae}}}var he=g.alternate;if(he!==null){var fe=he.child;if(fe!==null){he.child=null;do{var ot=fe.sibling;fe.sibling=null,fe=ot}while(fe!==null)}}ce=g}}if(g.subtreeFlags&2064&&v!==null)v.return=g,ce=v;else e:for(;ce!==null;){if(g=ce,g.flags&2048)switch(g.tag){case 0:case 11:case 15:ba(9,g,g.return)}var j=g.sibling;if(j!==null){j.return=g.return,ce=j;break e}ce=g.return}}var L=r.current;for(ce=L;ce!==null;){v=ce;var H=v.child;if(v.subtreeFlags&2064&&H!==null)H.return=v,ce=H;else e:for(v=L;ce!==null;){if(R=ce,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:Cu(9,R)}}catch(pe){it(R,R.return,pe)}if(R===v){ce=null;break e}var ne=R.sibling;if(ne!==null){ne.return=R.return,ce=ne;break e}ce=R.return}}if(Ve=f,ri(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Hi,r)}catch{}c=!0}return c}finally{xe=a,In.transition=s}}return!1}function Lg(r,s,a){s=ho(a,s),s=Jm(r,s,1),r=si(r,s,1),s=qt(),r!==null&&(Kr(r,1,s),tn(r,s))}function it(r,s,a){if(r.tag===3)Lg(r,r,a);else for(;s!==null;){if(s.tag===3){Lg(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ai===null||!ai.has(c))){r=ho(a,r),r=Zm(s,r,1),s=si(s,r,1),r=qt(),s!==null&&(Kr(s,1,r),tn(s,r));break}}s=s.return}}function C0(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=qt(),r.pingedLanes|=r.suspendedLanes&a,St===r&&(xt&a)===a&&(_t===4||_t===3&&(xt&130023424)===xt&&500>qe()-vh?os(r,0):_h|=a),tn(r,s)}function Og(r,s){s===0&&(r.mode&1?(s=Fs,Fs<<=1,!(Fs&130023424)&&(Fs=4194304)):s=1);var a=qt();r=Sr(r,s),r!==null&&(Kr(r,s,a),tn(r,a))}function R0(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Og(r,a)}function A0(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),Og(r,a)}var Vg;Vg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Xt.current)Zt=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return Zt=!1,p0(r,s,a);Zt=!!(r.flags&131072)}else Zt=!1,Je&&s.flags&1048576&&mm(s,lu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Iu(r,s),r=s.pendingProps;var f=ro(s,Ot.current);uo(s,a),f=Yd(null,s,c,r,f,a);var g=Xd();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Jt(c)?(g=!0,su(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Bd(s),f.updater=Eu,s.stateNode=f,f._reactInternals=s,rh(s,c,r,a),s=ah(null,s,c,!0,g,a)):(s.tag=0,Je&&g&&Dd(s),Wt(null,s,f,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Iu(r,s),r=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=k0(c),r=Un(c,r),f){case 0:s=oh(null,s,c,r,a);break e;case 1:s=lg(null,s,c,r,a);break e;case 11:s=rg(null,s,c,r,a);break e;case 14:s=ig(null,s,c,Un(c.type,r),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Un(c,f),oh(r,s,c,f,a);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Un(c,f),lg(r,s,c,f,a);case 3:e:{if(ug(s),r===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,f=g.element,Sm(r,s),pu(s,c,null,a);var v=s.memoizedState;if(c=v.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=ho(Error(t(423)),s),s=cg(r,s,c,a,f);break e}else if(c!==f){f=ho(Error(t(424)),s),s=cg(r,s,c,a,f);break e}else for(dn=ei(s.stateNode.containerInfo.firstChild),cn=s,Je=!0,Fn=null,a=Tm(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(oo(),c===f){s=Rr(r,s,a);break e}Wt(r,s,c,a)}s=s.child}return s;case 5:return Am(s),r===null&&Vd(s),c=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,v=f.children,Ad(c,f)?v=null:g!==null&&Ad(c,g)&&(s.flags|=32),ag(r,s),Wt(r,s,v,a),s.child;case 6:return r===null&&Vd(s),null;case 13:return dg(r,s,a);case 4:return Hd(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=ao(s,null,c,a):Wt(r,s,c,a),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Un(c,f),rg(r,s,c,f,a);case 7:return Wt(r,s,s.pendingProps,a),s.child;case 8:return Wt(r,s,s.pendingProps.children,a),s.child;case 12:return Wt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,g=s.memoizedProps,v=f.value,Ke(du,c._currentValue),c._currentValue=v,g!==null)if(Mn(g.value,v)){if(g.children===f.children&&!Xt.current){s=Rr(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var R=g.dependencies;if(R!==null){v=g.child;for(var N=R.firstContext;N!==null;){if(N.context===c){if(g.tag===1){N=Cr(-1,a&-a),N.tag=2;var q=g.updateQueue;if(q!==null){q=q.shared;var Z=q.pending;Z===null?N.next=N:(N.next=Z.next,Z.next=N),q.pending=N}}g.lanes|=a,N=g.alternate,N!==null&&(N.lanes|=a),zd(g.return,a,s),R.lanes|=a;break}N=N.next}}else if(g.tag===10)v=g.type===s.type?null:g.child;else if(g.tag===18){if(v=g.return,v===null)throw Error(t(341));v.lanes|=a,R=v.alternate,R!==null&&(R.lanes|=a),zd(v,a,s),v=g.sibling}else v=g.child;if(v!==null)v.return=g;else for(v=g;v!==null;){if(v===s){v=null;break}if(g=v.sibling,g!==null){g.return=v.return,v=g;break}v=v.return}g=v}Wt(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,uo(s,a),f=En(f),c=c(f),s.flags|=1,Wt(r,s,c,a),s.child;case 14:return c=s.type,f=Un(c,s.pendingProps),f=Un(c.type,f),ig(r,s,c,f,a);case 15:return sg(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Un(c,f),Iu(r,s),s.tag=1,Jt(c)?(r=!0,su(s)):r=!1,uo(s,a),Ym(s,c,f),rh(s,c,f,a),ah(null,s,c,!0,r,a);case 19:return fg(r,s,a);case 22:return og(r,s,a)}throw Error(t(156,s.tag))};function Mg(r,s){return Vs(r,s)}function P0(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(r,s,a,c){return new P0(r,s,a,c)}function Ah(r){return r=r.prototype,!(!r||!r.isReactComponent)}function k0(r){if(typeof r=="function")return Ah(r)?1:0;if(r!=null){if(r=r.$$typeof,r===V)return 11;if(r===ht)return 14}return 2}function di(r,s){var a=r.alternate;return a===null?(a=Sn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Lu(r,s,a,c,f,g){var v=2;if(c=r,typeof r=="function")Ah(r)&&(v=1);else if(typeof r=="string")v=5;else e:switch(r){case A:return ls(a.children,f,g,s);case I:v=8,f|=8;break;case C:return r=Sn(12,a,s,f|2),r.elementType=C,r.lanes=g,r;case P:return r=Sn(13,a,s,f),r.elementType=P,r.lanes=g,r;case et:return r=Sn(19,a,s,f),r.elementType=et,r.lanes=g,r;case Fe:return Ou(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:v=10;break e;case D:v=9;break e;case V:v=11;break e;case ht:v=14;break e;case ft:v=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Sn(v,a,s,f),s.elementType=r,s.type=c,s.lanes=g,s}function ls(r,s,a,c){return r=Sn(7,r,c,s),r.lanes=a,r}function Ou(r,s,a,c){return r=Sn(22,r,c,s),r.elementType=Fe,r.lanes=a,r.stateNode={isHidden:!1},r}function Ph(r,s,a){return r=Sn(6,r,null,s),r.lanes=a,r}function kh(r,s,a){return s=Sn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function x0(r,s,a,c,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qr(0),this.expirationTimes=qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function xh(r,s,a,c,f,g,v,R,N){return r=new x0(r,s,a,R,N),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Sn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bd(g),r}function N0(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function Fg(r){if(!r)return ni;r=r._reactInternals;e:{if(xn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Jt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Jt(a))return hm(r,a,s)}return s}function Ug(r,s,a,c,f,g,v,R,N){return r=xh(a,c,!0,r,f,g,v,R,N),r.context=Fg(null),a=r.current,c=qt(),f=ui(a),g=Cr(c,f),g.callback=s??null,si(a,g,f),r.current.lanes=f,Kr(r,f,c),tn(r,c),r}function Vu(r,s,a,c){var f=s.current,g=qt(),v=ui(f);return a=Fg(a),s.context===null?s.context=a:s.pendingContext=a,s=Cr(g,v),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=si(f,s,v),r!==null&&($n(r,f,v,g),fu(r,f,v)),v}function Mu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function jg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Nh(r,s){jg(r,s),(r=r.alternate)&&jg(r,s)}var zg=typeof reportError=="function"?reportError:function(r){console.error(r)};function bh(r){this._internalRoot=r}Fu.prototype.render=bh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Vu(r,s,null,null)},Fu.prototype.unmount=bh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ss(function(){Vu(null,r,null,null)}),s[wr]=null}};function Fu(r){this._internalRoot=r}Fu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Fl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Yn.length&&s!==0&&s<Yn[a].priority;a++);Yn.splice(a,0,r),a===0&&zl(r)}};function Dh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Uu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function $g(){}function b0(r,s,a,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var q=Mu(v);g.call(q)}}var v=Ug(s,c,r,0,null,!1,!1,"",$g);return r._reactRootContainer=v,r[wr]=v.current,va(r.nodeType===8?r.parentNode:r),ss(),v}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var R=c;c=function(){var q=Mu(N);R.call(q)}}var N=xh(r,0,!1,null,null,!1,!1,"",$g);return r._reactRootContainer=N,r[wr]=N.current,va(r.nodeType===8?r.parentNode:r),ss(function(){Vu(s,N,a,c)}),N}function ju(r,s,a,c,f){var g=a._reactRootContainer;if(g){var v=g;if(typeof f=="function"){var R=f;f=function(){var N=Mu(v);R.call(N)}}Vu(s,v,r,f)}else v=b0(a,s,r,f,c);return Mu(v)}Vl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Wr(s.pendingLanes);a!==0&&(Gr(s,a|1),tn(s,qe()),!(Ve&6)&&(mo=qe()+500,ri()))}break;case 13:ss(function(){var c=Sr(r,1);if(c!==null){var f=qt();$n(c,r,1,f)}}),Nh(r,1)}},Us=function(r){if(r.tag===13){var s=Sr(r,134217728);if(s!==null){var a=qt();$n(s,r,134217728,a)}Nh(r,134217728)}},Ml=function(r){if(r.tag===13){var s=ui(r),a=Sr(r,s);if(a!==null){var c=qt();$n(a,r,s,c)}Nh(r,s)}},Fl=function(){return xe},Ul=function(r,s){var a=xe;try{return xe=r,s()}finally{xe=a}},xs=function(r,s,a){switch(s){case"input":if(Ho(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var f=ru(c);if(!f)throw Error(t(90));Ss(c),Ho(c,f)}}}break;case"textarea":Ps(r,a);break;case"select":s=a.value,s!=null&&hr(r,!!a.multiple,s,!1)}},Ui=Sh,ea=ss;var D0={usingClientEntryPoint:!1,Events:[Ta,to,ru,Gn,Zo,Sh]},Va={findFiberByHostInstance:Xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L0={bundleType:Va.bundleType,version:Va.version,rendererPackageName:Va.rendererPackageName,rendererConfig:Va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ra(r),r===null?null:r.stateNode},findFiberByHostInstance:Va.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{Hi=zu.inject(L0),on=zu}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D0,nn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dh(s))throw Error(t(200));return N0(r,s,null,a)},nn.createRoot=function(r,s){if(!Dh(r))throw Error(t(299));var a=!1,c="",f=zg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=xh(r,1,!1,null,null,a,!1,c,f),r[wr]=s.current,va(r.nodeType===8?r.parentNode:r),new bh(s)},nn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ra(s),r=r===null?null:r.stateNode,r},nn.flushSync=function(r){return ss(r)},nn.hydrate=function(r,s,a){if(!Uu(s))throw Error(t(200));return ju(null,r,s,!0,a)},nn.hydrateRoot=function(r,s,a){if(!Dh(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,g="",v=zg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),s=Ug(s,null,r,1,a??null,f,!1,g,v),r[wr]=s.current,va(r),c)for(r=0;r<c.length;r++)a=c[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new Fu(s)},nn.render=function(r,s,a){if(!Uu(s))throw Error(t(200));return ju(null,r,s,!1,a)},nn.unmountComponentAtNode=function(r){if(!Uu(r))throw Error(t(40));return r._reactRootContainer?(ss(function(){ju(null,null,r,!1,function(){r._reactRootContainer=null,r[wr]=null})}),!0):!1},nn.unstable_batchedUpdates=Sh,nn.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!Uu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return ju(r,s,a,!1,c)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var Yg;function B0(){if(Yg)return Vh.exports;Yg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vh.exports=$0(),Vh.exports}var Xg;function H0(){if(Xg)return $u;Xg=1;var n=B0();return $u.createRoot=n.createRoot,$u.hydrateRoot=n.hydrateRoot,$u}var W0=H0(),$=Nf();const Me=V0($);var Jg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},q0=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],d=n[t++],h=n[t++],p=((o&7)<<18|(l&63)<<12|(d&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],d=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|d&63)}}return e.join("")},O_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],d=o+1<n.length,h=d?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,w=l>>2,T=(l&3)<<4|h>>4;let S=(h&15)<<2|y>>6,k=y&63;p||(k=64,d||(S=64)),i.push(t[w],t[T],t[S],t[k])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(L_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):q0(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||h==null||y==null||T==null)throw new K0;const S=l<<2|h>>4;if(i.push(S),y!==64){const k=h<<4&240|y>>2;if(i.push(k),T!==64){const O=y<<6&192|T;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class K0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G0=function(n){const e=L_(n);return O_.encodeByteArray(e,!0)},cc=function(n){return G0(n).replace(/\./g,"")},V_=function(n){try{return O_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=()=>Q0().__FIREBASE_DEFAULTS__,X0=()=>{if(typeof process>"u"||typeof Jg>"u")return;const n=Jg.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},J0=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&V_(n[1]);return e&&JSON.parse(e)},Dc=()=>{try{return Y0()||X0()||J0()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},M_=n=>{var e,t;return(t=(e=Dc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Z0=n=>{const e=M_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},F_=()=>{var n;return(n=Dc())===null||n===void 0?void 0:n.config},U_=n=>{var e;return(e=Dc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cc(JSON.stringify(t)),cc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function rT(){var n;const e=(n=Dc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function oT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aT(){const n=$t();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function lT(){return!rT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uT(){try{return typeof indexedDB=="object"}catch{return!1}}function cT(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="FirebaseError";class jr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=dT,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ll.prototype.create)}}class ll{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],d=l?hT(l,i):"Error",h=`${this.serviceName}: ${d} (${o}).`;return new jr(o,h,i)}}function hT(n,e){return n.replace(fT,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const fT=/\{\$([^}]+)}/g;function pT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function dc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],d=e[o];if(Zg(l)&&Zg(d)){if(!dc(l,d))return!1}else if(l!==d)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Zg(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ja(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function za(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function mT(n,e){const t=new gT(n,e);return t.subscribe.bind(t)}class gT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");yT(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Uh),o.error===void 0&&(o.error=Uh),o.complete===void 0&&(o.complete=Uh);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yT(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Uh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(n){return n&&n._delegate?n._delegate:n}class ps{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new eT;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wT(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&d.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const d=this.instances.get(o);return d&&e(d,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:vT(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vT(n){return n===us?void 0:n}function wT(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _T(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Pe||(Pe={}));const TT={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},IT=Pe.INFO,ST={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},CT=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=ST[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bf{constructor(e){this.name=e,this._logLevel=IT,this._logHandler=CT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const RT=(n,e)=>e.some(t=>n instanceof t);let ey,ty;function AT(){return ey||(ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PT(){return ty||(ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j_=new WeakMap,Jh=new WeakMap,z_=new WeakMap,jh=new WeakMap,Df=new WeakMap;function kT(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",d)},l=()=>{t(_i(n.result)),o()},d=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&j_.set(t,n)}).catch(()=>{}),Df.set(e,n),e}function xT(n){if(Jh.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",d),n.removeEventListener("abort",d)},l=()=>{t(),o()},d=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",d),n.addEventListener("abort",d)});Jh.set(n,e)}let Zh={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jh.get(n);if(e==="objectStoreNames")return n.objectStoreNames||z_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _i(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function NT(n){Zh=n(Zh)}function bT(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(zh(this),e,...t);return z_.set(i,e.sort?e.sort():[e]),_i(i)}:PT().includes(n)?function(...e){return n.apply(zh(this),e),_i(j_.get(this))}:function(...e){return _i(n.apply(zh(this),e))}}function DT(n){return typeof n=="function"?bT(n):(n instanceof IDBTransaction&&xT(n),RT(n,AT())?new Proxy(n,Zh):n)}function _i(n){if(n instanceof IDBRequest)return kT(n);if(jh.has(n))return jh.get(n);const e=DT(n);return e!==n&&(jh.set(n,e),Df.set(e,n)),e}const zh=n=>Df.get(n);function LT(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const d=indexedDB.open(n,e),h=_i(d);return i&&d.addEventListener("upgradeneeded",p=>{i(_i(d.result),p.oldVersion,p.newVersion,_i(d.transaction),p)}),t&&d.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const OT=["get","getKey","getAll","getAllKeys","count"],VT=["put","add","delete","clear"],$h=new Map;function ny(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($h.get(e))return $h.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=VT.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||OT.includes(t)))return;const l=async function(d,...h){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(h.shift())),(await Promise.all([y[t](...h),o&&p.done]))[0]};return $h.set(e,l),l}NT(n=>({...n,get:(e,t,i)=>ny(e,t)||n.get(e,t,i),has:(e,t)=>!!ny(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(FT(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function FT(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ef="@firebase/app",ry="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new bf("@firebase/app"),UT="@firebase/app-compat",jT="@firebase/analytics-compat",zT="@firebase/analytics",$T="@firebase/app-check-compat",BT="@firebase/app-check",HT="@firebase/auth",WT="@firebase/auth-compat",qT="@firebase/database",KT="@firebase/data-connect",GT="@firebase/database-compat",QT="@firebase/functions",YT="@firebase/functions-compat",XT="@firebase/installations",JT="@firebase/installations-compat",ZT="@firebase/messaging",eI="@firebase/messaging-compat",tI="@firebase/performance",nI="@firebase/performance-compat",rI="@firebase/remote-config",iI="@firebase/remote-config-compat",sI="@firebase/storage",oI="@firebase/storage-compat",aI="@firebase/firestore",lI="@firebase/vertexai",uI="@firebase/firestore-compat",cI="firebase",dI="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="[DEFAULT]",hI={[ef]:"fire-core",[UT]:"fire-core-compat",[zT]:"fire-analytics",[jT]:"fire-analytics-compat",[BT]:"fire-app-check",[$T]:"fire-app-check-compat",[HT]:"fire-auth",[WT]:"fire-auth-compat",[qT]:"fire-rtdb",[KT]:"fire-data-connect",[GT]:"fire-rtdb-compat",[QT]:"fire-fn",[YT]:"fire-fn-compat",[XT]:"fire-iid",[JT]:"fire-iid-compat",[ZT]:"fire-fcm",[eI]:"fire-fcm-compat",[tI]:"fire-perf",[nI]:"fire-perf-compat",[rI]:"fire-rc",[iI]:"fire-rc-compat",[sI]:"fire-gcs",[oI]:"fire-gcs-compat",[aI]:"fire-fst",[uI]:"fire-fst-compat",[lI]:"fire-vertex","fire-js":"fire-js",[cI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Map,fI=new Map,nf=new Map;function iy(n,e){try{n.container.addComponent(e)}catch(t){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Co(n){const e=n.name;if(nf.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;nf.set(e,n);for(const t of hc.values())iy(t,n);for(const t of fI.values())iy(t,n);return!0}function Lf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vi=new ll("app","Firebase",pI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=dI;function $_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:tf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw vi.create("bad-app-name",{appName:String(o)});if(t||(t=F_()),!t)throw vi.create("no-options");const l=hc.get(o);if(l){if(dc(t,l.options)&&dc(i,l.config))return l;throw vi.create("duplicate-app",{appName:o})}const d=new ET(o);for(const p of nf.values())d.addComponent(p);const h=new mI(t,i,d);return hc.set(o,h),h}function B_(n=tf){const e=hc.get(n);if(!e&&n===tf&&F_())return $_();if(!e)throw vi.create("no-app",{appName:n});return e}function wi(n,e,t){var i;let o=(i=hI[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),d=e.match(/\s|\//);if(l||d){const h=[`Unable to register library "${o}" with version "${e}":`];l&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&d&&h.push("and"),d&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(h.join(" "));return}Co(new ps(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="firebase-heartbeat-database",yI=1,Xa="firebase-heartbeat-store";let Bh=null;function H_(){return Bh||(Bh=LT(gI,yI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xa)}catch(t){console.warn(t)}}}}).catch(n=>{throw vi.create("idb-open",{originalErrorMessage:n.message})})),Bh}async function _I(n){try{const t=(await H_()).transaction(Xa),i=await t.objectStore(Xa).get(W_(n));return await t.done,i}catch(e){if(e instanceof jr)Or.warn(e.message);else{const t=vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Or.warn(t.message)}}}async function sy(n,e){try{const i=(await H_()).transaction(Xa,"readwrite");await i.objectStore(Xa).put(e,W_(n)),await i.done}catch(t){if(t instanceof jr)Or.warn(t.message);else{const i=vi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Or.warn(i.message)}}}function W_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=1024,wI=30;class EI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new II(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=oy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(d=>d.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>wI){const d=SI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Or.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=oy(),{heartbeatsToSend:i,unsentEntries:o}=TI(this._heartbeatsCache.heartbeats),l=cc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Or.warn(t),""}}}function oy(){return new Date().toISOString().substring(0,10)}function TI(n,e=vI){const t=[];let i=n.slice();for(const o of n){const l=t.find(d=>d.agent===o.agent);if(l){if(l.dates.push(o.date),ay(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),ay(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class II{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uT()?cT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _I(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return sy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return sy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ay(n){return cc(JSON.stringify({version:2,heartbeats:n})).length}function SI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(n){Co(new ps("platform-logger",e=>new MT(e),"PRIVATE")),Co(new ps("heartbeat",e=>new EI(e),"PRIVATE")),wi(ef,ry,n),wi(ef,ry,"esm2017"),wi("fire-js","")}CI("");function Of(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function q_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RI=q_,K_=new ll("auth","Firebase",q_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new bf("@firebase/auth");function AI(n,...e){fc.logLevel<=Pe.WARN&&fc.warn(`Auth (${Do}): ${n}`,...e)}function Xu(n,...e){fc.logLevel<=Pe.ERROR&&fc.error(`Auth (${Do}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(n,...e){throw Mf(n,...e)}function Bn(n,...e){return Mf(n,...e)}function Vf(n,e,t){const i=Object.assign(Object.assign({},RI()),{[e]:t});return new ll("auth","Firebase",i).create(e,{appName:n.name})}function br(n){return Vf(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PI(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Rn(n,"argument-error"),Vf(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mf(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return K_.create(n,...e)}function we(n,e,...t){if(!n)throw Mf(e,...t)}function kr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Xu(e),new Error(e)}function Vr(n,e){n||kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function kI(){return ly()==="http:"||ly()==="https:"}function ly(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kI()||sT()||"connection"in navigator)?navigator.onLine:!0}function NI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vr(t>e,"Short delay should be less than long delay!"),this.isMobile=nT()||oT()}get(){return xI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(n,e){Vr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new cl(3e4,6e4);function xi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ni(n,e,t,i,o={}){return Q_(n,o,async()=>{let l={},d={};i&&(e==="GET"?d=i:l={body:JSON.stringify(i)});const h=ul(Object.assign({key:n.config.apiKey},d)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return iT()||(y.referrerPolicy="no-referrer"),G_.fetch()(Y_(n,n.config.apiHost,t,h),y)})}async function Q_(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},bI),e);try{const o=new OI(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw Bu(n,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const h=l.ok?d.errorMessage:d.error.message,[p,y]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bu(n,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Bu(n,"email-already-in-use",d);if(p==="USER_DISABLED")throw Bu(n,"user-disabled",d);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Vf(n,w,y);Rn(n,w)}}catch(o){if(o instanceof jr)throw o;Rn(n,"network-request-failed",{message:String(o)})}}async function dl(n,e,t,i,o={}){const l=await Ni(n,e,t,i,o);return"mfaPendingCredential"in l&&Rn(n,"multi-factor-auth-required",{_serverResponse:l}),l}function Y_(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Ff(n.config,o):`${n.config.apiScheme}://${o}`}function LI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Bn(this.auth,"network-request-failed")),DI.get())})}}function Bu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Bn(n,e,i);return o.customData._tokenResponse=t,o}function uy(n){return n!==void 0&&n.enterprise!==void 0}class VI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return LI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MI(n,e){return Ni(n,"GET","/v2/recaptchaConfig",xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(n,e){return Ni(n,"POST","/v1/accounts:delete",e)}async function X_(n,e){return Ni(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UI(n,e=!1){const t=Dt(n),i=await t.getIdToken(e),o=Uf(i);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,d=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:qa(Hh(o.auth_time)),issuedAtTime:qa(Hh(o.iat)),expirationTime:qa(Hh(o.exp)),signInProvider:d||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Hh(n){return Number(n)*1e3}function Uf(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Xu("JWT malformed, contained fewer than 3 sections"),null;try{const o=V_(t);return o?JSON.parse(o):(Xu("Failed to decode base64 JWT payload"),null)}catch(o){return Xu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function cy(n){const e=Uf(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof jr&&jI(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function jI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qa(this.lastLoginAt),this.creationTime=qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Ja(n,X_(t,{idToken:i}));we(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const d=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?J_(l.providerUserInfo):[],h=BI(n.providerData,d),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(h!=null&&h.length),w=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new sf(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(n,T)}async function $I(n){const e=Dt(n);await pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BI(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function J_(n){return n.map(e=>{var{providerId:t}=e,i=Of(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(n,e){const t=await Q_(n,{},async()=>{const i=ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,d=Y_(n,o,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",G_.fetch()(d,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function WI(n,e){return Ni(n,"POST","/v2/accounts:revokeToken",xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=cy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await HI(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,d=new Eo;return i&&(we(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(we(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),l&&(we(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Of(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new sf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Ja(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return UI(this,e)}reload(){return $I(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await pc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fn(this.auth.app))return Promise.reject(br(this.auth));const e=await this.getIdToken();return await Ja(this,FI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,d,h,p,y,w;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,k=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(d=t.photoURL)!==null&&d!==void 0?d:void 0,F=(h=t.tenantId)!==null&&h!==void 0?h:void 0,b=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,B=(y=t.createdAt)!==null&&y!==void 0?y:void 0,z=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:G,emailVerified:te,isAnonymous:re,providerData:oe,stsTokenManager:A}=t;we(G&&A,e,"internal-error");const I=Eo.fromJSON(this.name,A);we(typeof G=="string",e,"internal-error"),fi(T,e.name),fi(S,e.name),we(typeof te=="boolean",e,"internal-error"),we(typeof re=="boolean",e,"internal-error"),fi(k,e.name),fi(O,e.name),fi(F,e.name),fi(b,e.name),fi(B,e.name),fi(z,e.name);const C=new xr({uid:G,auth:e,email:S,emailVerified:te,displayName:T,isAnonymous:re,photoURL:O,phoneNumber:k,tenantId:F,stsTokenManager:I,createdAt:B,lastLoginAt:z});return oe&&Array.isArray(oe)&&(C.providerData=oe.map(x=>Object.assign({},x))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new Eo;o.updateFromServerResponse(t);const l=new xr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await pc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];we(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?J_(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),h=new Eo;h.updateFromIdToken(i);const p=new xr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new sf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=new Map;function Nr(n){Vr(n instanceof Function,"Expected a class definition");let e=dy.get(n);return e?(Vr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,dy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Z_.type="NONE";const hy=Z_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(n,e,t){return`firebase:${n}:${e}:${t}`}class To{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Ju(this.userKey,o.apiKey,l),this.fullPersistenceKey=Ju("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new To(Nr(hy),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Nr(hy);const d=Ju(i,e.config.apiKey,e.name);let h=null;for(const y of t)try{const w=await y._get(d);if(w){const T=xr._fromJSON(e,w);y!==l&&(h=T),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new To(l,e,i):(l=p[0],h&&await l._set(d,h.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(d)}catch{}})),new To(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ev(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sv(e))return"Blackberry";if(ov(e))return"Webos";if(tv(e))return"Safari";if((e.includes("chrome/")||nv(e))&&!e.includes("edge/"))return"Chrome";if(iv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function ev(n=$t()){return/firefox\//i.test(n)}function tv(n=$t()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nv(n=$t()){return/crios\//i.test(n)}function rv(n=$t()){return/iemobile/i.test(n)}function iv(n=$t()){return/android/i.test(n)}function sv(n=$t()){return/blackberry/i.test(n)}function ov(n=$t()){return/webos/i.test(n)}function jf(n=$t()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qI(n=$t()){var e;return jf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KI(){return aT()&&document.documentMode===10}function av(n=$t()){return jf(n)||iv(n)||ov(n)||sv(n)||/windows phone/i.test(n)||rv(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(n,e=[]){let t;switch(n){case"Browser":t=fy($t());break;case"Worker":t=`${fy($t())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Do}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((d,h)=>{try{const p=e(l);d(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(n,e={}){return Ni(n,"GET","/v2/passwordPolicy",xi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=6;class XI{constructor(e){var t,i,o,l;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:YI,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,d,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new py(this),this.idTokenSubscription=new py(this),this.beforeStateQueue=new GI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await To.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await X_(this,{idToken:e}),i=await xr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(fn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===h)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fn(this.app))return Promise.reject(br(this));const t=e?Dt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fn(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fn(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QI(this),t=new XI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ll("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await WI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Nr(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[Nr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let d=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{d||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{d=!0,p()}}else{const p=e.addObserver(t);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&AI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function bi(n){return Dt(n)}class py{constructor(e){this.auth=e,this.observer=null,this.addObserver=mT(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZI(n){Lc=n}function uv(n){return Lc.loadJS(n)}function e1(){return Lc.recaptchaEnterpriseScript}function t1(){return Lc.gapiScript}function n1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class r1{constructor(){this.enterprise=new i1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class i1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const s1="recaptcha-enterprise",cv="NO_RECAPTCHA";class o1{constructor(e){this.type=s1,this.auth=bi(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,h)=>{MI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const y=new VI(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,d(y.siteKey)}}).catch(p=>{h(p)})})}function o(l,d,h){const p=window.grecaptcha;uy(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{d(y)}).catch(()=>{d(cv)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new r1().execute("siteKey",{action:"verify"}):new Promise((l,d)=>{i(this.auth).then(h=>{if(!t&&uy(window.grecaptcha))o(h,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=e1();p.length!==0&&(p+=h),uv(p).then(()=>{o(h,l,d)}).catch(y=>{d(y)})}}).catch(h=>{d(h)})})}}async function my(n,e,t,i=!1,o=!1){const l=new o1(n);let d;if(o)d=cv;else try{d=await l.verify(t)}catch{d=await l.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,y=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:d}):Object.assign(h,{captchaResponse:d}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function of(n,e,t,i,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await my(n,e,t,t==="getOobCode");return i(n,d)}else return i(n,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await my(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(n,e){const t=Lf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(dc(l,e??{}))return o;Rn(o,"already-initialized")}return t.initialize({options:e})}function l1(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Nr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function u1(n,e,t){const i=bi(n);we(i._canInitEmulator,i,"emulator-config-failed"),we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=dv(e),{host:d,port:h}=c1(e),p=h===null?"":`:${h}`;i.config.emulator={url:`${l}//${d}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:d,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),d1()}function dv(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function c1(n){const e=dv(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:gy(i.substr(l.length+1))}}else{const[l,d]=i.split(":");return{host:l,port:gy(d)}}}function gy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function d1(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,t){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}async function h1(n,e){return Ni(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(n,e){return dl(n,"POST","/v1/accounts:signInWithPassword",xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(n,e){return dl(n,"POST","/v1/accounts:signInWithEmailLink",xi(n,e))}async function m1(n,e){return dl(n,"POST","/v1/accounts:signInWithEmailLink",xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends zf{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Za(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Za(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return of(e,t,"signInWithPassword",f1);case"emailLink":return p1(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return of(e,i,"signUpPassword",h1);case"emailLink":return m1(e,{idToken:t,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(n,e){return dl(n,"POST","/v1/accounts:signInWithIdp",xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="http://localhost";class ms extends zf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Of(t,["providerId","signInMethod"]);if(!i||!o)return null;const d=new ms(i,o);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Io(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Io(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Io(e,t)}buildRequest(){const e={requestUri:g1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ul(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _1(n){const e=ja(za(n)).link,t=e?ja(za(e)).deep_link_id:null,i=ja(za(n)).deep_link_id;return(i?ja(za(i)).link:null)||i||t||e||n}class $f{constructor(e){var t,i,o,l,d,h;const p=ja(za(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,w=(i=p.oobCode)!==null&&i!==void 0?i:null,T=y1((o=p.mode)!==null&&o!==void 0?o:null);we(y&&w&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=w,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=_1(e);try{return new $f(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,t){return Za._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=$f.parseLink(t);return we(i,"argument-error"),Za._fromEmailAndCode(e,i.code,i.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends Bf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends hl{constructor(){super("facebook.com")}static credential(e){return ms._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends hl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ms._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Pr.credential(t,i)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends hl{constructor(){super("github.com")}static credential(e){return ms._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com";mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends hl{constructor(){super("twitter.com")}static credential(e,t){return ms._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return gi.credential(t,i)}catch{return null}}}gi.TWITTER_SIGN_IN_METHOD="twitter.com";gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(n,e){return dl(n,"POST","/v1/accounts:signUp",xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await xr._fromIdTokenResponse(e,i,o),d=yy(i);return new gs({user:l,providerId:d,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=yy(i);return new gs({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function yy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends jr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,mc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new mc(e,t,i,o)}}function hv(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?mc._fromErrorAndOperation(n,l,e,i):l})}async function w1(n,e,t=!1){const i=await Ja(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return gs._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(n,e,t=!1){const{auth:i}=n;if(fn(i.app))return Promise.reject(br(i));const o="reauthenticate";try{const l=await Ja(n,hv(i,o,e,n),t);we(l.idToken,i,"internal-error");const d=Uf(l.idToken);we(d,i,"internal-error");const{sub:h}=d;return we(n.uid===h,i,"user-mismatch"),gs._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Rn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fv(n,e,t=!1){if(fn(n.app))return Promise.reject(br(n));const i="signIn",o=await hv(n,i,e),l=await gs._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function T1(n,e){return fv(bi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pv(n){const e=bi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function I1(n,e,t){if(fn(n.app))return Promise.reject(br(n));const i=bi(n),d=await of(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",v1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&pv(n),p}),h=await gs._fromIdTokenResponse(i,"signIn",d);return await i._updateCurrentUser(h.user),h}function S1(n,e,t){return fn(n.app)?Promise.reject(br(n)):T1(Dt(n),Lo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&pv(n),i})}function C1(n,e,t,i){return Dt(n).onIdTokenChanged(e,t,i)}function R1(n,e,t){return Dt(n).beforeAuthStateChanged(e,t)}function A1(n,e,t,i){return Dt(n).onAuthStateChanged(e,t,i)}const gc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gc,"1"),this.storage.removeItem(gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=1e3,k1=10;class gv extends mv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=av(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,h,p)=>{this.notifyListeners(d,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!t&&this.localCache[i]===d||this.notifyListeners(i,d)},l=this.storage.getItem(i);KI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,k1):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},P1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gv.type="LOCAL";const x1=gv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv extends mv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yv.type="SESSION";const _v=yv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Oc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(d).map(async y=>y(t.origin,l)),p=await N1(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,d;return new Promise((h,p)=>{const y=Hf("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(S.data.response);break;default:clearTimeout(w),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return window}function D1(n){sr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function L1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O1(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function V1(){return vv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="firebaseLocalStorageDb",M1=1,yc="firebaseLocalStorage",Ev="fbase_key";class fl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vc(n,e){return n.transaction([yc],e?"readwrite":"readonly").objectStore(yc)}function F1(){const n=indexedDB.deleteDatabase(wv);return new fl(n).toPromise()}function af(){const n=indexedDB.open(wv,M1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(yc,{keyPath:Ev})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(yc)?e(i):(i.close(),await F1(),e(await af()))})})}async function _y(n,e,t){const i=Vc(n,!0).put({[Ev]:e,value:t});return new fl(i).toPromise()}async function U1(n,e){const t=Vc(n,!1).get(e),i=await new fl(t).toPromise();return i===void 0?null:i.value}function vy(n,e){const t=Vc(n,!0).delete(e);return new fl(t).toPromise()}const j1=800,z1=3;class Tv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await af(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>z1)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oc._getInstance(V1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await L1(),!this.activeServiceWorker)return;this.sender=new b1(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await af();return await _y(e,gc,"1"),await vy(e,gc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>_y(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>U1(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>vy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Vc(o,!1).getAll();return new fl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Tv.type="LOCAL";const $1=Tv;new cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(n,e){return e?Nr(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends zf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Io(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function B1(n){return fv(n.auth,new Wf(n),n.bypassAuthState)}function H1(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),E1(t,new Wf(n),n.bypassAuthState)}async function W1(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),w1(t,new Wf(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:d,type:h}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B1;case"linkViaPopup":case"linkViaRedirect":return W1;case"reauthViaPopup":case"reauthViaRedirect":return H1;default:Rn(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=new cl(2e3,1e4);async function K1(n,e,t){if(fn(n.app))return Promise.reject(Bn(n,"operation-not-supported-in-this-environment"));const i=bi(n);PI(n,e,Bf);const o=Iv(i,t);return new cs(i,"signInViaPopup",e,o).executeNotNull()}class cs extends Sv{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,cs.currentPopupAction&&cs.currentPopupAction.cancel(),cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const e=Hf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q1.get())};e()}}cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="pendingRedirect",Zu=new Map;class Q1 extends Sv{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Zu.get(this.auth._key());if(!e){try{const i=await Y1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Zu.set(this.auth._key(),e)}return this.bypassAuthState||Zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y1(n,e){const t=Z1(e),i=J1(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function X1(n,e){Zu.set(n._key(),e)}function J1(n){return Nr(n._redirectPersistence)}function Z1(n){return Ju(G1,n.config.apiKey,n.name)}async function eS(n,e,t=!1){if(fn(n.app))return Promise.reject(br(n));const i=bi(n),o=Iv(i,e),d=await new Q1(i,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=10*60*1e3;class nS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rS(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Cv(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Bn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tS&&this.cachedEventUids.clear(),this.cachedEventUids.has(wy(e))}saveEventToCache(e){this.cachedEventUids.add(wy(e)),this.lastProcessedEventTime=Date.now()}}function wy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Cv({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rS(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cv(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iS(n,e={}){return Ni(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oS=/^https?/;async function aS(n){if(n.config.emulator)return;const{authorizedDomains:e}=await iS(n);for(const t of e)try{if(lS(t))return}catch{}Rn(n,"unauthorized-domain")}function lS(n){const e=rf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===i}if(!oS.test(t))return!1;if(sS.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=new cl(3e4,6e4);function Ey(){const n=sr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function cS(n){return new Promise((e,t)=>{var i,o,l;function d(){Ey(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ey(),t(Bn(n,"network-request-failed"))},timeout:uS.get()})}if(!((o=(i=sr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=sr().gapi)===null||l===void 0)&&l.load)d();else{const h=n1("iframefcb");return sr()[h]=()=>{gapi.load?d():t(Bn(n,"network-request-failed"))},uv(`${t1()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw ec=null,e})}let ec=null;function dS(n){return ec=ec||cS(n),ec}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=new cl(5e3,15e3),fS="__/auth/iframe",pS="emulator/auth/iframe",mS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yS(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ff(e,pS):`https://${n.config.authDomain}/${fS}`,i={apiKey:e.apiKey,appName:n.name,v:Do},o=gS.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${ul(i).slice(1)}`}async function _S(n){const e=await dS(n),t=sr().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:yS(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mS,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const d=Bn(n,"network-request-failed"),h=sr().setTimeout(()=>{l(d)},hS.get());function p(){sr().clearTimeout(h),o(i)}i.ping(p).then(p,()=>{l(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wS=500,ES=600,TS="_blank",IS="http://localhost";class Ty{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SS(n,e,t,i=wS,o=ES){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p=Object.assign(Object.assign({},vS),{width:i.toString(),height:o.toString(),top:l,left:d}),y=$t().toLowerCase();t&&(h=nv(y)?TS:t),ev(y)&&(e=e||IS,p.scrollbars="yes");const w=Object.entries(p).reduce((S,[k,O])=>`${S}${k}=${O},`,"");if(qI(y)&&h!=="_self")return CS(e||"",h),new Ty(null);const T=window.open(e||"",h,w);we(T,n,"popup-blocked");try{T.focus()}catch{}return new Ty(T)}function CS(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="__/auth/handler",AS="emulator/auth/handler",PS=encodeURIComponent("fac");async function Iy(n,e,t,i,o,l){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Do,eventId:o};if(e instanceof Bf){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",pT(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))d[w]=T}if(e instanceof hl){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(d.scopes=w.join(","))}n.tenantId&&(d.tid=n.tenantId);const h=d;for(const w of Object.keys(h))h[w]===void 0&&delete h[w];const p=await n._getAppCheckToken(),y=p?`#${PS}=${encodeURIComponent(p)}`:"";return`${kS(n)}?${ul(h).slice(1)}${y}`}function kS({config:n}){return n.emulator?Ff(n,AS):`https://${n.authDomain}/${RS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="webStorageSupport";class xS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_v,this._completeRedirectFn=eS,this._overrideRedirectResult=X1}async _openPopup(e,t,i,o){var l;Vr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const d=await Iy(e,t,i,rf(),o);return SS(e,d,Hf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Iy(e,t,i,rf(),o);return D1(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Vr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await _S(e),i=new nS(e);return t.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wh,{type:Wh},o=>{var l;const d=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Wh];d!==void 0&&t(!!d),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=aS(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return av()||tv()||jf()}}const NS=xS;var Sy="@firebase/auth",Cy="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LS(n){Co(new ps("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:h}=i.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:d,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lv(n)},y=new JI(i,o,l,p);return l1(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Co(new ps("auth-internal",e=>{const t=bi(e.getProvider("auth").getImmediate());return(i=>new bS(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(Sy,Cy,DS(n)),wi(Sy,Cy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=5*60,VS=U_("authIdTokenMaxAge")||OS;let Ry=null;const MS=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>VS)return;const o=t==null?void 0:t.token;Ry!==o&&(Ry=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function FS(n=B_()){const e=Lf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=a1(n,{popupRedirectResolver:NS,persistence:[$1,x1,_v]}),i=U_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const d=MS(l.toString());R1(t,d,()=>d(t.currentUser)),C1(t,h=>d(h))}}const o=M_("auth");return o&&u1(t,`http://${o}`),t}function US(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZI({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=Bn("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",US().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LS("Browser");var jS="firebase",zS="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi(jS,zS,"app");var Ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ei,Rv;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,I){function C(){}C.prototype=I.prototype,A.D=I.prototype,A.prototype=new C,A.prototype.constructor=A,A.C=function(x,D,V){for(var P=Array(arguments.length-2),et=2;et<arguments.length;et++)P[et-2]=arguments[et];return I.prototype[D].apply(x,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,I,C){C||(C=0);var x=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)x[D]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(D=0;16>D;++D)x[D]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=A.g[0],C=A.g[1],D=A.g[2];var V=A.g[3],P=I+(V^C&(D^V))+x[0]+3614090360&4294967295;I=C+(P<<7&4294967295|P>>>25),P=V+(D^I&(C^D))+x[1]+3905402710&4294967295,V=I+(P<<12&4294967295|P>>>20),P=D+(C^V&(I^C))+x[2]+606105819&4294967295,D=V+(P<<17&4294967295|P>>>15),P=C+(I^D&(V^I))+x[3]+3250441966&4294967295,C=D+(P<<22&4294967295|P>>>10),P=I+(V^C&(D^V))+x[4]+4118548399&4294967295,I=C+(P<<7&4294967295|P>>>25),P=V+(D^I&(C^D))+x[5]+1200080426&4294967295,V=I+(P<<12&4294967295|P>>>20),P=D+(C^V&(I^C))+x[6]+2821735955&4294967295,D=V+(P<<17&4294967295|P>>>15),P=C+(I^D&(V^I))+x[7]+4249261313&4294967295,C=D+(P<<22&4294967295|P>>>10),P=I+(V^C&(D^V))+x[8]+1770035416&4294967295,I=C+(P<<7&4294967295|P>>>25),P=V+(D^I&(C^D))+x[9]+2336552879&4294967295,V=I+(P<<12&4294967295|P>>>20),P=D+(C^V&(I^C))+x[10]+4294925233&4294967295,D=V+(P<<17&4294967295|P>>>15),P=C+(I^D&(V^I))+x[11]+2304563134&4294967295,C=D+(P<<22&4294967295|P>>>10),P=I+(V^C&(D^V))+x[12]+1804603682&4294967295,I=C+(P<<7&4294967295|P>>>25),P=V+(D^I&(C^D))+x[13]+4254626195&4294967295,V=I+(P<<12&4294967295|P>>>20),P=D+(C^V&(I^C))+x[14]+2792965006&4294967295,D=V+(P<<17&4294967295|P>>>15),P=C+(I^D&(V^I))+x[15]+1236535329&4294967295,C=D+(P<<22&4294967295|P>>>10),P=I+(D^V&(C^D))+x[1]+4129170786&4294967295,I=C+(P<<5&4294967295|P>>>27),P=V+(C^D&(I^C))+x[6]+3225465664&4294967295,V=I+(P<<9&4294967295|P>>>23),P=D+(I^C&(V^I))+x[11]+643717713&4294967295,D=V+(P<<14&4294967295|P>>>18),P=C+(V^I&(D^V))+x[0]+3921069994&4294967295,C=D+(P<<20&4294967295|P>>>12),P=I+(D^V&(C^D))+x[5]+3593408605&4294967295,I=C+(P<<5&4294967295|P>>>27),P=V+(C^D&(I^C))+x[10]+38016083&4294967295,V=I+(P<<9&4294967295|P>>>23),P=D+(I^C&(V^I))+x[15]+3634488961&4294967295,D=V+(P<<14&4294967295|P>>>18),P=C+(V^I&(D^V))+x[4]+3889429448&4294967295,C=D+(P<<20&4294967295|P>>>12),P=I+(D^V&(C^D))+x[9]+568446438&4294967295,I=C+(P<<5&4294967295|P>>>27),P=V+(C^D&(I^C))+x[14]+3275163606&4294967295,V=I+(P<<9&4294967295|P>>>23),P=D+(I^C&(V^I))+x[3]+4107603335&4294967295,D=V+(P<<14&4294967295|P>>>18),P=C+(V^I&(D^V))+x[8]+1163531501&4294967295,C=D+(P<<20&4294967295|P>>>12),P=I+(D^V&(C^D))+x[13]+2850285829&4294967295,I=C+(P<<5&4294967295|P>>>27),P=V+(C^D&(I^C))+x[2]+4243563512&4294967295,V=I+(P<<9&4294967295|P>>>23),P=D+(I^C&(V^I))+x[7]+1735328473&4294967295,D=V+(P<<14&4294967295|P>>>18),P=C+(V^I&(D^V))+x[12]+2368359562&4294967295,C=D+(P<<20&4294967295|P>>>12),P=I+(C^D^V)+x[5]+4294588738&4294967295,I=C+(P<<4&4294967295|P>>>28),P=V+(I^C^D)+x[8]+2272392833&4294967295,V=I+(P<<11&4294967295|P>>>21),P=D+(V^I^C)+x[11]+1839030562&4294967295,D=V+(P<<16&4294967295|P>>>16),P=C+(D^V^I)+x[14]+4259657740&4294967295,C=D+(P<<23&4294967295|P>>>9),P=I+(C^D^V)+x[1]+2763975236&4294967295,I=C+(P<<4&4294967295|P>>>28),P=V+(I^C^D)+x[4]+1272893353&4294967295,V=I+(P<<11&4294967295|P>>>21),P=D+(V^I^C)+x[7]+4139469664&4294967295,D=V+(P<<16&4294967295|P>>>16),P=C+(D^V^I)+x[10]+3200236656&4294967295,C=D+(P<<23&4294967295|P>>>9),P=I+(C^D^V)+x[13]+681279174&4294967295,I=C+(P<<4&4294967295|P>>>28),P=V+(I^C^D)+x[0]+3936430074&4294967295,V=I+(P<<11&4294967295|P>>>21),P=D+(V^I^C)+x[3]+3572445317&4294967295,D=V+(P<<16&4294967295|P>>>16),P=C+(D^V^I)+x[6]+76029189&4294967295,C=D+(P<<23&4294967295|P>>>9),P=I+(C^D^V)+x[9]+3654602809&4294967295,I=C+(P<<4&4294967295|P>>>28),P=V+(I^C^D)+x[12]+3873151461&4294967295,V=I+(P<<11&4294967295|P>>>21),P=D+(V^I^C)+x[15]+530742520&4294967295,D=V+(P<<16&4294967295|P>>>16),P=C+(D^V^I)+x[2]+3299628645&4294967295,C=D+(P<<23&4294967295|P>>>9),P=I+(D^(C|~V))+x[0]+4096336452&4294967295,I=C+(P<<6&4294967295|P>>>26),P=V+(C^(I|~D))+x[7]+1126891415&4294967295,V=I+(P<<10&4294967295|P>>>22),P=D+(I^(V|~C))+x[14]+2878612391&4294967295,D=V+(P<<15&4294967295|P>>>17),P=C+(V^(D|~I))+x[5]+4237533241&4294967295,C=D+(P<<21&4294967295|P>>>11),P=I+(D^(C|~V))+x[12]+1700485571&4294967295,I=C+(P<<6&4294967295|P>>>26),P=V+(C^(I|~D))+x[3]+2399980690&4294967295,V=I+(P<<10&4294967295|P>>>22),P=D+(I^(V|~C))+x[10]+4293915773&4294967295,D=V+(P<<15&4294967295|P>>>17),P=C+(V^(D|~I))+x[1]+2240044497&4294967295,C=D+(P<<21&4294967295|P>>>11),P=I+(D^(C|~V))+x[8]+1873313359&4294967295,I=C+(P<<6&4294967295|P>>>26),P=V+(C^(I|~D))+x[15]+4264355552&4294967295,V=I+(P<<10&4294967295|P>>>22),P=D+(I^(V|~C))+x[6]+2734768916&4294967295,D=V+(P<<15&4294967295|P>>>17),P=C+(V^(D|~I))+x[13]+1309151649&4294967295,C=D+(P<<21&4294967295|P>>>11),P=I+(D^(C|~V))+x[4]+4149444226&4294967295,I=C+(P<<6&4294967295|P>>>26),P=V+(C^(I|~D))+x[11]+3174756917&4294967295,V=I+(P<<10&4294967295|P>>>22),P=D+(I^(V|~C))+x[2]+718787259&4294967295,D=V+(P<<15&4294967295|P>>>17),P=C+(V^(D|~I))+x[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+V&4294967295}i.prototype.u=function(A,I){I===void 0&&(I=A.length);for(var C=I-this.blockSize,x=this.B,D=this.h,V=0;V<I;){if(D==0)for(;V<=C;)o(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<I;)if(x[D++]=A.charCodeAt(V++),D==this.blockSize){o(this,x),D=0;break}}else for(;V<I;)if(x[D++]=A[V++],D==this.blockSize){o(this,x),D=0;break}}this.h=D,this.o+=I},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;var C=8*this.o;for(I=A.length-8;I<A.length;++I)A[I]=C&255,C/=256;for(this.u(A),A=Array(16),I=C=0;4>I;++I)for(var x=0;32>x;x+=8)A[C++]=this.g[I]>>>x&255;return A};function l(A,I){var C=h;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=I(A)}function d(A,I){this.h=I;for(var C=[],x=!0,D=A.length-1;0<=D;D--){var V=A[D]|0;x&&V==I||(C[D]=V,x=!1)}this.g=C}var h={};function p(A){return-128<=A&&128>A?l(A,function(I){return new d([I|0],0>I?-1:0)}):new d([A|0],0>A?-1:0)}function y(A){if(isNaN(A)||!isFinite(A))return T;if(0>A)return b(y(-A));for(var I=[],C=1,x=0;A>=C;x++)I[x]=A/C|0,C*=4294967296;return new d(I,0)}function w(A,I){if(A.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A.charAt(0)=="-")return b(w(A.substring(1),I));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(I,8)),x=T,D=0;D<A.length;D+=8){var V=Math.min(8,A.length-D),P=parseInt(A.substring(D,D+V),I);8>V?(V=y(Math.pow(I,V)),x=x.j(V).add(y(P))):(x=x.j(C),x=x.add(y(P)))}return x}var T=p(0),S=p(1),k=p(16777216);n=d.prototype,n.m=function(){if(F(this))return-b(this).m();for(var A=0,I=1,C=0;C<this.g.length;C++){var x=this.i(C);A+=(0<=x?x:4294967296+x)*I,I*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O(this))return"0";if(F(this))return"-"+b(this).toString(A);for(var I=y(Math.pow(A,6)),C=this,x="";;){var D=te(C,I).g;C=B(C,D.j(I));var V=((0<C.g.length?C.g[0]:C.h)>>>0).toString(A);if(C=D,O(C))return V+x;for(;6>V.length;)V="0"+V;x=V+x}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function O(A){if(A.h!=0)return!1;for(var I=0;I<A.g.length;I++)if(A.g[I]!=0)return!1;return!0}function F(A){return A.h==-1}n.l=function(A){return A=B(this,A),F(A)?-1:O(A)?0:1};function b(A){for(var I=A.g.length,C=[],x=0;x<I;x++)C[x]=~A.g[x];return new d(C,~A.h).add(S)}n.abs=function(){return F(this)?b(this):this},n.add=function(A){for(var I=Math.max(this.g.length,A.g.length),C=[],x=0,D=0;D<=I;D++){var V=x+(this.i(D)&65535)+(A.i(D)&65535),P=(V>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);x=P>>>16,V&=65535,P&=65535,C[D]=P<<16|V}return new d(C,C[C.length-1]&-2147483648?-1:0)};function B(A,I){return A.add(b(I))}n.j=function(A){if(O(this)||O(A))return T;if(F(this))return F(A)?b(this).j(b(A)):b(b(this).j(A));if(F(A))return b(this.j(b(A)));if(0>this.l(k)&&0>A.l(k))return y(this.m()*A.m());for(var I=this.g.length+A.g.length,C=[],x=0;x<2*I;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(var D=0;D<A.g.length;D++){var V=this.i(x)>>>16,P=this.i(x)&65535,et=A.i(D)>>>16,ht=A.i(D)&65535;C[2*x+2*D]+=P*ht,z(C,2*x+2*D),C[2*x+2*D+1]+=V*ht,z(C,2*x+2*D+1),C[2*x+2*D+1]+=P*et,z(C,2*x+2*D+1),C[2*x+2*D+2]+=V*et,z(C,2*x+2*D+2)}for(x=0;x<I;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=I;x<2*I;x++)C[x]=0;return new d(C,0)};function z(A,I){for(;(A[I]&65535)!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function G(A,I){this.g=A,this.h=I}function te(A,I){if(O(I))throw Error("division by zero");if(O(A))return new G(T,T);if(F(A))return I=te(b(A),I),new G(b(I.g),b(I.h));if(F(I))return I=te(A,b(I)),new G(b(I.g),I.h);if(30<A.g.length){if(F(A)||F(I))throw Error("slowDivide_ only works with positive integers.");for(var C=S,x=I;0>=x.l(A);)C=re(C),x=re(x);var D=oe(C,1),V=oe(x,1);for(x=oe(x,2),C=oe(C,2);!O(x);){var P=V.add(x);0>=P.l(A)&&(D=D.add(C),V=P),x=oe(x,1),C=oe(C,1)}return I=B(A,D.j(I)),new G(D,I)}for(D=T;0<=A.l(I);){for(C=Math.max(1,Math.floor(A.m()/I.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),V=y(C),P=V.j(I);F(P)||0<P.l(A);)C-=x,V=y(C),P=V.j(I);O(V)&&(V=S),D=D.add(V),A=B(A,P)}return new G(D,A)}n.A=function(A){return te(this,A).h},n.and=function(A){for(var I=Math.max(this.g.length,A.g.length),C=[],x=0;x<I;x++)C[x]=this.i(x)&A.i(x);return new d(C,this.h&A.h)},n.or=function(A){for(var I=Math.max(this.g.length,A.g.length),C=[],x=0;x<I;x++)C[x]=this.i(x)|A.i(x);return new d(C,this.h|A.h)},n.xor=function(A){for(var I=Math.max(this.g.length,A.g.length),C=[],x=0;x<I;x++)C[x]=this.i(x)^A.i(x);return new d(C,this.h^A.h)};function re(A){for(var I=A.g.length+1,C=[],x=0;x<I;x++)C[x]=A.i(x)<<1|A.i(x-1)>>>31;return new d(C,A.h)}function oe(A,I){var C=I>>5;I%=32;for(var x=A.g.length-C,D=[],V=0;V<x;V++)D[V]=0<I?A.i(V+C)>>>I|A.i(V+C+1)<<32-I:A.i(V+C);return new d(D,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Rv=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=w,Ei=d}).apply(typeof Ay<"u"?Ay:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Av,$a,Pv,tc,lf,kv,xv,Nv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var _=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var U=u[E];if(!(U in _))break e;_=_[U]}u=u[u.length-1],E=_[u],m=m(E),m!=E&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var _=0,E=!1,U={next:function(){if(!E&&_<u.length){var K=_++;return{value:m(K,u[K]),done:!1}}return E=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},h=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,_){return u.call.apply(u.bind,arguments)}function T(u,m,_){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,E),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function S(u,m,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,S.apply(null,arguments)}function k(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function O(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(E,U,K){for(var se=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)se[Be-2]=arguments[Be];return m.prototype[U].apply(E,se)}}function F(u){const m=u.length;if(0<m){const _=Array(m);for(let E=0;E<m;E++)_[E]=u[E];return _}return[]}function b(u,m){for(let _=1;_<arguments.length;_++){const E=arguments[_];if(p(E)){const U=u.length||0,K=E.length||0;u.length=U+K;for(let se=0;se<K;se++)u[U+se]=E[se]}else u.push(E)}}class B{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function z(u){return/^[\s\xa0]*$/.test(u)}function G(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function te(u){return te[" "](u),u}te[" "]=function(){};var re=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function oe(u,m,_){for(const E in u)m.call(_,u[E],E,u)}function A(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function I(u){const m={};for(const _ in u)m[_]=u[_];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let _,E;for(let U=1;U<arguments.length;U++){E=arguments[U];for(_ in E)u[_]=E[_];for(let K=0;K<C.length;K++)_=C[K],Object.prototype.hasOwnProperty.call(E,_)&&(u[_]=E[_])}}function D(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function V(u){h.setTimeout(()=>{throw u},0)}function P(){var u=ye;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class et{constructor(){this.h=this.g=null}add(m,_){const E=ht.get();E.set(m,_),this.h?this.h.next=E:this.g=E,this.h=E}}var ht=new B(()=>new ft,u=>u.reset());class ft{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,ie=!1,ye=new et,le=()=>{const u=h.Promise.resolve(void 0);Fe=()=>{u.then(M)}};var M=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(_){V(_)}var m=ht;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ie=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,m),h.removeEventListener("test",_,m)}catch{}return u}();function Re(u,m){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(re){e:{try{te(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Re.aa.h.call(this)}}O(Re,me);var be={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),ze=0;function We(u,m,_,E,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!E,this.ha=U,this.key=++ze,this.da=this.fa=!1}function Et(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function cr(u){this.src=u,this.g={},this.h=0}cr.prototype.add=function(u,m,_,E,U){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var se=$r(u,m,E,U);return-1<se?(m=u[se],_||(m.fa=!1)):(m=new We(m,this.src,K,!!E,U),m.fa=_,u.push(m)),m};function Ss(u,m){var _=m.type;if(_ in u.g){var E=u.g[_],U=Array.prototype.indexOf.call(E,m,void 0),K;(K=0<=U)&&Array.prototype.splice.call(E,U,1),K&&(Et(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function $r(u,m,_,E){for(var U=0;U<u.length;++U){var K=u[U];if(!K.da&&K.listener==m&&K.capture==!!_&&K.ha==E)return U}return-1}var Oi="closure_lm_"+(1e6*Math.random()|0),Cs={};function Bo(u,m,_,E,U){if(Array.isArray(m)){for(var K=0;K<m.length;K++)Bo(u,m[K],_,E,U);return null}return _=qo(_),u&&u[je]?u.K(m,_,y(E)?!!E.capture:!1,U):Ho(u,m,_,!1,E,U)}function Ho(u,m,_,E,U,K){if(!m)throw Error("Invalid event type");var se=y(U)?!!U.capture:!!U,Be=As(u);if(Be||(u[Oi]=Be=new cr(u)),_=Be.add(m,_,E,se,K),_.proxy)return _;if(E=Al(),_.proxy=E,E.src=u,E.listener=_,u.addEventListener)Ce||(U=se),U===void 0&&(U=!1),u.addEventListener(m.toString(),E,U);else if(u.attachEvent)u.attachEvent(hr(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Al(){function u(_){return m.call(u.src,u.listener,_)}const m=Wo;return u}function Rs(u,m,_,E,U){if(Array.isArray(m))for(var K=0;K<m.length;K++)Rs(u,m[K],_,E,U);else E=y(E)?!!E.capture:!!E,_=qo(_),u&&u[je]?(u=u.i,m=String(m).toString(),m in u.g&&(K=u.g[m],_=$r(K,_,E,U),-1<_&&(Et(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete u.g[m],u.h--)))):u&&(u=As(u))&&(m=u.g[m.toString()],u=-1,m&&(u=$r(m,_,E,U)),(_=-1<u?m[u]:null)&&dr(_))}function dr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[je])Ss(m.i,u);else{var _=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(_,E,u.capture):m.detachEvent?m.detachEvent(hr(_),E):m.addListener&&m.removeListener&&m.removeListener(E),(_=As(m))?(Ss(_,u),_.h==0&&(_.src=null,m[Oi]=null)):Et(u)}}}function hr(u){return u in Cs?Cs[u]:Cs[u]="on"+u}function Wo(u,m){if(u.da)u=!0;else{m=new Re(m,this);var _=u.listener,E=u.ha||u.src;u.fa&&dr(u),u=_.call(E,m)}return u}function As(u){return u=u[Oi],u instanceof cr?u:null}var Ps="__closure_events_fn_"+(1e9*Math.random()>>>0);function qo(u){return typeof u=="function"?u:(u[Ps]||(u[Ps]=function(m){return u.handleEvent(m)}),u[Ps])}function pt(){Y.call(this),this.i=new cr(this),this.M=this,this.F=null}O(pt,Y),pt.prototype[je]=!0,pt.prototype.removeEventListener=function(u,m,_,E){Rs(this,u,m,_,E)};function mt(u,m){var _,E=u.F;if(E)for(_=[];E;E=E.F)_.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new me(m,u);else if(m instanceof me)m.target=m.target||u;else{var U=m;m=new me(E,u),x(m,U)}if(U=!0,_)for(var K=_.length-1;0<=K;K--){var se=m.g=_[K];U=fr(se,E,!0,m)&&U}if(se=m.g=u,U=fr(se,E,!0,m)&&U,U=fr(se,E,!1,m)&&U,_)for(K=0;K<_.length;K++)se=m.g=_[K],U=fr(se,E,!1,m)&&U}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],E=0;E<_.length;E++)Et(_[E]);delete u.g[m],u.h--}}this.F=null},pt.prototype.K=function(u,m,_,E){return this.i.add(String(u),m,!1,_,E)},pt.prototype.L=function(u,m,_,E){return this.i.add(String(u),m,!0,_,E)};function fr(u,m,_,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,K=0;K<m.length;++K){var se=m[K];if(se&&!se.da&&se.capture==_){var Be=se.listener,gt=se.ha||se.src;se.fa&&Ss(u.i,se),U=Be.call(gt,E)!==!1&&U}}return U&&!E.defaultPrevented}function Ko(u,m,_){if(typeof u=="function")_&&(u=S(u,_));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function Br(u){u.g=Ko(()=>{u.g=null,u.i&&(u.i=!1,Br(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Vi extends Y{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Br(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mi(u){Y.call(this),this.h=u,this.g={}}O(Mi,Y);var Go=[];function Qo(u){oe(u.g,function(m,_){this.g.hasOwnProperty(_)&&dr(m)},u),u.g={}}Mi.prototype.N=function(){Mi.aa.N.call(this),Qo(this)},Mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yo=h.JSON.stringify,Xo=h.JSON.parse,Jo=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Fi(){}Fi.prototype.h=null;function ks(u){return u.h||(u.h=u.i())}function xs(){}var mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){me.call(this,"d")}O(Kn,me);function Ns(){me.call(this,"c")}O(Ns,me);var Gn={},Zo=null;function Ui(){return Zo=Zo||new pt}Gn.La="serverreachability";function ea(u){me.call(this,Gn.La,u)}O(ea,me);function pr(u){const m=Ui();mt(m,new ea(m))}Gn.STAT_EVENT="statevent";function ta(u,m){me.call(this,Gn.STAT_EVENT,u),this.stat=m}O(ta,me);function st(u){const m=Ui();mt(m,new ta(m,u))}Gn.Ma="timingevent";function bs(u,m){me.call(this,Gn.Ma,u),this.size=m}O(bs,me);function Pn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function ji(){this.g=!0}ji.prototype.xa=function(){this.g=!1};function zi(u,m,_,E,U,K){u.info(function(){if(u.g)if(K)for(var se="",Be=K.split("&"),gt=0;gt<Be.length;gt++){var De=Be[gt].split("=");if(1<De.length){var Tt=De[0];De=De[1];var lt=Tt.split("_");se=2<=lt.length&&lt[1]=="type"?se+(Tt+"="+De+"&"):se+(Tt+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+E+") [attempt "+U+"]: "+m+`
`+_+`
`+se})}function Ds(u,m,_,E,U,K,se){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+U+"]: "+m+`
`+_+`
`+K+" "+se})}function kn(u,m,_,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ld(u,_)+(E?" "+E:"")})}function na(u,m){u.info(function(){return"TIMEOUT: "+m})}ji.prototype.info=function(){};function ld(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var E=_[u];if(!(2>E.length)){var U=E[1];if(Array.isArray(U)&&!(1>U.length)){var K=U[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<U.length;se++)U[se]=""}}}}return Yo(_)}catch{return m}}var Ls={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xn;function $i(){}O($i,Fi),$i.prototype.g=function(){return new XMLHttpRequest},$i.prototype.i=function(){return{}},xn=new $i;function Nn(u,m,_,E){this.j=u,this.i=m,this.l=_,this.R=E||1,this.U=new Mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kl}function kl(){this.i=null,this.g="",this.h=!1}var ra={},Os={};function Vs(u,m,_){u.L=1,u.v=Gr(an(m)),u.m=_,u.P=!0,ia(u,null)}function ia(u,m){u.F=Date.now(),qe(u),u.A=an(u.v);var _=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Yr(_.i,"t",E),u.C=0,_=u.j.J,u.h=new kl,u.g=Kl(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Vi(S(u.Y,u,u.g),u.O)),m=u.U,_=u.g,E=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Go[0]=U.toString()),U=Go);for(var K=0;K<U.length;K++){var se=Bo(_,U[K],E||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),pr(),zi(u.i,u.u,u.A,u.l,u.R,u.m)}Nn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Yt(u)==3?m.j():this.Y(u)},Nn.prototype.Y=function(u){try{if(u==this.g)e:{const lt=Yt(this.g);var m=this.g.Ba();const _n=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||ca(this.g)))){this.J||lt!=4||m==7||(m==8||0>=_n?pr(3):pr(2)),Bi(this);var _=this.g.Z();this.X=_;t:if(xl(this)){var E=ca(this.g);u="";var U=E.length,K=Yt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),Hr(this);var se="";break t}this.h.i=new h.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(K&&m==U-1)});E.length=0,this.h.g+=u,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Ds(this.i,this.u,this.A,this.l,this.R,lt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,gt=this.g;if((Be=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Be)){var De=Be;break t}}De=null}if(_=De)kn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sa(this,_);else{this.o=!1,this.s=3,st(12),gn(this),Hr(this);break e}}if(this.P){_=!0;let un;for(;!this.J&&this.C<se.length;)if(un=ud(this,se),un==Os){lt==4&&(this.s=4,st(14),_=!1),kn(this.i,this.l,null,"[Incomplete Response]");break}else if(un==ra){this.s=4,st(15),kn(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else kn(this.i,this.l,un,null),sa(this,un);if(xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||se.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)kn(this.i,this.l,se,"[Invalid Chunked Response]"),gn(this),Hr(this);else if(0<se.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),ha(Tt),Tt.M=!0,st(11))}}else kn(this.i,this.l,se,null),sa(this,se);lt==4&&gn(this),this.o&&!this.J&&(lt==4?Ks(this.j,this):(this.o=!1,qe(this)))}else $s(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),gn(this),Hr(this)}}}catch{}finally{}};function xl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ud(u,m){var _=u.C,E=m.indexOf(`
`,_);return E==-1?Os:(_=Number(m.substring(_,E)),isNaN(_)?ra:(E+=1,E+_>m.length?Os:(m=m.slice(E,E+_),u.C=E+_,m)))}Nn.prototype.cancel=function(){this.J=!0,gn(this)};function qe(u){u.S=Date.now()+u.I,Nl(u,u.I)}function Nl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Pn(S(u.ba,u),m)}function Bi(u){u.B&&(h.clearTimeout(u.B),u.B=null)}Nn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(na(this.i,this.A),this.L!=2&&(pr(),st(17)),gn(this),this.s=2,Hr(this)):Nl(this,this.S-u)};function Hr(u){u.j.G==0||u.J||Ks(u.j,u)}function gn(u){Bi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Qo(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function sa(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Bt(_.h,u))){if(!u.K&&Bt(_.h,u)&&_.G==3){try{var E=_.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var U=E;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)qs(_),Vn(_);else break e;Ws(_),st(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Pn(S(_.Za,_),6e3));if(1>=Dl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else vr(_,11)}else if((u.K||_.g==u)&&qs(_),!z(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let De=U[m];if(_.T=De[0],De=De[1],_.G==2)if(De[0]=="c"){_.K=De[1],_.ia=De[2];const Tt=De[3];Tt!=null&&(_.la=Tt,_.j.info("VER="+_.la));const lt=De[4];lt!=null&&(_.Aa=lt,_.j.info("SVER="+_.Aa));const _n=De[5];_n!=null&&typeof _n=="number"&&0<_n&&(E=1.5*_n,_.L=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const un=u.g;if(un){const Yi=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yi){var K=E.h;K.g||Yi.indexOf("spdy")==-1&&Yi.indexOf("quic")==-1&&Yi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(oa(K,K.h),K.h=null))}if(E.D){const Qs=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Qs&&(E.ya=Qs,He(E.I,E.D,Qs))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),E=_;var se=u;if(E.qa=ql(E,E.J?E.ia:null,E.W),se.K){Ll(E.h,se);var Be=se,gt=E.L;gt&&(Be.I=gt),Be.B&&(Bi(Be),qe(Be)),E.g=se}else Qi(E);0<_.i.length&&Jn(_)}else De[0]!="stop"&&De[0]!="close"||vr(_,7);else _.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?vr(_,7):Pt(_):De[0]!="noop"&&_.l&&_.l.ta(De),_.v=0)}}pr(4)}catch{}}var bl=class{constructor(u,m){this.g=u,this.map=m}};function Hi(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Dl(u){return u.h?1:u.g?u.g.size:0}function Bt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function oa(u,m){u.g?u.g.add(m):u.h=m}function Ll(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Hi.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ol(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return F(u.i)}function Ms(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,E=0;E<_;E++)m.push(u[E]);return m}m=[],_=0;for(E in u)m[_++]=u[E];return m}function Fs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const E in u)m[_++]=E;return m}}}function Wr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Fs(u),E=Ms(u),U=E.length,K=0;K<U;K++)m.call(void 0,E[K],_&&_[K],u)}var Wi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cd(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var E=u[_].indexOf("="),U=null;if(0<=E){var K=u[_].substring(0,E);U=u[_].substring(E+1)}else K=u[_];m(K,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function mr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof mr){this.h=u.h,qi(this,u.j),this.o=u.o,this.g=u.g,qr(this,u.s),this.l=u.l;var m=u.i,_=new Qn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Kr(this,_),this.m=u.m}else u&&(m=String(u).match(Wi))?(this.h=!1,qi(this,m[1]||"",!0),this.o=xe(m[2]||""),this.g=xe(m[3]||"",!0),qr(this,m[4]),this.l=xe(m[5]||"",!0),Kr(this,m[6]||"",!0),this.m=xe(m[7]||"")):(this.h=!1,this.i=new Qn(null,this.h))}mr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Qr(m,Us,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Qr(m,Us,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Qr(_,_.charAt(0)=="/"?Fl:Ml,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Qr(_,aa)),u.join("")};function an(u){return new mr(u)}function qi(u,m,_){u.j=_?xe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Kr(u,m,_){m instanceof Qn?(u.i=m,Yn(u.i,u.h)):(_||(m=Qr(m,Ul)),u.i=new Qn(m,u.h))}function He(u,m,_){u.i.set(m,_)}function Gr(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Vl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Vl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Us=/[#\/\?@]/g,Ml=/[#\?:]/g,Fl=/[#\?]/g,Ul=/[#\?@]/g,aa=/#/g;function Qn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function At(u){u.g||(u.g=new Map,u.h=0,u.i&&cd(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}n=Qn.prototype,n.add=function(u,m){At(this),this.i=null,u=yn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function bn(u,m){At(u),m=yn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Dn(u,m){return At(u),m=yn(u,m),u.g.has(m)}n.forEach=function(u,m){At(this),this.g.forEach(function(_,E){_.forEach(function(U){u.call(m,U,E,this)},this)},this)},n.na=function(){At(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let E=0;E<m.length;E++){const U=u[E];for(let K=0;K<U.length;K++)_.push(m[E])}return _},n.V=function(u){At(this);let m=[];if(typeof u=="string")Dn(this,u)&&(m=m.concat(this.g.get(yn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},n.set=function(u,m){return At(this),this.i=null,u=yn(this,u),Dn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Yr(u,m,_){bn(u,m),0<_.length&&(u.i=null,u.g.set(yn(u,m),F(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var E=m[_];const K=encodeURIComponent(String(E)),se=this.V(E);for(E=0;E<se.length;E++){var U=K;se[E]!==""&&(U+="="+encodeURIComponent(String(se[E]))),u.push(U)}}return this.i=u.join("&")};function yn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Yn(u,m){m&&!u.j&&(At(u),u.i=null,u.g.forEach(function(_,E){var U=E.toLowerCase();E!=U&&(bn(this,E),Yr(this,U,_))},u)),u.j=m}function dd(u,m){const _=new ji;if(h.Image){const E=new Image;E.onload=k(Qt,_,"TestLoadImage: loaded",!0,m,E),E.onerror=k(Qt,_,"TestLoadImage: error",!1,m,E),E.onabort=k(Qt,_,"TestLoadImage: abort",!1,m,E),E.ontimeout=k(Qt,_,"TestLoadImage: timeout",!1,m,E),h.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function jl(u,m){const _=new ji,E=new AbortController,U=setTimeout(()=>{E.abort(),Qt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(K=>{clearTimeout(U),K.ok?Qt(_,"TestPingServer: ok",!0,m):Qt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Qt(_,"TestPingServer: error",!1,m)})}function Qt(u,m,_,E,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),E(_)}catch{}}function hd(){this.g=new Jo}function zl(u,m,_){const E=_||"";try{Wr(u,function(U,K){let se=U;y(U)&&(se=Yo(U)),m.push(E+K+"="+encodeURIComponent(se))})}catch(U){throw m.push(E+"type="+encodeURIComponent("_badmap")),U}}function gr(u){this.l=u.Ub||null,this.j=u.eb||!1}O(gr,Fi),gr.prototype.g=function(){return new Ki(this.l,this.j)},gr.prototype.i=function(u){return function(){return u}}({});function Ki(u,m){pt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Ki,pt),n=Ki.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,On(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ln(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,On(this)),this.g&&(this.readyState=3,On(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$l(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function $l(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ln(this):On(this),this.readyState==3&&$l(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Ln(this))},n.Qa=function(u){this.g&&(this.response=u,Ln(this))},n.ga=function(){this.g&&Ln(this)};function Ln(u){u.readyState=4,u.l=null,u.j=null,u.v=null,On(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function On(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function yr(u){let m="";return oe(u,function(_,E){m+=E,m+=":",m+=_,m+=`\r
`}),m}function Xr(u,m,_){e:{for(E in _){var E=!1;break e}E=!0}E||(_=yr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):He(u,m,_))}function Xe(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Xe,pt);var fd=/^https?$/i,la=["POST","PUT"];n=Xe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xn.g(),this.v=this.o?ks(this.o):ks(xn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){Gi(this,K);return}if(u=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var U in E)_.set(U,E[U]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const K of E.keys())_.set(K,E.get(K));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),U=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(la,m,void 0))||E||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of _)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zs(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){Gi(this,K)}};function Gi(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,js(u),ln(u)}function js(u){u.A||(u.A=!0,mt(u,"complete"),mt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,mt(this,"complete"),mt(this,"abort"),ln(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ln(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ua(this):this.bb())},n.bb=function(){ua(this)};function ua(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Yt(u)!=4||u.Z()!=2)){if(u.u&&Yt(u)==4)Ko(u.Ea,0,u);else if(mt(u,"readystatechange"),Yt(u)==4){u.h=!1;try{const se=u.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var E;if(E=se===0){var U=String(u.D).match(Wi)[1]||null;!U&&h.self&&h.self.location&&(U=h.self.location.protocol.slice(0,-1)),E=!fd.test(U?U.toLowerCase():"")}_=E}if(_)mt(u,"complete"),mt(u,"success");else{u.m=6;try{var K=2<Yt(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",js(u)}}finally{ln(u)}}}}function ln(u,m){if(u.g){zs(u);const _=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||mt(u,"ready");try{_.onreadystatechange=E}catch{}}}function zs(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Yt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Yt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Xo(m)}};function ca(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $s(u){const m={};u=(u.g&&2<=Yt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(z(u[E]))continue;var _=D(u[E]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=m[U]||[];m[U]=K,K.push(_)}A(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xn(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function da(u){this.Aa=0,this.i=[],this.j=new ji,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xn("baseRetryDelayMs",5e3,u),this.cb=Xn("retryDelaySeedMs",1e4,u),this.Wa=Xn("forwardChannelMaxRetries",2,u),this.wa=Xn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Hi(u&&u.concurrentRequestLimit),this.Da=new hd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=da.prototype,n.la=8,n.G=1,n.connect=function(u,m,_,E){st(0),this.W=u,this.H=m||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.I=ql(this,null,this.W),Jn(this)};function Pt(u){if(Bs(u),u.G==3){var m=u.U++,_=an(u.I);if(He(_,"SID",u.K),He(_,"RID",m),He(_,"TYPE","terminate"),_r(u,_),m=new Nn(u,u.j,m),m.L=2,m.v=Gr(an(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=m.v,_=!0),_||(m.g=Kl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qe(m)}Wl(u)}function Vn(u){u.g&&(ha(u),u.g.cancel(),u.g=null)}function Bs(u){Vn(u),u.u&&(h.clearTimeout(u.u),u.u=null),qs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function Jn(u){if(!on(u.h)&&!u.s){u.s=!0;var m=u.Ga;Fe||le(),ie||(Fe(),ie=!0),ye.add(m,u),u.B=0}}function pd(u,m){return Dl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Pn(S(u.Ga,u,m),Hl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Nn(this,this.j,u);let K=this.o;if(this.S&&(K?(K=I(K),x(K,this.S)):K=this.S),this.m!==null||this.O||(U.H=K,K=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Jr(this,U,m),_=an(this.I),He(_,"RID",u),He(_,"CVER",22),this.D&&He(_,"X-HTTP-Session-Id",this.D),_r(this,_),K&&(this.O?m="headers="+encodeURIComponent(String(yr(K)))+"&"+m:this.m&&Xr(_,this.m,K)),oa(this.h,U),this.Ua&&He(_,"TYPE","init"),this.P?(He(_,"$req",m),He(_,"SID","null"),U.T=!0,Vs(U,_,null)):Vs(U,_,m),this.G=2}}else this.G==3&&(u?Hs(this,u):this.i.length==0||on(this.h)||Hs(this))};function Hs(u,m){var _;m?_=m.l:_=u.U++;const E=an(u.I);He(E,"SID",u.K),He(E,"RID",_),He(E,"AID",u.T),_r(u,E),u.m&&u.o&&Xr(E,u.m,u.o),_=new Nn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Jr(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),oa(u.h,_),Vs(_,E,m)}function _r(u,m){u.H&&oe(u.H,function(_,E){He(m,E,_)}),u.l&&Wr({},function(_,E){He(m,E,_)})}function Jr(u,m,_){_=Math.min(u.i.length,_);var E=u.l?S(u.l.Na,u.l,u):null;e:{var U=u.i;let K=-1;for(;;){const se=["count="+_];K==-1?0<_?(K=U[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let Be=!0;for(let gt=0;gt<_;gt++){let De=U[gt].g;const Tt=U[gt].map;if(De-=K,0>De)K=Math.max(0,U[gt].g-100),Be=!1;else try{zl(Tt,se,"req"+De+"_")}catch{E&&E(Tt)}}if(Be){E=se.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,E}function Qi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Fe||le(),ie||(Fe(),ie=!0),ye.add(m,u),u.v=0}}function Ws(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Pn(S(u.Fa,u),Hl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Bl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Pn(S(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Vn(this),Bl(this))};function ha(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Bl(u){u.g=new Nn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);He(m,"RID","rpc"),He(m,"SID",u.K),He(m,"AID",u.T),He(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(m,"TO",u.ja),He(m,"TYPE","xmlhttp"),_r(u,m),u.m&&u.o&&Xr(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Gr(an(m)),_.m=null,_.P=!0,ia(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Vn(this),Ws(this),st(19))};function qs(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Ks(u,m){var _=null;if(u.g==m){qs(u),ha(u),u.g=null;var E=2}else if(Bt(u.h,m))_=m.D,Ll(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;E=Ui(),mt(E,new bs(E,_)),Jn(u)}else Qi(u);else if(U=m.s,U==3||U==0&&0<m.X||!(E==1&&pd(u,m)||E==2&&Ws(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:vr(u,5);break;case 4:vr(u,10);break;case 3:vr(u,6);break;default:vr(u,2)}}}function Hl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function vr(u,m){if(u.j.info("Error code "+m),m==2){var _=S(u.fb,u),E=u.Xa;const U=!E;E=new mr(E||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||qi(E,"https"),Gr(E),U?dd(E.toString(),_):jl(E.toString(),_)}else st(2);u.G=0,u.l&&u.l.sa(m),Wl(u),Bs(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Wl(u){if(u.G=0,u.ka=[],u.l){const m=Ol(u.h);(m.length!=0||u.i.length!=0)&&(b(u.ka,m),b(u.ka,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.ra()}}function ql(u,m,_){var E=_ instanceof mr?an(_):new mr(_);if(E.g!="")m&&(E.g=m+"."+E.g),qr(E,E.s);else{var U=h.location;E=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var K=new mr(null);E&&qi(K,E),m&&(K.g=m),U&&qr(K,U),_&&(K.l=_),E=K}return _=u.D,m=u.ya,_&&m&&He(E,_,m),He(E,"VER",u.la),_r(u,E),E}function Kl(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Xe(new gr({eb:_})):new Xe(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fa(){}n=fa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Gs(){}Gs.prototype.g=function(u,m){return new Ht(u,m)};function Ht(u,m){pt.call(this),this.g=new da(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!z(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!z(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}O(Ht,pt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Pt(this.g)},Ht.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Yo(u),u=_);m.i.push(new bl(m.Ya++,u)),m.G==3&&Jn(m)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Pt(this.g),delete this.g,Ht.aa.N.call(this)};function Gl(u){Kn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}O(Gl,Kn);function Ql(){Ns.call(this),this.status=1}O(Ql,Ns);function Zn(u){this.g=u}O(Zn,fa),Zn.prototype.ua=function(){mt(this.g,"a")},Zn.prototype.ta=function(u){mt(this.g,new Gl(u))},Zn.prototype.sa=function(u){mt(this.g,new Ql)},Zn.prototype.ra=function(){mt(this.g,"b")},Gs.prototype.createWebChannel=Gs.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,Nv=function(){return new Gs},xv=function(){return Ui()},kv=Gn,lf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ls.NO_ERROR=0,Ls.TIMEOUT=8,Ls.HTTP_ERROR=6,tc=Ls,Pl.COMPLETE="complete",Pv=Pl,xs.EventType=mn,mn.OPEN="a",mn.CLOSE="b",mn.ERROR="c",mn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,$a=xs,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,Av=Xe}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const Py="@firebase/firestore",ky="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new bf("@firebase/firestore");function yo(){return ys.logLevel}function ue(n,...e){if(ys.logLevel<=Pe.DEBUG){const t=e.map(qf);ys.debug(`Firestore (${Oo}): ${n}`,...t)}}function Mr(n,...e){if(ys.logLevel<=Pe.ERROR){const t=e.map(qf);ys.error(`Firestore (${Oo}): ${n}`,...t)}}function Ro(n,...e){if(ys.logLevel<=Pe.WARN){const t=e.map(qf);ys.warn(`Firestore (${Oo}): ${n}`,...t)}}function qf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n="Unexpected state"){const e=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: `+n;throw Mr(e),new Error(e)}function $e(n,e){n||Ee()}function Se(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $S{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jt.UNAUTHENTICATED))}shutdown(){}}class BS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class HS{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Dr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},h=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Dr)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string"),new bv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new jt(e)}}class WS{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class qS{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new WS(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KS{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,fn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0);const i=l=>{l.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.R;return this.R=l.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new xy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string"),this.R=t.token,new xy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=GS(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Ne(n,e){return n<e?-1:n>e?1:0}function Ao(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=-62135596800,by=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*by);return new vt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ny)throw new de(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/by}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ny;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new vt(0,0))}static max(){return new Ie(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="__name__";class ir{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ee(),i===void 0?i=e.length-t:i>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ir.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ir?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=ir.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=ir.isNumericId(e),o=ir.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?ir.extractNumericId(e).compare(ir.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ei.fromString(e.substring(4,e.length-2))}}class Ye extends ir{construct(e,t,i){return new Ye(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Ye(t)}static emptyPath(){return new Ye([])}}const QS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends ir{construct(e,t,i){return new bt(e,t,i)}static isValidIdentifier(e){return QS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dy}static keyField(){return new bt([Dy])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new de(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let d=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new de(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else h==="`"?(d=!d,o++):h!=="."||d?(i+=h,o++):(l(),o++)}if(l(),d)throw new de(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(t)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ye.fromString(e))}static fromName(e){return new ge(Ye.fromString(e).popFirst(5))}static empty(){return new ge(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=-1;function YS(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(i===1e9?new vt(t+1,0):new vt(t,i));return new Ii(o,ge.empty(),e)}function XS(n){return new Ii(n.readTime,n.key,el)}class Ii{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ii(Ie.min(),ge.empty(),el)}static max(){return new Ii(Ie.max(),ge.empty(),el)}}function JS(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(n.documentKey,e.documentKey),t!==0?t:Ne(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==ZS)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,i)=>{t(e)})}static reject(e){return new Q((t,i)=>{i(e)})}static waitFor(e){return new Q((t,i)=>{let o=0,l=0,d=!1;e.forEach(h=>{++o,h.next(()=>{++l,d&&l===o&&t()},p=>i(p))}),d=!0,l===o&&t()})}static or(e){let t=Q.resolve(!1);for(const i of e)t=t.next(o=>o?Q.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new Q((i,o)=>{const l=e.length,d=new Array(l);let h=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(w=>{d[y]=w,++h,h===l&&i(d)},w=>o(w))}})}static doWhile(e,t){return new Q((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function tC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Mo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Mc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=-1;function Fc(n){return n==null}function _c(n){return n===0&&1/n==-1/0}function nC(n){return typeof n=="number"&&Number.isInteger(n)&&!_c(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="";function rC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ly(e)),e=iC(n.get(t),e);return Ly(e)}function iC(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case Lv:t+="";break;default:t+=l}}return t}function Ly(n){return n+Lv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Di(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ov(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this.comparator=e,this.root=t||Nt.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}}class Wu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Nt.RED,this.left=o??Nt.EMPTY,this.right=l??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Nt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Nt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Nt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vy(this.data.getIterator())}getIteratorFrom(e){return new Vy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class Vy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new pn([])}unionWith(e){let t=new wt(bt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Vv("Invalid base64 string: "+l):l}}(e);return new Lt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let d=0;d<o.length;++d)l+=String.fromCharCode(o[d]);return l}(e);return new Lt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const sC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(n){if($e(!!n),typeof n=="string"){let e=0;const t=sC.exec(n);if($e(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:at(n.seconds),nanos:at(n.nanos)}}function at(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ci(n){return typeof n=="string"?Lt.fromBase64String(n):Lt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="server_timestamp",Fv="__type__",Uv="__previous_value__",jv="__local_write_time__";function Gf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fv])===null||t===void 0?void 0:t.stringValue)===Mv}function Uc(n){const e=n.mapValue.fields[Uv];return Gf(e)?Uc(e):e}function tl(n){const e=Si(n.mapValue.fields[jv].timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t,i,o,l,d,h,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=y}}const vc="(default)";class nl{constructor(e,t){this.projectId=e,this.database=t||vc}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database===vc}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="__type__",$v="__max__",qu={mapValue:{fields:{__type__:{stringValue:$v}}}},Bv="__vector__",wc="value";function Ri(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gf(n)?4:lC(n)?9007199254740991:aC(n)?10:11:Ee()}function lr(n,e){if(n===e)return!0;const t=Ri(n);if(t!==Ri(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tl(n).isEqual(tl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const d=Si(o.timestampValue),h=Si(l.timestampValue);return d.seconds===h.seconds&&d.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Ci(o.bytesValue).isEqual(Ci(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return at(o.geoPointValue.latitude)===at(l.geoPointValue.latitude)&&at(o.geoPointValue.longitude)===at(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return at(o.integerValue)===at(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const d=at(o.doubleValue),h=at(l.doubleValue);return d===h?_c(d)===_c(h):isNaN(d)&&isNaN(h)}return!1}(n,e);case 9:return Ao(n.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return function(o,l){const d=o.mapValue.fields||{},h=l.mapValue.fields||{};if(Oy(d)!==Oy(h))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(h[p]===void 0||!lr(d[p],h[p])))return!1;return!0}(n,e);default:return Ee()}}function rl(n,e){return(n.values||[]).find(t=>lr(t,e))!==void 0}function Po(n,e){if(n===e)return 0;const t=Ri(n),i=Ri(e);if(t!==i)return Ne(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(n.booleanValue,e.booleanValue);case 2:return function(l,d){const h=at(l.integerValue||l.doubleValue),p=at(d.integerValue||d.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return My(n.timestampValue,e.timestampValue);case 4:return My(tl(n),tl(e));case 5:return Ne(n.stringValue,e.stringValue);case 6:return function(l,d){const h=Ci(l),p=Ci(d);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,d){const h=l.split("/"),p=d.split("/");for(let y=0;y<h.length&&y<p.length;y++){const w=Ne(h[y],p[y]);if(w!==0)return w}return Ne(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,d){const h=Ne(at(l.latitude),at(d.latitude));return h!==0?h:Ne(at(l.longitude),at(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Fy(n.arrayValue,e.arrayValue);case 10:return function(l,d){var h,p,y,w;const T=l.fields||{},S=d.fields||{},k=(h=T[wc])===null||h===void 0?void 0:h.arrayValue,O=(p=S[wc])===null||p===void 0?void 0:p.arrayValue,F=Ne(((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0,((w=O==null?void 0:O.values)===null||w===void 0?void 0:w.length)||0);return F!==0?F:Fy(k,O)}(n.mapValue,e.mapValue);case 11:return function(l,d){if(l===qu.mapValue&&d===qu.mapValue)return 0;if(l===qu.mapValue)return 1;if(d===qu.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),y=d.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let T=0;T<p.length&&T<w.length;++T){const S=Ne(p[T],w[T]);if(S!==0)return S;const k=Po(h[p[T]],y[w[T]]);if(k!==0)return k}return Ne(p.length,w.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function My(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ne(n,e);const t=Si(n),i=Si(e),o=Ne(t.seconds,i.seconds);return o!==0?o:Ne(t.nanos,i.nanos)}function Fy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Po(t[o],i[o]);if(l)return l}return Ne(t.length,i.length)}function ko(n){return uf(n)}function uf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Si(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ci(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ge.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=uf(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const d of i)l?l=!1:o+=",",o+=`${d}:${uf(t.fields[d])}`;return o+"}"}(n.mapValue):Ee()}function nc(n){switch(Ri(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uc(n);return e?16+nc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ci(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+nc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Di(i.fields,(l,d)=>{o+=l.length+nc(d)}),o}(n.mapValue);default:throw Ee()}}function Uy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function cf(n){return!!n&&"integerValue"in n}function Qf(n){return!!n&&"arrayValue"in n}function jy(n){return!!n&&"nullValue"in n}function zy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rc(n){return!!n&&"mapValue"in n}function aC(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[zv])===null||t===void 0?void 0:t.stringValue)===Bv}function Ka(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Di(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ka(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ka(n.arrayValue.values[t]);return e}return Object.assign({},n)}function lC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===$v}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!rc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ka(t)}setAll(e){let t=bt.emptyPath(),i={},o=[];e.forEach((d,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=h.popLast()}d?i[h.lastSegment()]=Ka(d):o.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());rc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];rc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Di(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new sn(Ka(this.value))}}function Hv(n){const e=[];return Di(n.fields,(t,i)=>{const o=new bt([t]);if(rc(i)){const l=Hv(i.mapValue).fields;if(l.length===0)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t,i,o,l,d,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=d,this.documentState=h}static newInvalidDocument(e){return new zt(e,0,Ie.min(),Ie.min(),Ie.min(),sn.empty(),0)}static newFoundDocument(e,t,i,o){return new zt(e,1,t,Ie.min(),i,o,0)}static newNoDocument(e,t){return new zt(e,2,t,Ie.min(),Ie.min(),sn.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,Ie.min(),Ie.min(),sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,t){this.position=e,this.inclusive=t}}function $y(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],d=n.position[o];if(l.field.isKeyField()?i=ge.comparator(ge.fromName(d.referenceValue),t.key):i=Po(d,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function By(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!lr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,t="asc"){this.field=e,this.dir=t}}function uC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{}class dt extends Wv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new dC(e,t,i):t==="array-contains"?new pC(e,i):t==="in"?new mC(e,i):t==="not-in"?new gC(e,i):t==="array-contains-any"?new yC(e,i):new dt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new hC(e,i):new fC(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Po(t,this.value)):t!==null&&Ri(this.value)===Ri(t)&&this.matchesComparison(Po(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends Wv{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Hn(e,t)}matches(e){return qv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function qv(n){return n.op==="and"}function Kv(n){return cC(n)&&qv(n)}function cC(n){for(const e of n.filters)if(e instanceof Hn)return!1;return!0}function df(n){if(n instanceof dt)return n.field.canonicalString()+n.op.toString()+ko(n.value);if(Kv(n))return n.filters.map(e=>df(e)).join(",");{const e=n.filters.map(t=>df(t)).join(",");return`${n.op}(${e})`}}function Gv(n,e){return n instanceof dt?function(i,o){return o instanceof dt&&i.op===o.op&&i.field.isEqual(o.field)&&lr(i.value,o.value)}(n,e):n instanceof Hn?function(i,o){return o instanceof Hn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,d,h)=>l&&Gv(d,o.filters[h]),!0):!1}(n,e):void Ee()}function Qv(n){return n instanceof dt?function(t){return`${t.field.canonicalString()} ${t.op} ${ko(t.value)}`}(n):n instanceof Hn?function(t){return t.op.toString()+" {"+t.getFilters().map(Qv).join(" ,")+"}"}(n):"Filter"}class dC extends dt{constructor(e,t,i){super(e,t,i),this.key=ge.fromName(i.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class hC extends dt{constructor(e,t){super(e,"in",t),this.keys=Yv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fC extends dt{constructor(e,t){super(e,"not-in",t),this.keys=Yv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Yv(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ge.fromName(i.referenceValue))}class pC extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qf(t)&&rl(t.arrayValue,this.value)}}class mC extends dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rl(this.value.arrayValue,t)}}class gC extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!rl(this.value.arrayValue,t)}}class yC extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>rl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,t=null,i=[],o=[],l=null,d=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=d,this.endAt=h,this.le=null}}function Hy(n,e=null,t=[],i=[],o=null,l=null,d=null){return new _C(n,e,t,i,o,l,d)}function Yf(n){const e=Se(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>df(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Fc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ko(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ko(i)).join(",")),e.le=t}return e.le}function Xf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!uC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Gv(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!By(n.startAt,e.startAt)&&By(n.endAt,e.endAt)}function hf(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,t=null,i=[],o=[],l=null,d="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=d,this.startAt=h,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function vC(n,e,t,i,o,l,d,h){return new pl(n,e,t,i,o,l,d,h)}function Jf(n){return new pl(n)}function Wy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Xv(n){return n.collectionGroup!==null}function Ga(n){const e=Se(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let h=new wt(bt.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(h=h.add(y.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Tc(l,i))}),t.has(bt.keyField().canonicalString())||e.he.push(new Tc(bt.keyField(),i))}return e.he}function or(n){const e=Se(n);return e.Pe||(e.Pe=wC(e,Ga(n))),e.Pe}function wC(n,e){if(n.limitType==="F")return Hy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Tc(o.field,l)});const t=n.endAt?new Ec(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ec(n.startAt.position,n.startAt.inclusive):null;return Hy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ff(n,e){const t=n.filters.concat([e]);return new pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function pf(n,e,t){return new pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jc(n,e){return Xf(or(n),or(e))&&n.limitType===e.limitType}function Jv(n){return`${Yf(or(n))}|lt:${n.limitType}`}function _o(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Qv(o)).join(", ")}]`),Fc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>ko(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>ko(o)).join(",")),`Target(${i})`}(or(n))}; limitType=${n.limitType})`}function zc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ge.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of Ga(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(d,h,p){const y=$y(d,h,p);return d.inclusive?y<=0:y<0}(i.startAt,Ga(i),o)||i.endAt&&!function(d,h,p){const y=$y(d,h,p);return d.inclusive?y>=0:y>0}(i.endAt,Ga(i),o))}(n,e)}function EC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Zv(n){return(e,t)=>{let i=!1;for(const o of Ga(n)){const l=TC(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function TC(n,e,t){const i=n.field.isKeyField()?ge.comparator(e.key,t.key):function(l,d,h){const p=d.data.field(l),y=h.data.field(l);return p!==null&&y!==null?Po(p,y):Ee()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Di(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Ov(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new rt(ge.comparator);function Fr(){return IC}const ew=new rt(ge.comparator);function Ba(...n){let e=ew;for(const t of n)e=e.insert(t.key,t);return e}function tw(n){let e=ew;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ds(){return Qa()}function nw(){return Qa()}function Qa(){return new ws(n=>n.toString(),(n,e)=>n.isEqual(e))}const SC=new rt(ge.comparator),CC=new wt(ge.comparator);function ke(...n){let e=CC;for(const t of n)e=e.add(t);return e}const RC=new wt(Ne);function AC(){return RC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function rw(n){return{integerValue:""+n}}function PC(n,e){return nC(e)?rw(e):Zf(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this._=void 0}}function kC(n,e,t){return n instanceof Ic?function(o,l){const d={fields:{[Fv]:{stringValue:Mv},[jv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Gf(l)&&(l=Uc(l)),l&&(d.fields[Uv]=l),{mapValue:d}}(t,e):n instanceof il?sw(n,e):n instanceof sl?ow(n,e):function(o,l){const d=iw(o,l),h=qy(d)+qy(o.Ie);return cf(d)&&cf(o.Ie)?rw(h):Zf(o.serializer,h)}(n,e)}function xC(n,e,t){return n instanceof il?sw(n,e):n instanceof sl?ow(n,e):t}function iw(n,e){return n instanceof Sc?function(i){return cf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Ic extends $c{}class il extends $c{constructor(e){super(),this.elements=e}}function sw(n,e){const t=aw(e);for(const i of n.elements)t.some(o=>lr(o,i))||t.push(i);return{arrayValue:{values:t}}}class sl extends $c{constructor(e){super(),this.elements=e}}function ow(n,e){let t=aw(e);for(const i of n.elements)t=t.filter(o=>!lr(o,i));return{arrayValue:{values:t}}}class Sc extends $c{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function qy(n){return at(n.integerValue||n.doubleValue)}function aw(n){return Qf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function NC(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof il&&o instanceof il||i instanceof sl&&o instanceof sl?Ao(i.elements,o.elements,lr):i instanceof Sc&&o instanceof Sc?lr(i.Ie,o.Ie):i instanceof Ic&&o instanceof Ic}(n.transform,e.transform)}class bC{constructor(e,t){this.version=e,this.transformResults=t}}class Cn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Bc{}function lw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ep(n.key,Cn.none()):new ml(n.key,n.data,Cn.none());{const t=n.data,i=sn.empty();let o=new wt(bt.comparator);for(let l of e.fields)if(!o.has(l)){let d=t.field(l);d===null&&l.length>1&&(l=l.popLast(),d=t.field(l)),d===null?i.delete(l):i.set(l,d),o=o.add(l)}return new Li(n.key,i,new pn(o.toArray()),Cn.none())}}function DC(n,e,t){n instanceof ml?function(o,l,d){const h=o.value.clone(),p=Gy(o.fieldTransforms,l,d.transformResults);h.setAll(p),l.convertToFoundDocument(d.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Li?function(o,l,d){if(!ic(o.precondition,l))return void l.convertToUnknownDocument(d.version);const h=Gy(o.fieldTransforms,l,d.transformResults),p=l.data;p.setAll(uw(o)),p.setAll(h),l.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function Ya(n,e,t,i){return n instanceof ml?function(l,d,h,p){if(!ic(l.precondition,d))return h;const y=l.value.clone(),w=Qy(l.fieldTransforms,p,d);return y.setAll(w),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Li?function(l,d,h,p){if(!ic(l.precondition,d))return h;const y=Qy(l.fieldTransforms,p,d),w=d.data;return w.setAll(uw(l)),w.setAll(y),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,d,h){return ic(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):h}(n,e,t)}function LC(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=iw(i.transform,o||null);l!=null&&(t===null&&(t=sn.empty()),t.set(i.field,l))}return t||null}function Ky(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ao(i,o,(l,d)=>NC(l,d))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ml extends Bc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Li extends Bc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function uw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Gy(n,e,t){const i=new Map;$e(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],d=l.transform,h=e.data.field(l.field);i.set(l.field,xC(d,h,t[o]))}return i}function Qy(n,e,t){const i=new Map;for(const o of n){const l=o.transform,d=t.data.field(o.field);i.set(o.field,kC(l,d,e))}return i}class ep extends Bc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OC extends Bc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&DC(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ya(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ya(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=nw();return this.mutations.forEach(o=>{const l=e.get(o.key),d=l.overlayedDocument;let h=this.applyToLocalView(d,l.mutatedFields);h=t.has(o.key)?null:h;const p=lw(d,h);p!==null&&i.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,(t,i)=>Ky(t,i))&&Ao(this.baseMutations,e.baseMutations,(t,i)=>Ky(t,i))}}class tp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){$e(e.mutations.length===i.length);let o=function(){return SC}();const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,i[d].version);return new tp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Le;function UC(n){switch(n){case X.OK:return Ee();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Ee()}}function cw(n){if(n===void 0)return Mr("GRPC error has no .code"),X.UNKNOWN;switch(n){case ct.OK:return X.OK;case ct.CANCELLED:return X.CANCELLED;case ct.UNKNOWN:return X.UNKNOWN;case ct.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ct.INTERNAL:return X.INTERNAL;case ct.UNAVAILABLE:return X.UNAVAILABLE;case ct.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ct.NOT_FOUND:return X.NOT_FOUND;case ct.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ct.ABORTED:return X.ABORTED;case ct.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ct.DATA_LOSS:return X.DATA_LOSS;default:return Ee()}}(Le=ct||(ct={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new Ei([4294967295,4294967295],0);function Yy(n){const e=jC().encode(n),t=new Rv;return t.update(e),new Uint8Array(t.digest())}function Xy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ei([t,i],0),new Ei([o,l],0)]}class np{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ha(`Invalid padding: ${t}`);if(i<0)throw new Ha(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ha(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ha(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ei.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(Ei.fromNumber(i)));return o.compare(zC)===1&&(o=new Ei([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Yy(e),[i,o]=Xy(t);for(let l=0;l<this.hashCount;l++){const d=this.Ae(i,o,l);if(!this.Re(d))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new np(l,o,t);return i.forEach(h=>d.insert(h)),d}insert(e){if(this.Ee===0)return;const t=Yy(e),[i,o]=Xy(t);for(let l=0;l<this.hashCount;l++){const d=this.Ae(i,o,l);this.Ve(d)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,gl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Hc(Ie.min(),o,new rt(Ne),Fr(),ke())}}class gl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new gl(i,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class dw{constructor(e,t){this.targetId=e,this.ge=t}}class hw{constructor(e,t,i=Lt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Jy{constructor(){this.pe=0,this.ye=Zy(),this.we=Lt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ke(),t=ke(),i=ke();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ee()}}),new gl(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=Zy()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class $C{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Fr(),this.$e=Ku(),this.Ke=Ku(),this.Ue=new rt(Ne)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(hf(l))if(i===0){const d=new ge(l.path);this.ze(t,d,zt.newNoDocument(d,Ie.min()))}else $e(i===1);else{const d=this.et(t);if(d!==i){const h=this.tt(e),p=h?this.nt(h,e,d):1;if(p!==0){this.Ye(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let d,h;try{d=Ci(i).toUint8Array()}catch(p){if(p instanceof Vv)return Ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new np(d,o,l)}catch(p){return Ro(p instanceof Ha?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Ee===0?null:h}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const d=this.ke.it(),h=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,d)=>{const h=this.Xe(d);if(h){if(l.current&&hf(h.target)){const p=new ge(h.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,zt.newNoDocument(p,e))}l.ve&&(t.set(d,l.Fe()),l.Me())}});let i=ke();this.Ke.forEach((l,d)=>{let h=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.Qe.forEach((l,d)=>d.setReadTime(e));const o=new Hc(e,t,this.Ue,this.Qe,i);return this.Qe=Fr(),this.$e=Ku(),this.Ke=Ku(),this.Ue=new rt(Ne),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Jy,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new wt(Ne),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new wt(Ne),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Jy),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Ku(){return new rt(ge.comparator)}function Zy(){return new rt(ge.comparator)}const BC={asc:"ASCENDING",desc:"DESCENDING"},HC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WC={and:"AND",or:"OR"};class qC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mf(n,e){return n.useProto3Json||Fc(e)?e:{value:e}}function Cc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function KC(n,e){return Cc(n,e.toTimestamp())}function ar(n){return $e(!!n),Ie.fromTimestamp(function(t){const i=Si(t);return new vt(i.seconds,i.nanos)}(n))}function rp(n,e){return gf(n,e).canonicalString()}function gf(n,e){const t=function(o){return new Ye(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function pw(n){const e=Ye.fromString(n);return $e(vw(e)),e}function yf(n,e){return rp(n.databaseId,e.path)}function qh(n,e){const t=pw(e);if(t.get(1)!==n.databaseId.projectId)throw new de(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(gw(t))}function mw(n,e){return rp(n.databaseId,e)}function GC(n){const e=pw(n);return e.length===4?Ye.emptyPath():gw(e)}function _f(n){return new Ye(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gw(n){return $e(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function e_(n,e,t){return{name:yf(n,e),fields:t.value.mapValue.fields}}function QC(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,w){return y.useProto3Json?($e(w===void 0||typeof w=="string"),Lt.fromBase64String(w||"")):($e(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Lt.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,h=d&&function(y){const w=y.code===void 0?X.UNKNOWN:cw(y.code);return new de(w,y.message||"")}(d);t=new hw(i,o,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=qh(n,i.document.name),l=ar(i.document.updateTime),d=i.document.createTime?ar(i.document.createTime):Ie.min(),h=new sn({mapValue:{fields:i.document.fields}}),p=zt.newFoundDocument(o,l,d,h),y=i.targetIds||[],w=i.removedTargetIds||[];t=new sc(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=qh(n,i.document),l=i.readTime?ar(i.readTime):Ie.min(),d=zt.newNoDocument(o,l),h=i.removedTargetIds||[];t=new sc([],h,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=qh(n,i.document),l=i.removedTargetIds||[];t=new sc([],l,o,null)}else{if(!("filter"in e))return Ee();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,d=new FC(o,l),h=i.targetId;t=new dw(h,d)}}return t}function YC(n,e){let t;if(e instanceof ml)t={update:e_(n,e.key,e.value)};else if(e instanceof ep)t={delete:yf(n,e.key)};else if(e instanceof Li)t={update:e_(n,e.key,e.data),updateMask:sR(e.fieldMask)};else{if(!(e instanceof OC))return Ee();t={verify:yf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,d){const h=d.transform;if(h instanceof Ic)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof il)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof sl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Sc)return{fieldPath:d.field.canonicalString(),increment:h.Ie};throw Ee()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:KC(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee()}(n,e.precondition)),t}function XC(n,e){return n&&n.length>0?($e(e!==void 0),n.map(t=>function(o,l){let d=o.updateTime?ar(o.updateTime):ar(l);return d.isEqual(Ie.min())&&(d=ar(l)),new bC(d,o.transformResults||[])}(t,e))):[]}function JC(n,e){return{documents:[mw(n,e.path)]}}function ZC(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=mw(n,o);const l=function(y){if(y.length!==0)return _w(Hn.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const d=function(y){if(y.length!==0)return y.map(w=>function(S){return{field:vo(S.field),direction:nR(S.dir)}}(w))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const h=mf(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function eR(n){let e=GC(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){$e(i===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=function(T){const S=yw(T);return S instanceof Hn&&Kv(S)?S.getFilters():[S]}(t.where));let d=[];t.orderBy&&(d=function(T){return T.map(S=>function(O){return new Tc(wo(O.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(S))}(t.orderBy));let h=null;t.limit&&(h=function(T){let S;return S=typeof T=="object"?T.value:T,Fc(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(T){const S=!!T.before,k=T.values||[];return new Ec(k,S)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const S=!T.before,k=T.values||[];return new Ec(k,S)}(t.endAt)),vC(e,o,d,l,h,"F",p,y)}function tR(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=wo(t.unaryFilter.field);return dt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=wo(t.unaryFilter.field);return dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=wo(t.unaryFilter.field);return dt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=wo(t.unaryFilter.field);return dt.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):n.fieldFilter!==void 0?function(t){return dt.create(wo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Hn.create(t.compositeFilter.filters.map(i=>yw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee()}function nR(n){return BC[n]}function rR(n){return HC[n]}function iR(n){return WC[n]}function vo(n){return{fieldPath:n.canonicalString()}}function wo(n){return bt.fromServerFormat(n.fieldPath)}function _w(n){return n instanceof dt?function(t){if(t.op==="=="){if(zy(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NAN"}};if(jy(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zy(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NAN"}};if(jy(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(t.field),op:rR(t.op),value:t.value}}}(n):n instanceof Hn?function(t){const i=t.getFilters().map(o=>_w(o));return i.length===1?i[0]:{compositeFilter:{op:iR(t.op),filters:i}}}(n):Ee()}function sR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,t,i,o,l=Ie.min(),d=Ie.min(),h=Lt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.Tt=e}}function aR(n){const e=eR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?pf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.Tn=new uR}addToCollectionParentIndex(e,t){return this.Tn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Ii.min())}updateCollectionGroup(e,t,i){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class uR{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new wt(Ye.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new wt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ww=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(ww,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new xo(0)}static Un(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="LruGarbageCollector",cR=1048576;function r_([n,e],[t,i]){const o=Ne(n,t);return o===0?Ne(e,i):o}class dR{constructor(e){this.Hn=e,this.buffer=new wt(r_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();r_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hR{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(n_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Mo(t)?ue(n_,"Ignoring IndexedDB error during garbage collection: ",t):await Vo(t)}await this.er(3e5)})}}class fR{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(Mc.ae);const i=new dR(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(t_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t_):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,l,d,h,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,d=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,h=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),yo()<=Pe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(h-d)+`ms
	Removed ${l} targets in `+(p-h)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-w}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function pR(n,e){return new fR(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.changes=new ws(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Ya(i.mutation,o,pn.empty(),vt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ke()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ke()){const o=ds();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let d=Ba();return l.forEach((h,p)=>{d=d.insert(h,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const i=ds();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ke()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((d,h)=>{t.set(d,h)})})}computeViews(e,t,i,o){let l=Fr();const d=Qa(),h=function(){return Qa()}();return t.forEach((p,y)=>{const w=i.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof Li)?l=l.insert(y.key,y):w!==void 0?(d.set(y.key,w.mutation.getFieldMask()),Ya(w.mutation,y,w.mutation.getFieldMask(),vt.now())):d.set(y.key,pn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,w)=>d.set(y,w)),t.forEach((y,w)=>{var T;return h.set(y,new gR(w,(T=d.get(y))!==null&&T!==void 0?T:null))}),h))}recalculateAndSaveOverlays(e,t){const i=Qa();let o=new rt((d,h)=>d-h),l=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const h of d)h.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let w=i.get(p)||pn.empty();w=h.applyToLocalView(y,w),i.set(p,w);const T=(o.get(h.batchId)||ke()).add(p);o=o.insert(h.batchId,T)})}).next(()=>{const d=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,w=p.value,T=nw();w.forEach(S=>{if(!l.has(S)){const k=lw(t.get(S),i.get(S));k!==null&&T.set(S,k),l=l.add(S)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,T))}return Q.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(d){return ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Xv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Q.resolve(ds());let h=el,p=l;return d.next(y=>Q.forEach(y,(w,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),l.get(w)?Q.resolve():this.remoteDocumentCache.getEntry(e,w).next(S=>{p=p.insert(w,S)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,ke())).next(w=>({batchId:h,changes:tw(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(i=>{let o=Ba();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let d=Ba();return this.indexManager.getCollectionParents(e,l).next(h=>Q.forEach(h,p=>{const y=function(T,S){return new pl(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(w=>{w.forEach((T,S)=>{d=d.insert(T,S)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(d=>{l.forEach((p,y)=>{const w=y.getKey();d.get(w)===null&&(d=d.insert(w,zt.newInvalidDocument(w)))});let h=Ba();return d.forEach((p,y)=>{const w=l.get(p);w!==void 0&&Ya(w.mutation,y,pn.empty(),vt.now()),zc(t,y)&&(h=h.insert(p,y))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Q.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ar(o.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:aR(o.bundledQuery),readTime:ar(o.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.overlays=new rt(ge.comparator),this.Rr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ds();return Q.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Et(e,t,l)}),Q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),Q.resolve()}getOverlaysForCollection(e,t,i){const o=ds(),l=t.length+1,d=new ge(t.child("")),h=this.overlays.getIteratorFrom(d);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new rt((y,w)=>y-w);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=l.get(y.largestBatchId);w===null&&(w=ds(),l=l.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const h=ds(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,w)=>h.set(y,w)),!(h.size()>=o)););return Q.resolve(h)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new MC(t,i));let l=this.Rr.get(t);l===void 0&&(l=ke(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this.Vr=new wt(Rt.mr),this.gr=new wt(Rt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Rt(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Rt(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new ge(new Ye([])),i=new Rt(t,e),o=new Rt(t,e+1),l=[];return this.gr.forEachInRange([i,o],d=>{this.wr(d),l.push(d.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ge(new Ye([])),i=new Rt(t,e),o=new Rt(t,e+1);let l=ke();return this.gr.forEachInRange([i,o],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Rt(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Rt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ge.comparator(e.key,t.key)||Ne(e.Cr,t.Cr)}static pr(e,t){return Ne(e.Cr,t.Cr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new wt(Rt.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new VC(l,t,i,o);this.mutationQueue.push(d);for(const h of o)this.Mr=this.Mr.add(new Rt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,t){return Q.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Kf:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Rt(t,0),o=new Rt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,o],d=>{const h=this.Or(d.Cr);l.push(h)}),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new wt(Ne);return t.forEach(o=>{const l=new Rt(o,0),d=new Rt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,d],h=>{i=i.add(h.Cr)})}),Q.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ge.isDocumentKey(l)||(l=l.child(""));const d=new Rt(new ge(l),0);let h=new wt(Ne);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(h=h.add(p.Cr)),!0)},d),Q.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){$e(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return Q.forEach(t.mutations,o=>{const l=new Rt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Rt(t,0),o=this.Mr.firstAfterOrEqual(i);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.kr=e,this.docs=function(){return new rt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,d=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Q.resolve(i?i.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let i=Fr();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():zt.newInvalidDocument(o))}),Q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Fr();const d=t.path,h=new ge(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||JS(XS(w),i)<=0||(o.has(w.key)||zc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Ee()}qr(e,t){return Q.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new IR(this)}getSize(e){return Q.resolve(this.size)}}class IR extends mR{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),Q.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.persistence=e,this.Qr=new ws(t=>Yf(t),Xf),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ip,this.targetCount=0,this.Ur=xo.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),Q.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new xo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.zn(t),Q.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Qr.forEach((d,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Qr.delete(d),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),Q.waitFor(l).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return Q.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),Q.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(d=>{l.push(o.markPotentiallyOrphaned(e,d))}),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return Q.resolve(i)}containsKey(e,t){return Q.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Mc(0),this.zr=!1,this.zr=!0,this.jr=new wR,this.referenceDelegate=e(this),this.Hr=new SR(this),this.indexManager=new lR,this.remoteDocumentCache=function(o){return new TR(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new oR(t),this.Yr=new _R(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new ER(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){ue("MemoryPersistence","Starting transaction:",e);const o=new CR(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return Q.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class CR extends eC{constructor(e){super(),this.currentSequenceNumber=e}}class sp{constructor(e){this.persistence=e,this.ti=new ip,this.ni=null}static ri(e){return new sp(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),Q.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Q.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,i=>{const o=ge.fromPath(i);return this.si(e,o).next(l=>{l||t.removeEntry(o,Ie.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Q.or([()=>Q.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Rc{constructor(e,t){this.persistence=e,this.oi=new ws(i=>rC(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=pR(this,t)}static ri(e,t){return new Rc(e,t)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return Q.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(l=>l?Q.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,t).next(h=>{h||(i++,l.removeEntry(d,Ie.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Q.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=nc(e.data.value)),t}ar(e,t,i){return Q.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return Q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=ke(),o=ke();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new op(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return lT()?8:tC($t())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.rs(e,t).next(d=>{l.result=d}).next(()=>{if(!l.result)return this.ss(e,t,o,i).next(d=>{l.result=d})}).next(()=>{if(l.result)return;const d=new RR;return this._s(e,t,d).next(h=>{if(l.result=h,this.Xi)return this.us(e,t,d,h.size)})}).next(()=>l.result)}us(e,t,i,o){return i.documentReadCount<this.es?(yo()<=Pe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(yo()<=Pe.DEBUG&&ue("QueryEngine","Query:",_o(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(yo()<=Pe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(t))):Q.resolve())}rs(e,t){if(Wy(t))return Q.resolve(null);let i=or(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=pf(t,null,"F"),i=or(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const d=ke(...l);return this.ns.getDocuments(e,d).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.cs(t,h);return this.ls(t,y,d,p.readTime)?this.rs(e,pf(t,null,"F")):this.hs(e,y,t,p)}))})))}ss(e,t,i,o){return Wy(t)||o.isEqual(Ie.min())?Q.resolve(null):this.ns.getDocuments(e,i).next(l=>{const d=this.cs(t,l);return this.ls(t,d,i,o)?Q.resolve(null):(yo()<=Pe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(t)),this.hs(e,d,t,YS(o,el)).next(h=>h))})}cs(e,t){let i=new wt(Zv(e));return t.forEach((o,l)=>{zc(e,l)&&(i=i.add(l))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,i){return yo()<=Pe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",_o(t)),this.ns.getDocumentsMatchingQuery(e,t,Ii.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="LocalStore",PR=3e8;class kR{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new rt(Ne),this.Is=new ws(l=>Yf(l),Xf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function xR(n,e,t,i){return new kR(n,e,t,i)}async function Tw(n,e){const t=Se(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const d=[],h=[];let p=ke();for(const y of o){d.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of l){h.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:h}))})})}function NR(n,e){const t=Se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,p,y,w){const T=y.batch,S=T.keys();let k=Q.resolve();return S.forEach(O=>{k=k.next(()=>w.getEntry(p,O)).next(F=>{const b=y.docVersions.get(O);$e(b!==null),F.version.compareTo(b)<0&&(T.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),w.addEntry(F)))})}),k.next(()=>h.mutationQueue.removeMutationBatch(p,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=ke();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(p=p.add(h.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function Iw(n){const e=Se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function bR(n,e){const t=Se(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const h=[];e.targetChanges.forEach((w,T)=>{const S=o.get(T);if(!S)return;h.push(t.Hr.removeMatchingKeys(l,w.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,w.addedDocuments,T)));let k=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Lt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):w.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(w.resumeToken,i)),o=o.insert(T,k),function(F,b,B){return F.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=PR?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(S,k,w)&&h.push(t.Hr.updateTargetData(l,k))});let p=Fr(),y=ke();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))}),h.push(DR(l,d,e.documentUpdates).next(w=>{p=w.Vs,y=w.fs})),!i.isEqual(Ie.min())){const w=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(w)}return Q.waitFor(h).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.Ts=o,l))}function DR(n,e,t){let i=ke(),o=ke();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let d=Fr();return t.forEach((h,p)=>{const y=l.get(h);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(h,p.readTime),d=d.insert(h,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(h,p)):ue(ap,"Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function LR(n,e){const t=Se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Kf),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function OR(n,e){const t=Se(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(l=>l?(o=l,Q.resolve(o)):t.Hr.allocateTargetId(i).next(d=>(o=new yi(e,d,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function vf(n,e,t){const i=Se(n),o=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,d=>i.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Mo(d))throw d;ue(ap,`Failed to update sequence numbers for target ${e}: ${d}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function i_(n,e,t){const i=Se(n);let o=Ie.min(),l=ke();return i.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,w){const T=Se(p),S=T.Is.get(w);return S!==void 0?Q.resolve(T.Ts.get(S)):T.Hr.getTargetData(y,w)}(i,d,or(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(d,h.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(d,e,t?o:Ie.min(),t?l:ke())).next(h=>(VR(i,EC(e),h),{documents:h,gs:l})))}function VR(n,e,t){let i=n.Es.get(e)||Ie.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class s_{constructor(){this.activeTargetIds=AC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MR{constructor(){this.ho=new s_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new s_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="ConnectivityMonitor";class a_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(o_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(o_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function wf(){return Gu===null?Gu=function(){return 268435456+Math.round(2147483648*Math.random())}():Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="RestConnection",UR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===vc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,t,i,o,l){const d=wf(),h=this.bo(e,t.toUriEncodedString());ue(Kh,`Sending RPC '${e}' ${d}:`,h,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,l),this.vo(e,h,p,i).then(y=>(ue(Kh,`Received RPC '${e}' ${d}: `,y),y),y=>{throw Ro(Kh,`RPC '${e}' ${d} failed with error: `,y,"url: ",h,"request:",i),y})}Co(e,t,i,o,l,d){return this.So(e,t,i,o,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const i=UR[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class $R extends jR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const l=wf();return new Promise((d,h)=>{const p=new Av;p.setWithCredentials(!0),p.listenOnce(Pv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case tc.NO_ERROR:const w=p.getResponseJson();ue(Ut,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),d(w);break;case tc.TIMEOUT:ue(Ut,`RPC '${e}' ${l} timed out`),h(new de(X.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:const T=p.getStatus();if(ue(Ut,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S==null?void 0:S.error;if(k&&k.status&&k.message){const O=function(b){const B=b.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(B)>=0?B:X.UNKNOWN}(k.status);h(new de(O,k.message))}else h(new de(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new de(X.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ue(Ut,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ue(Ut,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}Wo(e,t,i){const o=wf(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Nv(),h=xv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const w=l.join("");ue(Ut,`Creating RPC '${e}' stream ${o}: ${w}`,p);const T=d.createWebChannel(w,p);let S=!1,k=!1;const O=new zR({Fo:b=>{k?ue(Ut,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(S||(ue(Ut,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ue(Ut,`RPC '${e}' stream ${o} sending:`,b),T.send(b))},Mo:()=>T.close()}),F=(b,B,z)=>{b.listen(B,G=>{try{z(G)}catch(te){setTimeout(()=>{throw te},0)}})};return F(T,$a.EventType.OPEN,()=>{k||(ue(Ut,`RPC '${e}' stream ${o} transport opened.`),O.Qo())}),F(T,$a.EventType.CLOSE,()=>{k||(k=!0,ue(Ut,`RPC '${e}' stream ${o} transport closed`),O.Ko())}),F(T,$a.EventType.ERROR,b=>{k||(k=!0,Ro(Ut,`RPC '${e}' stream ${o} transport errored:`,b),O.Ko(new de(X.UNAVAILABLE,"The operation could not be completed")))}),F(T,$a.EventType.MESSAGE,b=>{var B;if(!k){const z=b.data[0];$e(!!z);const G=z,te=(G==null?void 0:G.error)||((B=G[0])===null||B===void 0?void 0:B.error);if(te){ue(Ut,`RPC '${e}' stream ${o} received error:`,te);const re=te.status;let oe=function(C){const x=ct[C];if(x!==void 0)return cw(x)}(re),A=te.message;oe===void 0&&(oe=X.INTERNAL,A="Unknown error status: "+re+" with message "+te.message),k=!0,O.Ko(new de(oe,A)),T.close()}else ue(Ut,`RPC '${e}' stream ${o} received:`,z),O.Uo(z)}}),F(h,kv.STAT_EVENT,b=>{b.stat===lf.PROXY?ue(Ut,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===lf.NOPROXY&&ue(Ut,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function Gh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(n){return new qC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="PersistentStream";class Cw{constructor(e,t,i,o,l,d,h,p){this.Ti=e,this.n_=i,this.r_=o,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Sw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Mr(t.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new de(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(l_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ue(l_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BR extends Cw{constructor(e,t,i,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,d),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=QC(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ie.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?ar(d.readTime):Ie.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=_f(this.serializer),t.addTarget=function(l,d){let h;const p=d.target;if(h=hf(p)?{documents:JC(l,p)}:{query:ZC(l,p).ht},h.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){h.resumeToken=fw(l,d.resumeToken);const y=mf(l,d.expectedCount);y!==null&&(h.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ie.min())>0){h.readTime=Cc(l,d.snapshotVersion.toTimestamp());const y=mf(l,d.expectedCount);y!==null&&(h.expectedCount=y)}return h}(this.serializer,e);const i=tR(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=_f(this.serializer),t.removeTarget=e,this.I_(t)}}class HR extends Cw{constructor(e,t,i,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,d),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=XC(e.writeResults,e.commitTime),i=ar(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=_f(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>YC(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{}class qR extends WR{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new de(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.So(e,gf(t,i),o,l,d)).catch(l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(X.UNKNOWN,l.toString())})}Co(e,t,i,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,h])=>this.connection.Co(e,gf(t,i),o,d,h,l)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(X.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class KR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mr(t),this.N_=!1):ue("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="RemoteStore";class GR{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(d=>{i.enqueueAndForget(async()=>{Es(this)&&(ue(_s,"Restarting streams for network reachability change."),await async function(p){const y=Se(p);y.W_.add(4),await yl(y),y.j_.set("Unknown"),y.W_.delete(4),await qc(y)}(this))})}),this.j_=new KR(i,o)}}async function qc(n){if(Es(n))for(const e of n.G_)await e(!0)}async function yl(n){for(const e of n.G_)await e(!1)}function Rw(n,e){const t=Se(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),dp(t)?cp(t):Fo(t).c_()&&up(t,e))}function lp(n,e){const t=Se(n),i=Fo(t);t.U_.delete(e),i.c_()&&Aw(t,e),t.U_.size===0&&(i.c_()?i.P_():Es(t)&&t.j_.set("Unknown"))}function up(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fo(n).y_(e)}function Aw(n,e){n.H_.Ne(e),Fo(n).w_(e)}function cp(n){n.H_=new $C({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Fo(n).start(),n.j_.B_()}function dp(n){return Es(n)&&!Fo(n).u_()&&n.U_.size>0}function Es(n){return Se(n).W_.size===0}function Pw(n){n.H_=void 0}async function QR(n){n.j_.set("Online")}async function YR(n){n.U_.forEach((e,t)=>{up(n,e)})}async function XR(n,e){Pw(n),dp(n)?(n.j_.q_(e),cp(n)):n.j_.set("Unknown")}async function JR(n,e,t){if(n.j_.set("Online"),e instanceof hw&&e.state===2&&e.cause)try{await async function(o,l){const d=l.cause;for(const h of l.targetIds)o.U_.has(h)&&(await o.remoteSyncer.rejectListen(h,d),o.U_.delete(h),o.H_.removeTarget(h))}(n,e)}catch(i){ue(_s,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ac(n,i)}else if(e instanceof sc?n.H_.We(e):e instanceof dw?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ie.min()))try{const i=await Iw(n.localStore);t.compareTo(i)>=0&&await function(l,d){const h=l.H_.ot(d);return h.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=l.U_.get(y);w&&l.U_.set(y,w.withResumeToken(p.resumeToken,d))}}),h.targetMismatches.forEach((p,y)=>{const w=l.U_.get(p);if(!w)return;l.U_.set(p,w.withResumeToken(Lt.EMPTY_BYTE_STRING,w.snapshotVersion)),Aw(l,p);const T=new yi(w.target,p,y,w.sequenceNumber);up(l,T)}),l.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){ue(_s,"Failed to raise snapshot:",i),await Ac(n,i)}}async function Ac(n,e,t){if(!Mo(e))throw e;n.W_.add(1),await yl(n),n.j_.set("Offline"),t||(t=()=>Iw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(_s,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await qc(n)})}function kw(n,e){return e().catch(t=>Ac(n,t,e))}async function Kc(n){const e=Se(n),t=Ai(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Kf;for(;ZR(e);)try{const o=await LR(e.localStore,i);if(o===null){e.K_.length===0&&t.P_();break}i=o.batchId,eA(e,o)}catch(o){await Ac(e,o)}xw(e)&&Nw(e)}function ZR(n){return Es(n)&&n.K_.length<10}function eA(n,e){n.K_.push(e);const t=Ai(n);t.c_()&&t.S_&&t.b_(e.mutations)}function xw(n){return Es(n)&&!Ai(n).u_()&&n.K_.length>0}function Nw(n){Ai(n).start()}async function tA(n){Ai(n).C_()}async function nA(n){const e=Ai(n);for(const t of n.K_)e.b_(t.mutations)}async function rA(n,e,t){const i=n.K_.shift(),o=tp.from(i,e,t);await kw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Kc(n)}async function iA(n,e){e&&Ai(n).S_&&await async function(i,o){if(function(d){return UC(d)&&d!==X.ABORTED}(o.code)){const l=i.K_.shift();Ai(i).h_(),await kw(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Kc(i)}}(n,e),xw(n)&&Nw(n)}async function u_(n,e){const t=Se(n);t.asyncQueue.verifyOperationInProgress(),ue(_s,"RemoteStore received new credentials");const i=Es(t);t.W_.add(3),await yl(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await qc(t)}async function sA(n,e){const t=Se(n);e?(t.W_.delete(2),await qc(t)):e||(t.W_.add(2),await yl(t),t.j_.set("Unknown"))}function Fo(n){return n.J_||(n.J_=function(t,i,o){const l=Se(t);return l.M_(),new BR(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{xo:QR.bind(null,n),No:YR.bind(null,n),Lo:XR.bind(null,n),p_:JR.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),dp(n)?cp(n):n.j_.set("Unknown")):(await n.J_.stop(),Pw(n))})),n.J_}function Ai(n){return n.Y_||(n.Y_=function(t,i,o){const l=Se(t);return l.M_(),new HR(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:tA.bind(null,n),Lo:iA.bind(null,n),D_:nA.bind(null,n),v_:rA.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Kc(n)):(await n.Y_.stop(),n.K_.length>0&&(ue(_s,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const d=Date.now()+i,h=new hp(e,t,d,o,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fp(n,e){if(Mr("AsyncQueue",`${e}: ${n}`),Mo(n))return new de(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{static emptySet(e){return new So(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ge.comparator(t.key,i.key):(t,i)=>ge.comparator(t.key,i.key),this.keyedMap=Ba(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new So;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.Z_=new rt(ge.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class No{constructor(e,t,i,o,l,d,h,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const d=[];return t.forEach(h=>{d.push({type:0,doc:h})}),new No(e,t,So.emptySet(t),d,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class aA{constructor(){this.queries=d_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=Se(t),l=o.queries;o.queries=d_(),l.forEach((d,h)=>{for(const p of h.ta)p.onError(i)})})(this,new de(X.ABORTED,"Firestore shutting down"))}}function d_(){return new ws(n=>Jv(n),jc)}async function bw(n,e){const t=Se(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(i=2):(l=new oA,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const h=fp(d,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&pp(t)}async function Dw(n,e){const t=Se(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const d=l.ta.indexOf(e);d>=0&&(l.ta.splice(d,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function lA(n,e){const t=Se(n);let i=!1;for(const o of e){const l=o.query,d=t.queries.get(l);if(d){for(const h of d.ta)h.oa(o)&&(i=!0);d.ea=o}}i&&pp(t)}function uA(n,e,t){const i=Se(n),o=i.queries.get(e);if(o)for(const l of o.ta)l.onError(t);i.queries.delete(e)}function pp(n){n.ia.forEach(e=>{e.next()})}var Ef,h_;(h_=Ef||(Ef={}))._a="default",h_.Cache="cache";class Lw{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new No(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ef.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this.key=e}}class Vw{constructor(e){this.key=e}}class cA{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ke(),this.mutatedKeys=ke(),this.ya=Zv(e),this.wa=new So(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new c_,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,T)=>{const S=o.get(w),k=zc(this.query,T)?T:null,O=!!S&&this.mutatedKeys.has(S.key),F=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let b=!1;S&&k?S.data.isEqual(k.data)?O!==F&&(i.track({type:3,doc:k}),b=!0):this.va(S,k)||(i.track({type:2,doc:k}),b=!0,(p&&this.ya(k,p)>0||y&&this.ya(k,y)<0)&&(h=!0)):!S&&k?(i.track({type:0,doc:k}),b=!0):S&&!k&&(i.track({type:1,doc:S}),b=!0,(p||y)&&(h=!0)),b&&(k?(d=d.add(k),l=F?l.add(w):l.delete(w)):(d=d.delete(w),l=l.delete(w)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),l=l.delete(w.key),i.track({type:1,doc:w})}return{wa:d,Da:i,ls:h,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((w,T)=>function(k,O){const F=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return F(k)-F(O)}(w.type,T.type)||this.ya(w.doc,T.doc)),this.Ca(i),o=o!=null&&o;const h=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new No(this.query,e.wa,l,d,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new c_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ke(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new Vw(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new Ow(i))}),t}Oa(e){this.fa=e.gs,this.pa=ke();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return No.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const mp="SyncEngine";class dA{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class hA{constructor(e){this.key=e,this.Ba=!1}}class fA{constructor(e,t,i,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new ws(h=>Jv(h),jc),this.qa=new Map,this.Qa=new Set,this.$a=new rt(ge.comparator),this.Ka=new Map,this.Ua=new ip,this.Wa={},this.Ga=new Map,this.za=xo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function pA(n,e,t=!0){const i=$w(n);let o;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await Mw(i,e,t,!0),o}async function mA(n,e){const t=$w(n);await Mw(t,e,!0,!1)}async function Mw(n,e,t,i){const o=await OR(n.localStore,or(e)),l=o.targetId,d=n.sharedClientState.addLocalQueryTarget(l,t);let h;return i&&(h=await gA(n,e,l,d==="current",o.resumeToken)),n.isPrimaryClient&&t&&Rw(n.remoteStore,o),h}async function gA(n,e,t,i,o){n.Ha=(T,S,k)=>async function(F,b,B,z){let G=b.view.ba(B);G.ls&&(G=await i_(F.localStore,b.query,!1).then(({documents:A})=>b.view.ba(A,G)));const te=z&&z.targetChanges.get(b.targetId),re=z&&z.targetMismatches.get(b.targetId)!=null,oe=b.view.applyChanges(G,F.isPrimaryClient,te,re);return p_(F,b.targetId,oe.Ma),oe.snapshot}(n,T,S,k);const l=await i_(n.localStore,e,!0),d=new cA(e,l.gs),h=d.ba(l.documents),p=gl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=d.applyChanges(h,n.isPrimaryClient,p);p_(n,t,y.Ma);const w=new dA(e,t,d);return n.ka.set(e,w),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),y.snapshot}async function yA(n,e,t){const i=Se(n),o=i.ka.get(e),l=i.qa.get(o.targetId);if(l.length>1)return i.qa.set(o.targetId,l.filter(d=>!jc(d,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await vf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&lp(i.remoteStore,o.targetId),Tf(i,o.targetId)}).catch(Vo)):(Tf(i,o.targetId),await vf(i.localStore,o.targetId,!0))}async function _A(n,e){const t=Se(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),lp(t.remoteStore,i.targetId))}async function vA(n,e,t){const i=RA(n);try{const o=await function(d,h){const p=Se(d),y=vt.now(),w=h.reduce((k,O)=>k.add(O.key),ke());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let O=Fr(),F=ke();return p.ds.getEntries(k,w).next(b=>{O=b,O.forEach((B,z)=>{z.isValidDocument()||(F=F.add(B))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,O)).next(b=>{T=b;const B=[];for(const z of h){const G=LC(z,T.get(z.key).overlayedDocument);G!=null&&B.push(new Li(z.key,G,Hv(G.value.mapValue),Cn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,B,h)}).next(b=>{S=b;const B=b.applyToLocalDocumentSet(T,F);return p.documentOverlayCache.saveOverlays(k,b.batchId,B)})}).then(()=>({batchId:S.batchId,changes:tw(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(d,h,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new rt(Ne)),y=y.insert(h,p),d.Wa[d.currentUser.toKey()]=y}(i,o.batchId,t),await _l(i,o.changes),await Kc(i.remoteStore)}catch(o){const l=fp(o,"Failed to persist write");t.reject(l)}}async function Fw(n,e){const t=Se(n);try{const i=await bR(t.localStore,e);e.targetChanges.forEach((o,l)=>{const d=t.Ka.get(l);d&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?$e(d.Ba):o.removedDocuments.size>0&&($e(d.Ba),d.Ba=!1))}),await _l(t,i,e)}catch(i){await Vo(i)}}function f_(n,e,t){const i=Se(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((l,d)=>{const h=d.view.sa(e);h.snapshot&&o.push(h.snapshot)}),function(d,h){const p=Se(d);p.onlineState=h;let y=!1;p.queries.forEach((w,T)=>{for(const S of T.ta)S.sa(h)&&(y=!0)}),y&&pp(p)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function wA(n,e,t){const i=Se(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ka.get(e),l=o&&o.key;if(l){let d=new rt(ge.comparator);d=d.insert(l,zt.newNoDocument(l,Ie.min()));const h=ke().add(l),p=new Hc(Ie.min(),new Map,new rt(Ne),d,h);await Fw(i,p),i.$a=i.$a.remove(l),i.Ka.delete(e),gp(i)}else await vf(i.localStore,e,!1).then(()=>Tf(i,e,t)).catch(Vo)}async function EA(n,e){const t=Se(n),i=e.batch.batchId;try{const o=await NR(t.localStore,e);jw(t,i,null),Uw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await _l(t,o)}catch(o){await Vo(o)}}async function TA(n,e,t){const i=Se(n);try{const o=await function(d,h){const p=Se(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return p.mutationQueue.lookupMutationBatch(y,h).next(T=>($e(T!==null),w=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>p.localDocuments.getDocuments(y,w))})}(i.localStore,e);jw(i,e,t),Uw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await _l(i,o)}catch(o){await Vo(o)}}function Uw(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function jw(n,e,t){const i=Se(n);let o=i.Wa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function Tf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||zw(n,i)})}function zw(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(lp(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),gp(n))}function p_(n,e,t){for(const i of t)i instanceof Ow?(n.Ua.addReference(i.key,e),IA(n,i)):i instanceof Vw?(ue(mp,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||zw(n,i.key)):Ee()}function IA(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(ue(mp,"New document in limbo: "+t),n.Qa.add(i),gp(n))}function gp(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ge(Ye.fromString(e)),i=n.za.next();n.Ka.set(i,new hA(t)),n.$a=n.$a.insert(t,i),Rw(n.remoteStore,new yi(or(Jf(t.path)),i,"TargetPurposeLimboResolution",Mc.ae))}}async function _l(n,e,t){const i=Se(n),o=[],l=[],d=[];i.ka.isEmpty()||(i.ka.forEach((h,p)=>{d.push(i.Ha(p,e,t).then(y=>{var w;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=op.Yi(p.targetId,y);l.push(T)}}))}),await Promise.all(d),i.La.p_(o),await async function(p,y){const w=Se(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Q.forEach(y,S=>Q.forEach(S.Hi,k=>w.persistence.referenceDelegate.addReference(T,S.targetId,k)).next(()=>Q.forEach(S.Ji,k=>w.persistence.referenceDelegate.removeReference(T,S.targetId,k)))))}catch(T){if(!Mo(T))throw T;ue(ap,"Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const k=w.Ts.get(S),O=k.snapshotVersion,F=k.withLastLimboFreeSnapshotVersion(O);w.Ts=w.Ts.insert(S,F)}}}(i.localStore,l))}async function SA(n,e){const t=Se(n);if(!t.currentUser.isEqual(e)){ue(mp,"User change. New user:",e.toKey());const i=await Tw(t.localStore,e);t.currentUser=e,function(l,d){l.Ga.forEach(h=>{h.forEach(p=>{p.reject(new de(X.CANCELLED,d))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await _l(t,i.Rs)}}function CA(n,e){const t=Se(n),i=t.Ka.get(e);if(i&&i.Ba)return ke().add(i.key);{let o=ke();const l=t.qa.get(e);if(!l)return o;for(const d of l){const h=t.ka.get(d);o=o.unionWith(h.view.Sa)}return o}}function $w(n){const e=Se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wA.bind(null,e),e.La.p_=lA.bind(null,e.eventManager),e.La.Ja=uA.bind(null,e.eventManager),e}function RA(n){const e=Se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TA.bind(null,e),e}class Pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return xR(this.persistence,new AR,e.initialUser,this.serializer)}Xa(e){return new Ew(sp.ri,this.serializer)}Za(e){return new MR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pc.provider={build:()=>new Pc};class AA extends Pc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){$e(this.persistence.referenceDelegate instanceof Rc);const i=this.persistence.referenceDelegate.garbageCollector;return new hR(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new Ew(i=>Rc.ri(i,t),this.serializer)}}class If{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>f_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=SA.bind(null,this.syncEngine),await sA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aA}()}createDatastore(e){const t=Wc(e.databaseInfo.databaseId),i=function(l){return new $R(l)}(e.databaseInfo);return function(l,d,h,p){return new qR(l,d,h,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,d,h){return new GR(i,o,l,d,h)}(this.localStore,this.datastore,e.asyncQueue,t=>f_(this.syncEngine,t,0),function(){return a_.D()?new a_:new FR}())}createSyncEngine(e,t){return function(o,l,d,h,p,y,w){const T=new fA(o,l,d,h,p,y);return w&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Se(o);ue(_s,"RemoteStore shutting down."),l.W_.add(5),await yl(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}If.provider={build:()=>new If};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="FirestoreClient";class PA{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=jt.UNAUTHENTICATED,this.clientId=Dv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async d=>{ue(Pi,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(i,d=>(ue(Pi,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=fp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Qh(n,e){n.asyncQueue.verifyOperationInProgress(),ue(Pi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Tw(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function m_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await kA(n);ue(Pi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>u_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>u_(e.remoteStore,o)),n._onlineComponents=e}async function kA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Pi,"Using user provided OfflineComponentProvider");try{await Qh(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ro("Error using user provided cache. Falling back to memory cache: "+t),await Qh(n,new Pc)}}else ue(Pi,"Using default OfflineComponentProvider"),await Qh(n,new AA(void 0));return n._offlineComponents}async function Hw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Pi,"Using user provided OnlineComponentProvider"),await m_(n,n._uninitializedComponentsProvider._online)):(ue(Pi,"Using default OnlineComponentProvider"),await m_(n,new If))),n._onlineComponents}function xA(n){return Hw(n).then(e=>e.syncEngine)}async function Ww(n){const e=await Hw(n),t=e.eventManager;return t.onListen=pA.bind(null,e.syncEngine),t.onUnlisten=yA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=mA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_A.bind(null,e.syncEngine),t}function NA(n,e,t={}){const i=new Dr;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,h,p,y){const w=new Bw({next:S=>{w.su(),d.enqueueAndForget(()=>Dw(l,T));const k=S.docs.has(h);!k&&S.fromCache?y.reject(new de(X.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&S.fromCache&&p&&p.source==="server"?y.reject(new de(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new Lw(Jf(h.path),w,{includeMetadataChanges:!0,Ta:!0});return bw(l,T)}(await Ww(n),n.asyncQueue,e,t,i)),i.promise}function bA(n,e,t={}){const i=new Dr;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,h,p,y){const w=new Bw({next:S=>{w.su(),d.enqueueAndForget(()=>Dw(l,T)),S.fromCache&&p.source==="server"?y.reject(new de(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new Lw(h,w,{includeMetadataChanges:!0,Ta:!0});return bw(l,T)}(await Ww(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(n,e,t){if(!t)throw new de(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DA(n,e,t,i){if(e===!0&&i===!0)throw new de(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function y_(n){if(!ge.isDocumentKey(n))throw new de(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function __(n){if(ge.isDocumentKey(n))throw new de(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Gc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee()}function Wn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Gc(n);throw new de(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="firestore.googleapis.com",v_=!0;class w_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new de(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gw,this.ssl=v_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:v_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ww;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cR)throw new de(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new de(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new de(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new de(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new $S;switch(i.type){case"firstParty":return new qS(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=g_.get(t);i&&(ue("ComponentProvider","Removing Datastore"),g_.delete(t),i.terminate())}(this),Promise.resolve()}}function LA(n,e,t,i={}){var o;const l=(n=Wn(n,Qc))._getSettings(),d=`${e}:${t}`;if(l.host!==Gw&&l.host!==d&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:d,ssl:!1})),i.mockUserToken){let h,p;if(typeof i.mockUserToken=="string")h=i.mockUserToken,p=jt.MOCK_USER;else{h=tT(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new de(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new jt(y)}n._authCredentials=new BS(new bv(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Uo(this.firestore,e,this._query)}}class Gt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}}class Ti extends Uo{constructor(e,t,i){super(e,t,Jf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new ge(e))}withConverter(e){return new Ti(this.firestore,e,this._path)}}function Qw(n,e,...t){if(n=Dt(n),Kw("collection","path",e),n instanceof Qc){const i=Ye.fromString(e,...t);return __(i),new Ti(n,null,i)}{if(!(n instanceof Gt||n instanceof Ti))throw new de(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ye.fromString(e,...t));return __(i),new Ti(n.firestore,null,i)}}function vl(n,e,...t){if(n=Dt(n),arguments.length===1&&(e=Dv.newId()),Kw("doc","path",e),n instanceof Qc){const i=Ye.fromString(e,...t);return y_(i),new Gt(n,null,new ge(i))}{if(!(n instanceof Gt||n instanceof Ti))throw new de(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ye.fromString(e,...t));return y_(i),new Gt(n.firestore,n instanceof Ti?n.converter:null,new ge(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="AsyncQueue";class T_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Sw(this,"async_queue_retry"),this.Su=()=>{const i=Gh();i&&ue(E_,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=Gh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Gh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Dr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Mo(e))throw e;ue(E_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(d){let h=d.message||"";return d.stack&&(h=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),h}(i);throw Mr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=hp.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Ts extends Qc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new T_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T_(e),this._firestoreClient=void 0,await e}}}function OA(n,e){const t=typeof n=="object"?n:B_(),i=typeof n=="string"?n:vc,o=Lf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=Z0("firestore");l&&LA(o,...l)}return o}function yp(n){if(n._terminated)throw new de(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||VA(n),n._firestoreClient}function VA(n){var e,t,i;const o=n._freezeSettings(),l=function(h,p,y,w){return new oC(h,p,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,qw(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new PA(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bo(Lt.fromBase64String(e))}catch(t){throw new de(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new bo(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=/^__.*__$/;class FA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Li(e,this.data,this.fieldMask,t,this.fieldTransforms):new ml(e,this.data,t,this.fieldTransforms)}}class Yw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Li(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Xw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Ep{constructor(e,t,i,o,l,d){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ep(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return kc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Xw(this.Lu)&&MA.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class UA{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Wc(e)}ju(e,t,i,o=!1){return new Ep({Lu:e,methodName:t,zu:i,path:bt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xc(n){const e=n._freezeSettings(),t=Wc(n._databaseId);return new UA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Jw(n,e,t,i,o,l={}){const d=n.ju(l.merge||l.mergeFields?2:0,e,t,o);Tp("Data must be an object, but it was:",d,i);const h=Zw(i,d);let p,y;if(l.merge)p=new pn(d.fieldMask),y=d.fieldTransforms;else if(l.mergeFields){const w=[];for(const T of l.mergeFields){const S=Sf(e,T,t);if(!d.contains(S))throw new de(X.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);tE(w,S)||w.push(S)}p=new pn(w),y=d.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,y=d.fieldTransforms;return new FA(new sn(h),p,y)}class Jc extends _p{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jc}}function jA(n,e,t,i){const o=n.ju(1,e,t);Tp("Data must be an object, but it was:",o,i);const l=[],d=sn.empty();Di(i,(p,y)=>{const w=Ip(e,p,t);y=Dt(y);const T=o.Ku(w);if(y instanceof Jc)l.push(w);else{const S=wl(y,T);S!=null&&(l.push(w),d.set(w,S))}});const h=new pn(l);return new Yw(d,h,o.fieldTransforms)}function zA(n,e,t,i,o,l){const d=n.ju(1,e,t),h=[Sf(e,i,t)],p=[o];if(l.length%2!=0)throw new de(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)h.push(Sf(e,l[S])),p.push(l[S+1]);const y=[],w=sn.empty();for(let S=h.length-1;S>=0;--S)if(!tE(y,h[S])){const k=h[S];let O=p[S];O=Dt(O);const F=d.Ku(k);if(O instanceof Jc)y.push(k);else{const b=wl(O,F);b!=null&&(y.push(k),w.set(k,b))}}const T=new pn(y);return new Yw(w,T,d.fieldTransforms)}function $A(n,e,t,i=!1){return wl(t,n.ju(i?4:3,e))}function wl(n,e){if(eE(n=Dt(n)))return Tp("Unsupported field value:",e,n),Zw(n,e);if(n instanceof _p)return function(i,o){if(!Xw(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const l=[];let d=0;for(const h of i){let p=wl(h,o.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),d++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=Dt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return PC(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=vt.fromDate(i);return{timestampValue:Cc(o.serializer,l)}}if(i instanceof vt){const l=new vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Cc(o.serializer,l)}}if(i instanceof vp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof bo)return{bytesValue:fw(o.serializer,i._byteString)};if(i instanceof Gt){const l=o.databaseId,d=i.firestore._databaseId;if(!d.isEqual(l))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:rp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof wp)return function(d,h){return{mapValue:{fields:{[zv]:{stringValue:Bv},[wc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw h.Wu("VectorValues must only contain numeric values.");return Zf(h.serializer,y)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${Gc(i)}`)}(n,e)}function Zw(n,e){const t={};return Ov(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Di(n,(i,o)=>{const l=wl(o,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function eE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof vp||n instanceof bo||n instanceof Gt||n instanceof _p||n instanceof wp)}function Tp(n,e,t){if(!eE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Gc(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function Sf(n,e,t){if((e=Dt(e))instanceof Yc)return e._internalPath;if(typeof e=="string")return Ip(n,e);throw kc("Field path arguments must be of type string or ",n,!1,void 0,t)}const BA=new RegExp("[~\\*/\\[\\]]");function Ip(n,e,t){if(e.search(BA)>=0)throw kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Yc(...e.split("."))._internalPath}catch{throw kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kc(n,e,t,i,o){const l=i&&!i.isEmpty(),d=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||d)&&(p+=" (found",l&&(p+=` in field ${i}`),d&&(p+=` in document ${o}`),p+=")"),new de(X.INVALID_ARGUMENT,h+n+p)}function tE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HA extends nE{data(){return super.data()}}function Sp(n,e){return typeof e=="string"?Ip(n,e):e instanceof Yc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cp{}class qA extends Cp{}function KA(n,e,...t){let i=[];e instanceof Cp&&i.push(e),i=i.concat(t),function(l){const d=l.filter(p=>p instanceof Rp).length,h=l.filter(p=>p instanceof Zc).length;if(d>1||d>0&&h>0)throw new de(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Zc extends qA{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Zc(e,t,i)}_apply(e){const t=this._parse(e);return rE(e._query,t),new Uo(e.firestore,e.converter,ff(e._query,t))}_parse(e){const t=Xc(e.firestore);return function(l,d,h,p,y,w,T){let S;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new de(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){S_(T,w);const O=[];for(const F of T)O.push(I_(p,l,F));S={arrayValue:{values:O}}}else S=I_(p,l,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||S_(T,w),S=$A(h,d,T,w==="in"||w==="not-in");return dt.create(y,w,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function GA(n,e,t){const i=e,o=Sp("where",n);return Zc._create(o,i,t)}class Rp extends Cp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Hn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let d=o;const h=l.getFlattenedFilters();for(const p of h)rE(d,p),d=ff(d,p)}(e._query,t),new Uo(e.firestore,e.converter,ff(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function I_(n,e,t){if(typeof(t=Dt(t))=="string"){if(t==="")throw new de(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xv(e)&&t.indexOf("/")!==-1)throw new de(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ye.fromString(t));if(!ge.isDocumentKey(i))throw new de(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Uy(n,new ge(i))}if(t instanceof Gt)return Uy(n,t._key);throw new de(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gc(t)}.`)}function S_(n,e){if(!Array.isArray(n)||n.length===0)throw new de(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rE(n,e){const t=function(o,l){for(const d of o)for(const h of d.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class QA{convertValue(e,t="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Di(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[wc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(d=>at(d.doubleValue));return new wp(l)}convertGeoPoint(e){return new vp(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Uc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(tl(e));default:return null}}convertTimestamp(e){const t=Si(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ye.fromString(e);$e(vw(i));const o=new nl(i.get(1),i.get(3)),l=new ge(i.popFirst(5));return o.isEqual(t)||Mr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sE extends nE{constructor(e,t,i,o,l,d){super(e,t,i,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Sp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class oc extends sE{data(e={}){return super.data(e)}}class YA{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Wa(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new oc(this._firestore,this._userDataWriter,i.key,i,new Wa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(h=>{const p=new oc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Wa(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const p=new oc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Wa(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return h.type!==0&&(y=d.indexOf(h.doc.key),d=d.delete(h.doc.key)),h.type!==1&&(d=d.add(h.doc),w=d.indexOf(h.doc.key)),{type:XA(h.type),doc:p,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function XA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n){n=Wn(n,Gt);const e=Wn(n.firestore,Ts);return NA(yp(e),n._key).then(t=>rP(e,n,t))}class oE extends QA{constructor(e){super(),this.firestore=e}convertBytes(e){return new bo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,t)}}function JA(n){n=Wn(n,Uo);const e=Wn(n.firestore,Ts),t=yp(e),i=new oE(e);return WA(n._query),bA(t,n._query).then(o=>new YA(e,i,n,o))}function ZA(n,e,t){n=Wn(n,Gt);const i=Wn(n.firestore,Ts),o=iE(n.converter,e);return ed(i,[Jw(Xc(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Cn.none())])}function eP(n,e,t,...i){n=Wn(n,Gt);const o=Wn(n.firestore,Ts),l=Xc(o);let d;return d=typeof(e=Dt(e))=="string"||e instanceof Yc?zA(l,"updateDoc",n._key,e,t,i):jA(l,"updateDoc",n._key,e),ed(o,[d.toMutation(n._key,Cn.exists(!0))])}function tP(n){return ed(Wn(n.firestore,Ts),[new ep(n._key,Cn.none())])}function nP(n,e){const t=Wn(n.firestore,Ts),i=vl(n),o=iE(n.converter,e);return ed(t,[Jw(Xc(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Cn.exists(!1))]).then(()=>i)}function ed(n,e){return function(i,o){const l=new Dr;return i.asyncQueue.enqueueAndForget(async()=>vA(await xA(i),o,l)),l.promise}(yp(n),e)}function rP(n,e,t){const i=t.docs.get(e._key),o=new oE(n);return new sE(n,o,e._key,i,new Wa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Oo=o})(Do),Co(new ps("firestore",(i,{instanceIdentifier:o,options:l})=>{const d=i.getProvider("app").getImmediate(),h=new Ts(new HS(i.getProvider("auth-internal")),new KS(d,i.getProvider("app-check-internal")),function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(y.options.projectId,w)}(d,o),d);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),wi(Py,ky,e),wi(Py,ky,"esm2017")})();const iP={apiKey:"AIzaSyBjDTlnNiTdbdT9VqLyVfSdEL1651Wwxw8",authDomain:"relationship-management-system.firebaseapp.com",projectId:"relationship-management-system",storageBucket:"relationship-management-system.firebasestorage.app",messagingSenderId:"837925519381",appId:"1:837925519381:web:0b707a66559f8023514e1c"},aE=$_(iP),jo=OA(aE),El=FS(aE);function lE({size:n="medium",color:e="primary",type:t="spinner",text:i="Loading...",showText:o=!0,fullScreen:l=!1}){const d={small:"h-4 w-4",medium:"h-8 w-8",large:"h-12 w-12"},h={primary:"text-blue-600",secondary:"text-gray-600",success:"text-green-600",danger:"text-red-600",warning:"text-yellow-600"},p=d[n]||d.medium,y=h[e]||h.primary,w=l?"fixed inset-0 flex items-center justify-center bg-white bg-opacity-75 z-50":"flex items-center justify-center",T=()=>{switch(t){case"dots":return W.jsx("div",{className:"flex space-x-2",children:[1,2,3].map(S=>W.jsx("div",{className:`rounded-full ${y} animate-pulse ${n==="small"?"h-2 w-2":n==="medium"?"h-3 w-3":"h-4 w-4"}`,style:{animationDelay:`${(S-1)*.2}s`}},S))});case"progress":return W.jsx("div",{className:"w-full max-w-xs overflow-hidden rounded-full bg-gray-200",children:W.jsx("div",{className:`h-2 ${y.replace("text","bg")} animate-pulse`,style:{width:"75%",animationDuration:"1.5s"}})});case"spinner":default:return W.jsxs("svg",{className:`animate-spin ${p} ${y}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[W.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),W.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}};return W.jsx("div",{className:w,children:W.jsxs("div",{className:"flex flex-col items-center",children:[T(),o&&i&&W.jsx("span",{className:`mt-2 ${y} text-sm font-medium`,children:i})]})})}const uE=async n=>{try{const e=vl(jo,"users",n.uid);await ZA(e,{createdAt:new Date,uid:n.uid,email:n.email})}catch(e){throw console.error("Error creating user in Firestore:",e),e}},cE=async n=>{try{const e=vl(jo,"users",n),t=await Ap(e);return t.exists()?t.data():(console.log("User does not exist in Firestore."),null)}catch(e){throw console.error("Error fetching user:",e),e}},sP=async n=>{try{const e=KA(Qw(jo,"interactions"),GA("userId","==",n));return(await JA(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(e){throw console.error("Error fetching interactions:",e),e}},oP=async n=>{try{return{id:(await nP(Qw(jo,"interactions"),{...n,createdAt:new Date})).id,...n}}catch(e){throw console.error("Error adding interaction:",e),e}},aP=async n=>{try{const e=vl(jo,"interactions",n.id),t=await Ap(e);if(t.exists()&&t.data().userId===n.userId)return await eP(e,n),n;throw new Error("Unauthorized: You can only update your own interactions.")}catch(e){throw console.error("Error updating interaction:",e),e}},lP=async(n,e)=>{try{const t=vl(jo,"interactions",e),i=await Ap(t);if(i.exists()&&i.data().userId===n)await tP(t);else throw new Error("Unauthorized: You can only delete your own interactions.")}catch(t){throw console.error("Error deleting interaction:",t),t}},dE=Me.createContext();function td(){return $.useContext(dE)}function uP({children:n}){const[e,t]=$.useState(null),[i,o]=$.useState(!0);$.useEffect(()=>{const d=A1(El,async h=>{if(h)try{const p=await cE(h.uid);t({...h,...p})}catch(p){console.error("Error fetching user data:",p)}else t(null);o(!1)});return()=>d()},[]);const l={currentUser:e,userLoggedIn:!!e,loading:i,userId:(e==null?void 0:e.uid)||null};return W.jsx(dE.Provider,{value:l,children:i?W.jsx(lE,{size:"large"}):n})}var Fa={},C_;function cP(){if(C_)return Fa;C_=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.parse=d,Fa.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function d(S,k){const O=new l,F=S.length;if(F<2)return O;const b=(k==null?void 0:k.decode)||w;let B=0;do{const z=S.indexOf("=",B);if(z===-1)break;const G=S.indexOf(";",B),te=G===-1?F:G;if(z>te){B=S.lastIndexOf(";",z-1)+1;continue}const re=h(S,B,z),oe=p(S,z,re),A=S.slice(re,oe);if(O[A]===void 0){let I=h(S,z+1,te),C=p(S,te,I);const x=b(S.slice(I,C));O[A]=x}B=te+1}while(B<F);return O}function h(S,k,O){do{const F=S.charCodeAt(k);if(F!==32&&F!==9)return k}while(++k<O);return O}function p(S,k,O){for(;k>O;){const F=S.charCodeAt(--k);if(F!==32&&F!==9)return k+1}return O}function y(S,k,O){const F=(O==null?void 0:O.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const b=F(k);if(!e.test(b))throw new TypeError(`argument val is invalid: ${k}`);let B=S+"="+b;if(!O)return B;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);B+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);B+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);B+="; Path="+O.path}if(O.expires){if(!T(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);B+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(B+="; HttpOnly"),O.secure&&(B+="; Secure"),O.partitioned&&(B+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return B}function w(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return o.call(S)==="[object Date]"}return Fa}cP();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var R_="popstate";function dP(n={}){function e(o,l){let{pathname:d="/",search:h="",hash:p=""}=Is(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Cf("",{pathname:d,search:h,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let d=o.document.querySelector("base"),h="";if(d&&d.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");h=y===-1?p:p.slice(0,y)}return h+"#"+(typeof l=="string"?l:ol(l))}function i(o,l){An(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return fP(e,t,i,n)}function Ze(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function An(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hP(){return Math.random().toString(36).substring(2,10)}function A_(n,e){return{usr:n.state,key:n.key,idx:e}}function Cf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Is(e):e,state:t,key:e&&e.key||i||hP()}}function ol({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Is(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function fP(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,d=o.history,h="POP",p=null,y=w();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function w(){return(d.state||{idx:null}).idx}function T(){h="POP";let b=w(),B=b==null?null:b-y;y=b,p&&p({action:h,location:F.location,delta:B})}function S(b,B){h="PUSH";let z=Cf(F.location,b,B);t(z,b),y=w()+1;let G=A_(z,y),te=F.createHref(z);try{d.pushState(G,"",te)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(te)}l&&p&&p({action:h,location:F.location,delta:1})}function k(b,B){h="REPLACE";let z=Cf(F.location,b,B);t(z,b),y=w();let G=A_(z,y),te=F.createHref(z);d.replaceState(G,"",te),l&&p&&p({action:h,location:F.location,delta:0})}function O(b){let B=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof b=="string"?b:ol(b);return z=z.replace(/ $/,"%20"),Ze(B,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,B)}let F={get action(){return h},get location(){return n(o,d)},listen(b){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(R_,T),p=b,()=>{o.removeEventListener(R_,T),p=null}},createHref(b){return e(o,b)},createURL:O,encodeLocation(b){let B=O(b);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:S,replace:k,go(b){return d.go(b)}};return F}function hE(n,e,t="/"){return pP(n,e,t,!1)}function pP(n,e,t,i){let o=typeof e=="string"?Is(e):e,l=ki(o.pathname||"/",t);if(l==null)return null;let d=fE(n);mP(d);let h=null;for(let p=0;h==null&&p<d.length;++p){let y=RP(l);h=SP(d[p],y,i)}return h}function fE(n,e=[],t=[],i=""){let o=(l,d,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};p.relativePath.startsWith("/")&&(Ze(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=Lr([i,p.relativePath]),w=t.concat(p);l.children&&l.children.length>0&&(Ze(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),fE(l.children,e,w,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:TP(y,l.index),routesMeta:w})};return n.forEach((l,d)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))o(l,d);else for(let p of pE(l.path))o(l,d,p)}),e}function pE(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let d=pE(i.join("/")),h=[];return h.push(...d.map(p=>p===""?l:[l,p].join("/"))),o&&h.push(...d),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function mP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:IP(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var gP=/^:[\w-]+$/,yP=3,_P=2,vP=1,wP=10,EP=-2,P_=n=>n==="*";function TP(n,e){let t=n.split("/"),i=t.length;return t.some(P_)&&(i+=EP),e&&(i+=_P),t.filter(o=>!P_(o)).reduce((o,l)=>o+(gP.test(l)?yP:l===""?vP:wP),i)}function IP(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function SP(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",d=[];for(let h=0;h<i.length;++h){let p=i[h],y=h===i.length-1,w=l==="/"?e:e.slice(l.length)||"/",T=xc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},w),S=p.route;if(!T&&y&&t&&!i[i.length-1].route.index&&(T=xc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!T)return null;Object.assign(o,T.params),d.push({params:o,pathname:Lr([l,T.pathname]),pathnameBase:xP(Lr([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=Lr([l,T.pathnameBase]))}return d}function xc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=CP(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],d=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((y,{paramName:w,isOptional:T},S)=>{if(w==="*"){let O=h[S]||"";d=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const k=h[S];return T&&!k?y[w]=void 0:y[w]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:d,pattern:n}}function CP(n,e=!1,t=!0){An(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function RP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return An(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ki(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function AP(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Is(n):n;return{pathname:t?t.startsWith("/")?t:PP(t,e):e,search:NP(i),hash:bP(o)}}function PP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Yh(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Pp(n){let e=kP(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function kp(n,e,t,i=!1){let o;typeof n=="string"?o=Is(n):(o={...n},Ze(!o.pathname||!o.pathname.includes("?"),Yh("?","pathname","search",o)),Ze(!o.pathname||!o.pathname.includes("#"),Yh("#","pathname","hash",o)),Ze(!o.search||!o.search.includes("#"),Yh("#","search","hash",o)));let l=n===""||o.pathname==="",d=l?"/":o.pathname,h;if(d==null)h=t;else{let T=e.length-1;if(!i&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}h=T>=0?e[T]:"/"}let p=AP(o,h),y=d&&d!=="/"&&d.endsWith("/"),w=(l||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||w)&&(p.pathname+="/"),p}var Lr=n=>n.join("/").replace(/\/\/+/g,"/"),xP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),NP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,bP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function DP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var mE=["POST","PUT","PATCH","DELETE"];new Set(mE);var LP=["GET",...mE];new Set(LP);var zo=$.createContext(null);zo.displayName="DataRouter";var nd=$.createContext(null);nd.displayName="DataRouterState";var gE=$.createContext({isTransitioning:!1});gE.displayName="ViewTransition";var OP=$.createContext(new Map);OP.displayName="Fetchers";var VP=$.createContext(null);VP.displayName="Await";var qn=$.createContext(null);qn.displayName="Navigation";var Tl=$.createContext(null);Tl.displayName="Location";var ur=$.createContext({outlet:null,matches:[],isDataRoute:!1});ur.displayName="Route";var xp=$.createContext(null);xp.displayName="RouteError";function MP(n,{relative:e}={}){Ze($o(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=$.useContext(qn),{hash:o,pathname:l,search:d}=Il(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:Lr([t,l])),i.createHref({pathname:h,search:d,hash:o})}function $o(){return $.useContext(Tl)!=null}function zr(){return Ze($o(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Tl).location}var yE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _E(n){$.useContext(qn).static||$.useLayoutEffect(n)}function Np(){let{isDataRoute:n}=$.useContext(ur);return n?YP():FP()}function FP(){Ze($o(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(zo),{basename:e,navigator:t}=$.useContext(qn),{matches:i}=$.useContext(ur),{pathname:o}=zr(),l=JSON.stringify(Pp(i)),d=$.useRef(!1);return _E(()=>{d.current=!0}),$.useCallback((p,y={})=>{if(An(d.current,yE),!d.current)return;if(typeof p=="number"){t.go(p);return}let w=kp(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Lr([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,l,o,n])}$.createContext(null);function Il(n,{relative:e}={}){let{matches:t}=$.useContext(ur),{pathname:i}=zr(),o=JSON.stringify(Pp(t));return $.useMemo(()=>kp(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function UP(n,e){return vE(n,e)}function vE(n,e,t,i){var B;Ze($o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$.useContext(qn),{matches:l}=$.useContext(ur),d=l[l.length-1],h=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",w=d&&d.route;{let z=w&&w.path||"";wE(p,!w||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let T=zr(),S;if(e){let z=typeof e=="string"?Is(e):e;Ze(y==="/"||((B=z.pathname)==null?void 0:B.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${z.pathname}" was given in the \`location\` prop.`),S=z}else S=T;let k=S.pathname||"/",O=k;if(y!=="/"){let z=y.replace(/^\//,"").split("/");O="/"+k.replace(/^\//,"").split("/").slice(z.length).join("/")}let F=hE(n,{pathname:O});An(w||F!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),An(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=HP(F&&F.map(z=>Object.assign({},z,{params:Object.assign({},h,z.params),pathname:Lr([y,o.encodeLocation?o.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?y:Lr([y,o.encodeLocation?o.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),l,t,i);return e&&b?$.createElement(Tl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},b):b}function jP(){let n=QP(),e=DP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,d)}var zP=$.createElement(jP,null),$P=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?$.createElement(ur.Provider,{value:this.props.routeContext},$.createElement(xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BP({routeContext:n,match:e,children:t}){let i=$.useContext(zo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(ur.Provider,{value:n},t)}function HP(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);Ze(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,h=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=p),y.route.id){let{loaderData:w,errors:T}=t,S=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||S){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,y,w)=>{let T,S=!1,k=null,O=null;t&&(T=l&&y.route.id?l[y.route.id]:void 0,k=y.route.errorElement||zP,d&&(h<0&&w===0?(wE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,O=null):h===w&&(S=!0,O=y.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,w+1)),b=()=>{let B;return T?B=k:S?B=O:y.route.Component?B=$.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=p,$.createElement(BP,{match:y,routeContext:{outlet:p,matches:F,isDataRoute:t!=null},children:B})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?$.createElement($P,{location:t.location,revalidation:t.revalidation,component:k,error:T,children:b(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):b()},null)}function bp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WP(n){let e=$.useContext(zo);return Ze(e,bp(n)),e}function qP(n){let e=$.useContext(nd);return Ze(e,bp(n)),e}function KP(n){let e=$.useContext(ur);return Ze(e,bp(n)),e}function Dp(n){let e=KP(n),t=e.matches[e.matches.length-1];return Ze(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function GP(){return Dp("useRouteId")}function QP(){var i;let n=$.useContext(xp),e=qP("useRouteError"),t=Dp("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function YP(){let{router:n}=WP("useNavigate"),e=Dp("useNavigate"),t=$.useRef(!1);return _E(()=>{t.current=!0}),$.useCallback(async(o,l={})=>{An(t.current,yE),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var k_={};function wE(n,e,t){!e&&!k_[n]&&(k_[n]=!0,An(!1,t))}$.memo(XP);function XP({routes:n,future:e,state:t}){return vE(n,void 0,t,e)}function Lp({to:n,replace:e,state:t,relative:i}){Ze($o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=$.useContext(qn);An(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=$.useContext(ur),{pathname:d}=zr(),h=Np(),p=kp(n,Pp(l),d,i==="path"),y=JSON.stringify(p);return $.useEffect(()=>{h(JSON.parse(y),{replace:e,state:t,relative:i})},[h,y,i,e,t]),null}function ac(n){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JP({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){Ze(!$o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),h=$.useMemo(()=>({basename:d,navigator:o,static:l,future:{}}),[d,o,l]);typeof t=="string"&&(t=Is(t));let{pathname:p="/",search:y="",hash:w="",state:T=null,key:S="default"}=t,k=$.useMemo(()=>{let O=ki(p,d);return O==null?null:{location:{pathname:O,search:y,hash:w,state:T,key:S},navigationType:i}},[d,p,y,w,T,S,i]);return An(k!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:$.createElement(qn.Provider,{value:h},$.createElement(Tl.Provider,{children:e,value:k}))}function ZP({children:n,location:e}){return UP(Rf(n),e)}function Rf(n,e=[]){let t=[];return $.Children.forEach(n,(i,o)=>{if(!$.isValidElement(i))return;let l=[...e,o];if(i.type===$.Fragment){t.push.apply(t,Rf(i.props.children,l));return}Ze(i.type===ac,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=Rf(i.props.children,l)),t.push(d)}),t}var lc="get",uc="application/x-www-form-urlencoded";function rd(n){return n!=null&&typeof n.tagName=="string"}function ek(n){return rd(n)&&n.tagName.toLowerCase()==="button"}function tk(n){return rd(n)&&n.tagName.toLowerCase()==="form"}function nk(n){return rd(n)&&n.tagName.toLowerCase()==="input"}function rk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ik(n,e){return n.button===0&&(!e||e==="_self")&&!rk(n)}var Qu=null;function sk(){if(Qu===null)try{new FormData(document.createElement("form"),0),Qu=!1}catch{Qu=!0}return Qu}var ok=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xh(n){return n!=null&&!ok.has(n)?(An(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uc}"`),null):n}function ak(n,e){let t,i,o,l,d;if(tk(n)){let h=n.getAttribute("action");i=h?ki(h,e):null,t=n.getAttribute("method")||lc,o=Xh(n.getAttribute("enctype"))||uc,l=new FormData(n)}else if(ek(n)||nk(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(i=p?ki(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||lc,o=Xh(n.getAttribute("formenctype"))||Xh(h.getAttribute("enctype"))||uc,l=new FormData(h,n),!sk()){let{name:y,type:w,value:T}=n;if(w==="image"){let S=y?`${y}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else y&&l.append(y,T)}}else{if(rd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=lc,i=null,o=uc,d=n}return l&&o==="text/plain"&&(d=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:d}}function Op(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function lk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ck(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let d=await lk(l,t);return d.links?d.links():[]}return[]}));return pk(i.flat(1).filter(uk).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function x_(n,e,t,i,o,l){let d=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,h=(p,y)=>{var w;return t[y].pathname!==p.pathname||((w=t[y].route.path)==null?void 0:w.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>d(p,y)||h(p,y)):l==="data"?e.filter((p,y)=>{var T;let w=i.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(d(p,y)||h(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function dk(n,e){return hk(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function hk(n){return[...new Set(n)]}function fk(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function pk(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(fk(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function mk(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function gk(){let n=$.useContext(zo);return Op(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yk(){let n=$.useContext(nd);return Op(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vp=$.createContext(void 0);Vp.displayName="FrameworkContext";function EE(){let n=$.useContext(Vp);return Op(n,"You must render this element inside a <HydratedRouter> element"),n}function _k(n,e){let t=$.useContext(Vp),[i,o]=$.useState(!1),[l,d]=$.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:y,onMouseLeave:w,onTouchStart:T}=e,S=$.useRef(null);$.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let F=B=>{B.forEach(z=>{d(z.isIntersecting)})},b=new IntersectionObserver(F,{threshold:.5});return S.current&&b.observe(S.current),()=>{b.disconnect()}}},[n]),$.useEffect(()=>{if(i){let F=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(F)}}},[i]);let k=()=>{o(!0)},O=()=>{o(!1),d(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:Ua(h,k),onBlur:Ua(p,O),onMouseEnter:Ua(y,k),onMouseLeave:Ua(w,O),onTouchStart:Ua(T,k)}]:[!1,S,{}]}function Ua(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function vk({page:n,...e}){let{router:t}=gk(),i=$.useMemo(()=>hE(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?$.createElement(Ek,{page:n,matches:i,...e}):null}function wk(n){let{manifest:e,routeModules:t}=EE(),[i,o]=$.useState([]);return $.useEffect(()=>{let l=!1;return ck(n,e,t).then(d=>{l||o(d)}),()=>{l=!0}},[n,e,t]),i}function Ek({page:n,matches:e,...t}){let i=zr(),{manifest:o,routeModules:l}=EE(),{loaderData:d,matches:h}=yk(),p=$.useMemo(()=>x_(n,e,h,o,i,"data"),[n,e,h,o,i]),y=$.useMemo(()=>x_(n,e,h,o,i,"assets"),[n,e,h,o,i]),w=$.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let k=new Set,O=!1;if(e.forEach(b=>{var z;let B=o.routes[b.route.id];!B||!B.hasLoader||(!p.some(G=>G.route.id===b.route.id)&&b.route.id in d&&((z=l[b.route.id])!=null&&z.shouldRevalidate)||B.hasClientLoader?O=!0:k.add(b.route.id))}),k.size===0)return[];let F=mk(n);return O&&k.size>0&&F.searchParams.set("_routes",e.filter(b=>k.has(b.route.id)).map(b=>b.route.id).join(",")),[F.pathname+F.search]},[d,i,o,p,e,n,l]),T=$.useMemo(()=>dk(y,o),[y,o]),S=wk(y);return $.createElement($.Fragment,null,w.map(k=>$.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),T.map(k=>$.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),S.map(({key:k,link:O})=>$.createElement("link",{key:k,...O})))}function Tk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var TE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TE&&(window.__reactRouterVersion="7.1.3")}catch{}function Ik({basename:n,children:e,window:t}){let i=$.useRef();i.current==null&&(i.current=dP({window:t,v5Compat:!0}));let o=i.current,[l,d]=$.useState({action:o.action,location:o.location}),h=$.useCallback(p=>{$.startTransition(()=>d(p))},[d]);return $.useLayoutEffect(()=>o.listen(h),[o,h]),$.createElement(JP,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var IE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sl=$.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:d,state:h,target:p,to:y,preventScrollReset:w,viewTransition:T,...S},k){let{basename:O}=$.useContext(qn),F=typeof y=="string"&&IE.test(y),b,B=!1;if(typeof y=="string"&&F&&(b=y,TE))try{let C=new URL(window.location.href),x=y.startsWith("//")?new URL(C.protocol+y):new URL(y),D=ki(x.pathname,O);x.origin===C.origin&&D!=null?y=D+x.search+x.hash:B=!0}catch{An(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=MP(y,{relative:o}),[G,te,re]=_k(i,S),oe=Ak(y,{replace:d,state:h,target:p,preventScrollReset:w,relative:o,viewTransition:T});function A(C){e&&e(C),C.defaultPrevented||oe(C)}let I=$.createElement("a",{...S,...re,href:b||z,onClick:B||l?e:A,ref:Tk(k,te),target:p,"data-discover":!F&&t==="render"?"true":void 0});return G&&!F?$.createElement($.Fragment,null,I,$.createElement(vk,{page:z})):I});Sl.displayName="Link";var Sk=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:d,viewTransition:h,children:p,...y},w){let T=Il(d,{relative:y.relative}),S=zr(),k=$.useContext(nd),{navigator:O,basename:F}=$.useContext(qn),b=k!=null&&bk(T)&&h===!0,B=O.encodeLocation?O.encodeLocation(T).pathname:T.pathname,z=S.pathname,G=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(z=z.toLowerCase(),G=G?G.toLowerCase():null,B=B.toLowerCase()),G&&F&&(G=ki(G,F)||G);const te=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let re=z===B||!o&&z.startsWith(B)&&z.charAt(te)==="/",oe=G!=null&&(G===B||!o&&G.startsWith(B)&&G.charAt(B.length)==="/"),A={isActive:re,isPending:oe,isTransitioning:b},I=re?e:void 0,C;typeof i=="function"?C=i(A):C=[i,re?"active":null,oe?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(A):l;return $.createElement(Sl,{...y,"aria-current":I,className:C,ref:w,style:x,to:d,viewTransition:h},typeof p=="function"?p(A):p)});Sk.displayName="NavLink";var Ck=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:d=lc,action:h,onSubmit:p,relative:y,preventScrollReset:w,viewTransition:T,...S},k)=>{let O=xk(),F=Nk(h,{relative:y}),b=d.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&IE.test(h),z=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let te=G.nativeEvent.submitter,re=(te==null?void 0:te.getAttribute("formmethod"))||d;O(te||G.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:l,relative:y,preventScrollReset:w,viewTransition:T})};return $.createElement("form",{ref:k,method:b,action:F,onSubmit:i?p:z,...S,"data-discover":!B&&n==="render"?"true":void 0})});Ck.displayName="Form";function Rk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SE(n){let e=$.useContext(zo);return Ze(e,Rk(n)),e}function Ak(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:d}={}){let h=Np(),p=zr(),y=Il(n,{relative:l});return $.useCallback(w=>{if(ik(w,e)){w.preventDefault();let T=t!==void 0?t:ol(p)===ol(y);h(n,{replace:T,state:i,preventScrollReset:o,relative:l,viewTransition:d})}},[p,h,y,t,i,e,n,o,l,d])}var Pk=0,kk=()=>`__${String(++Pk)}__`;function xk(){let{router:n}=SE("useSubmit"),{basename:e}=$.useContext(qn),t=GP();return $.useCallback(async(i,o={})=>{let{action:l,method:d,encType:h,formData:p,body:y}=ak(i,e);if(o.navigate===!1){let w=o.fetcherKey||kk();await n.fetch(w,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function Nk(n,{relative:e}={}){let{basename:t}=$.useContext(qn),i=$.useContext(ur);Ze(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Il(n||".",{relative:e})},d=zr();if(n==null){l.search=d.search;let h=new URLSearchParams(l.search),p=h.getAll("index");if(p.some(w=>w==="")){h.delete("index"),p.filter(T=>T).forEach(T=>h.append("index",T));let w=h.toString();l.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Lr([t,l.pathname])),ol(l)}function bk(n,e={}){let t=$.useContext(gE);Ze(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=SE("useViewTransitionState"),o=Il(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ki(t.currentLocation.pathname,i)||t.currentLocation.pathname,d=ki(t.nextLocation.pathname,i)||t.nextLocation.pathname;return xc(o.pathname,d)!=null||xc(o.pathname,l)!=null}new TextEncoder;function CE(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=CE(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function hs(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=CE(n))&&(i&&(i+=" "),i+=e);return i}function Dk(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}Dk(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Cl=n=>typeof n=="number"&&!isNaN(n),vs=n=>typeof n=="string",Ur=n=>typeof n=="function",Lk=n=>vs(n)||Cl(n),Af=n=>vs(n)||Ur(n)?n:null,Ok=(n,e)=>n===!1||Cl(n)&&n>0?n:e,Pf=n=>$.isValidElement(n)||vs(n)||Ur(n)||Cl(n);function Vk(n,e,t=300){let{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function Mk({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:l,position:d,preventExitTransition:h,done:p,nodeRef:y,isIn:w,playToast:T}){let S=t?`${n}--${d}`:n,k=t?`${e}--${d}`:e,O=$.useRef(0);return $.useLayoutEffect(()=>{let F=y.current,b=S.split(" "),B=z=>{z.target===y.current&&(T(),F.removeEventListener("animationend",B),F.removeEventListener("animationcancel",B),O.current===0&&z.type!=="animationcancel"&&F.classList.remove(...b))};F.classList.add(...b),F.addEventListener("animationend",B),F.addEventListener("animationcancel",B)},[]),$.useEffect(()=>{let F=y.current,b=()=>{F.removeEventListener("animationend",b),i?Vk(F,p,o):p()};w||(h?b():(O.current=1,F.className+=` ${k}`,F.addEventListener("animationend",b)))},[w]),Me.createElement(Me.Fragment,null,l)}}function N_(n,e){return{content:RE(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function RE(n,e,t=!1){return $.isValidElement(n)&&!vs(n.type)?$.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Ur(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function Fk({closeToast:n,theme:e,ariaLabel:t="close"}){return Me.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},Me.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Me.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Uk({delay:n,isRunning:e,closeToast:t,type:i="default",hide:o,className:l,controlledProgress:d,progress:h,rtl:p,isIn:y,theme:w}){let T=o||d&&h===0,S={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};d&&(S.transform=`scaleX(${h})`);let k=hs("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${w}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":p}),O=Ur(l)?l({rtl:p,type:i,defaultClassName:k}):hs(k,l),F={[d&&h>=1?"onTransitionEnd":"onAnimationEnd"]:d&&h<1?null:()=>{y&&t()}};return Me.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":T},Me.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${w} Toastify__progress-bar--${i}`}),Me.createElement("div",{role:"progressbar","aria-hidden":T?"true":"false","aria-label":"notification timer",className:O,style:S,...F}))}var jk=1,AE=()=>`${jk++}`;function zk(n,e,t){let i=1,o=0,l=[],d=[],h=e,p=new Map,y=new Set,w=z=>(y.add(z),()=>y.delete(z)),T=()=>{d=Array.from(p.values()),y.forEach(z=>z())},S=({containerId:z,toastId:G,updateId:te})=>{let re=z?z!==n:n!==1,oe=p.has(G)&&te==null;return re||oe},k=(z,G)=>{p.forEach(te=>{var re;(G==null||G===te.props.toastId)&&((re=te.toggle)==null||re.call(te,z))})},O=z=>{var G,te;(te=(G=z.props)==null?void 0:G.onClose)==null||te.call(G,z.removalReason),z.isActive=!1},F=z=>{if(z==null)p.forEach(O);else{let G=p.get(z);G&&O(G)}T()},b=()=>{o-=l.length,l=[]},B=z=>{var G,te;let{toastId:re,updateId:oe}=z.props,A=oe==null;z.staleId&&p.delete(z.staleId),z.isActive=!0,p.set(re,z),T(),t(N_(z,A?"added":"updated")),A&&((te=(G=z.props).onOpen)==null||te.call(G))};return{id:n,props:h,observe:w,toggle:k,removeToast:F,toasts:p,clearQueue:b,buildToast:(z,G)=>{if(S(G))return;let{toastId:te,updateId:re,data:oe,staleId:A,delay:I}=G,C=re==null;C&&o++;let x={...h,style:h.toastStyle,key:i++,...Object.fromEntries(Object.entries(G).filter(([V,P])=>P!=null)),toastId:te,updateId:re,data:oe,isIn:!1,className:Af(G.className||h.toastClassName),progressClassName:Af(G.progressClassName||h.progressClassName),autoClose:G.isLoading?!1:Ok(G.autoClose,h.autoClose),closeToast(V){p.get(te).removalReason=V,F(te)},deleteToast(){let V=p.get(te);if(V!=null){if(t(N_(V,"removed")),p.delete(te),o--,o<0&&(o=0),l.length>0){B(l.shift());return}T()}}};x.closeButton=h.closeButton,G.closeButton===!1||Pf(G.closeButton)?x.closeButton=G.closeButton:G.closeButton===!0&&(x.closeButton=Pf(h.closeButton)?h.closeButton:!0);let D={content:z,props:x,staleId:A};h.limit&&h.limit>0&&o>h.limit&&C?l.push(D):Cl(I)?setTimeout(()=>{B(D)},I):B(D)},setProps(z){h=z},setToggle:(z,G)=>{let te=p.get(z);te&&(te.toggle=G)},isToastActive:z=>{var G;return(G=p.get(z))==null?void 0:G.isActive},getSnapshot:()=>d}}var Kt=new Map,al=[],kf=new Set,$k=n=>kf.forEach(e=>e(n)),PE=()=>Kt.size>0;function Bk(){al.forEach(n=>xE(n.content,n.options)),al=[]}var Hk=(n,{containerId:e})=>{var t;return(t=Kt.get(e||1))==null?void 0:t.toasts.get(n)};function kE(n,e){var t;if(e)return!!((t=Kt.get(e))!=null&&t.isToastActive(n));let i=!1;return Kt.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function Wk(n){if(!PE()){al=al.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||Lk(n))Kt.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Kt.get(n.containerId);e?e.removeToast(n.id):Kt.forEach(t=>{t.removeToast(n.id)})}}var qk=(n={})=>{Kt.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function xE(n,e){Pf(n)&&(PE()||al.push({content:n,options:e}),Kt.forEach(t=>{t.buildToast(n,e)}))}function Kk(n){var e;(e=Kt.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function NE(n,e){Kt.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function Gk(n){let e=n.containerId||1;return{subscribe(t){let i=zk(e,n,$k);Kt.set(e,i);let o=i.observe(t);return Bk(),()=>{o(),Kt.delete(e)}},setProps(t){var i;(i=Kt.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=Kt.get(e))==null?void 0:t.getSnapshot()}}}function Qk(n){return kf.add(n),()=>{kf.delete(n)}}function Yk(n){return n&&(vs(n.toastId)||Cl(n.toastId))?n.toastId:AE()}function Rl(n,e){return xE(n,e),e.toastId}function id(n,e){return{...e,type:e&&e.type||n,toastId:Yk(e)}}function sd(n){return(e,t)=>Rl(e,id(n,t))}function Oe(n,e){return Rl(n,id("default",e))}Oe.loading=(n,e)=>Rl(n,id("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Xk(n,{pending:e,error:t,success:i},o){let l;e&&(l=vs(e)?Oe.loading(e,o):Oe.loading(e.render,{...o,...e}));let d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(y,w,T)=>{if(w==null){Oe.dismiss(l);return}let S={type:y,...d,...o,data:T},k=vs(w)?{render:w}:w;return l?Oe.update(l,{...S,...k}):Oe(k.render,{...S,...k}),T},p=Ur(n)?n():n;return p.then(y=>h("success",i,y)).catch(y=>h("error",t,y)),p}Oe.promise=Xk;Oe.success=sd("success");Oe.info=sd("info");Oe.error=sd("error");Oe.warning=sd("warning");Oe.warn=Oe.warning;Oe.dark=(n,e)=>Rl(n,id("default",{theme:"dark",...e}));function Jk(n){Wk(n)}Oe.dismiss=Jk;Oe.clearWaitingQueue=qk;Oe.isActive=kE;Oe.update=(n,e={})=>{let t=Hk(n,e);if(t){let{props:i,content:o}=t,l={delay:100,...i,...e,toastId:e.toastId||n,updateId:AE()};l.toastId!==n&&(l.staleId=n);let d=l.render||o;delete l.render,Rl(d,l)}};Oe.done=n=>{Oe.update(n,{progress:1})};Oe.onChange=Qk;Oe.play=n=>NE(!0,n);Oe.pause=n=>NE(!1,n);function Zk(n){var e;let{subscribe:t,getSnapshot:i,setProps:o}=$.useRef(Gk(n)).current;o(n);let l=(e=$.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function d(h){if(!l)return[];let p=new Map;return n.newestOnTop&&l.reverse(),l.forEach(y=>{let{position:w}=y.props;p.has(w)||p.set(w,[]),p.get(w).push(y)}),Array.from(p,y=>h(y[0],y[1]))}return{getToastToRender:d,isToastActive:kE,count:l==null?void 0:l.length}}function ex(n){let[e,t]=$.useState(!1),[i,o]=$.useState(!1),l=$.useRef(null),d=$.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:p,closeToast:y,onClick:w,closeOnClick:T}=n;Kk({id:n.toastId,containerId:n.containerId,fn:t}),$.useEffect(()=>{if(n.pauseOnFocusLoss)return S(),()=>{k()}},[n.pauseOnFocusLoss]);function S(){document.hasFocus()||B(),window.addEventListener("focus",b),window.addEventListener("blur",B)}function k(){window.removeEventListener("focus",b),window.removeEventListener("blur",B)}function O(A){if(n.draggable===!0||n.draggable===A.pointerType){z();let I=l.current;d.canCloseOnClick=!0,d.canDrag=!0,I.style.transition="none",n.draggableDirection==="x"?(d.start=A.clientX,d.removalDistance=I.offsetWidth*(n.draggablePercent/100)):(d.start=A.clientY,d.removalDistance=I.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function F(A){let{top:I,bottom:C,left:x,right:D}=l.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&n.pauseOnHover&&A.clientX>=x&&A.clientX<=D&&A.clientY>=I&&A.clientY<=C?B():b()}function b(){t(!0)}function B(){t(!1)}function z(){d.didMove=!1,document.addEventListener("pointermove",te),document.addEventListener("pointerup",re)}function G(){document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",re)}function te(A){let I=l.current;if(d.canDrag&&I){d.didMove=!0,e&&B(),n.draggableDirection==="x"?d.delta=A.clientX-d.start:d.delta=A.clientY-d.start,d.start!==A.clientX&&(d.canCloseOnClick=!1);let C=n.draggableDirection==="x"?`${d.delta}px, var(--y)`:`0, calc(${d.delta}px + var(--y))`;I.style.transform=`translate3d(${C},0)`,I.style.opacity=`${1-Math.abs(d.delta/d.removalDistance)}`}}function re(){G();let A=l.current;if(d.canDrag&&d.didMove&&A){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}let oe={onPointerDown:O,onPointerUp:F};return h&&p&&(oe.onMouseEnter=B,n.stacked||(oe.onMouseLeave=b)),T&&(oe.onClick=A=>{w&&w(A),d.canCloseOnClick&&y(!0)}),{playToast:b,pauseToast:B,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:oe}}var tx=typeof window<"u"?$.useLayoutEffect:$.useEffect,od=({theme:n,type:e,isLoading:t,...i})=>Me.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function nx(n){return Me.createElement(od,{...n},Me.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function rx(n){return Me.createElement(od,{...n},Me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function ix(n){return Me.createElement(od,{...n},Me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function sx(n){return Me.createElement(od,{...n},Me.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function ox(){return Me.createElement("div",{className:"Toastify__spinner"})}var xf={info:rx,warning:nx,success:ix,error:sx,spinner:ox},ax=n=>n in xf;function lx({theme:n,type:e,isLoading:t,icon:i}){let o=null,l={theme:n,type:e};return i===!1||(Ur(i)?o=i({...l,isLoading:t}):$.isValidElement(i)?o=$.cloneElement(i,l):t?o=xf.spinner():ax(e)&&(o=xf[e](l))),o}var ux=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o,playToast:l}=ex(n),{closeButton:d,children:h,autoClose:p,onClick:y,type:w,hideProgressBar:T,closeToast:S,transition:k,position:O,className:F,style:b,progressClassName:B,updateId:z,role:G,progress:te,rtl:re,toastId:oe,deleteToast:A,isIn:I,isLoading:C,closeOnClick:x,theme:D,ariaLabel:V}=n,P=hs("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${w}`,{"Toastify__toast--rtl":re},{"Toastify__toast--close-on-click":x}),et=Ur(F)?F({rtl:re,position:O,type:w,defaultClassName:P}):hs(P,F),ht=lx(n),ft=!!te||!p,Fe={closeToast:S,type:w,theme:D},ie=null;return d===!1||(Ur(d)?ie=d(Fe):$.isValidElement(d)?ie=$.cloneElement(d,Fe):ie=Fk(Fe)),Me.createElement(k,{isIn:I,done:A,position:O,preventExitTransition:t,nodeRef:i,playToast:l},Me.createElement("div",{id:oe,tabIndex:0,onClick:y,"data-in":I,className:et,...o,style:b,ref:i,...I&&{role:G,"aria-label":V}},ht!=null&&Me.createElement("div",{className:hs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},ht),RE(h,n,!e),ie,!n.customProgressBar&&Me.createElement(Uk,{...z&&!ft?{key:`p-${z}`}:{},rtl:re,theme:D,delay:p,isRunning:e,isIn:I,closeToast:S,hide:T,type:w,className:B,controlledProgress:ft,progress:te||0})))},cx=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),dx=Mk(cx("bounce",!0)),hx={position:"top-right",transition:dx,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function fx(n){let e={...hx,...n},t=n.stacked,[i,o]=$.useState(!0),l=$.useRef(null),{getToastToRender:d,isToastActive:h,count:p}=Zk(e),{className:y,style:w,rtl:T,containerId:S,hotKeys:k}=e;function O(b){let B=hs("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":T});return Ur(y)?y({position:b,rtl:T,defaultClassName:B}):hs(B,Af(y))}function F(){t&&(o(!0),Oe.play())}return tx(()=>{var b;if(t){let B=l.current.querySelectorAll('[data-in="true"]'),z=12,G=(b=e.position)==null?void 0:b.includes("top"),te=0,re=0;Array.from(B).reverse().forEach((oe,A)=>{let I=oe;I.classList.add("Toastify__toast--stacked"),A>0&&(I.dataset.collapsed=`${i}`),I.dataset.pos||(I.dataset.pos=G?"top":"bot");let C=te*(i?.2:1)+(i?0:z*A);I.style.setProperty("--y",`${G?C:C*-1}px`),I.style.setProperty("--g",`${z}`),I.style.setProperty("--s",`${1-(i?re:0)}`),te+=I.offsetHeight,re+=.025})}},[i,p,t]),$.useEffect(()=>{function b(B){var z;let G=l.current;k(B)&&((z=G.querySelector('[tabIndex="0"]'))==null||z.focus(),o(!1),Oe.pause()),B.key==="Escape"&&(document.activeElement===G||G!=null&&G.contains(document.activeElement))&&(o(!0),Oe.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[k]),Me.createElement("section",{ref:l,className:"Toastify",id:S,onMouseEnter:()=>{t&&(o(!1),Oe.pause())},onMouseLeave:F,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},d((b,B)=>{let z=B.length?{...w}:{...w,pointerEvents:"none"};return Me.createElement("div",{tabIndex:-1,className:O(b),"data-stacked":t,style:z,key:`c-${b}`},B.map(({content:G,props:te})=>Me.createElement(ux,{...te,stacked:t,collapseAll:F,isIn:h(te.toastId,te.containerId),key:`t-${te.key}`},G)))}))}function fs({name:n,label:e,...t}){return W.jsxs("div",{className:"mb-2 flex flex-col",children:[W.jsx("label",{htmlFor:n,className:"font-bold",children:e}),W.jsx("input",{className:"my-2 w-full rounded border border-gray-300 p-2",name:n,...t})]})}const px=async(n,e)=>{const t=await I1(El,n,e),i=t.user;return await uE(i),t},mx=async(n,e)=>S1(El,n,e),gx=async()=>{const n=new Pr,e=await K1(El,n),t=e.user;return await cE(t.uid)||await uE(t),e},yx=async()=>{await El.signOut()};function _x(){const{userLoggedIn:n}=td(),[e,t]=$.useState({email:"",password:""}),[i,o]=$.useState(!1),[l,d]=$.useState(""),h=y=>{t(w=>({...w,[y.target.name]:y.target.value}))},p=async(y,w,...T)=>{if(y.preventDefault(),!i){o(!0),d("");try{await w(...T)}catch(S){d(S.message||"Failed to sign in")}finally{o(!1)}}};return n?W.jsx(Lp,{to:"/dashboard",replace:!0}):W.jsx("div",{className:"flex h-screen flex-col items-center justify-center bg-gray-100",children:W.jsxs("div",{className:"w-96 rounded-lg bg-white p-6 shadow-lg",children:[W.jsx("h2",{className:"mb-4 text-center text-2xl font-semibold",children:"Login"}),W.jsxs("form",{onSubmit:y=>p(y,mx,e.email,e.password),children:[W.jsx(fs,{type:"email",label:"Email:",name:"email",value:e.email,onChange:h,required:!0}),W.jsx(fs,{type:"password",label:"Password:",name:"password",value:e.password,onChange:h,required:!0}),l&&W.jsx("span",{className:"font-bold text-red-600",children:l}),W.jsx("button",{className:"mt-2 mb-4 w-full rounded bg-blue-500 px-4 py-2 font-bold text-white hover:bg-blue-700",type:"submit",disabled:i,children:i?"Signing In...":"Sign In"})]}),W.jsxs("p",{className:"mb-3 text-center text-sm",children:["Don't have an account?"," ",W.jsx(Sl,{to:"/signup",className:"font-bold hover:underline",children:"Sign up"})]}),W.jsxs("div",{className:"mb-3 flex w-full flex-row text-center",children:[W.jsx("div",{className:"mr-2 mb-3 w-full border-b-2"}),W.jsx("div",{className:"w-fit text-sm font-bold",children:"OR"}),W.jsx("div",{className:"mb-3 ml-2 w-full border-b-2"})]}),W.jsxs("button",{disabled:i,onClick:y=>{p(y,gx)},className:`flex w-full items-center justify-center gap-x-3 rounded-lg border py-2.5 text-sm font-medium ${i?"cursor-not-allowed":"transition duration-300 hover:bg-gray-100 active:bg-gray-100"}`,children:[W.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[W.jsxs("g",{clipPath:"url(#clip0_17_40)",children:[W.jsx("path",{d:"M47.532 24.5528C47.532 22.9214 47.3997 21.2811 47.1175 19.6761H24.48V28.9181H37.4434C36.9055 31.8988 35.177 34.5356 32.6461 36.2111V42.2078H40.3801C44.9217 38.0278 47.532 31.8547 47.532 24.5528Z",fill:"#4285F4"}),W.jsx("path",{d:"M24.48 48.0016C30.9529 48.0016 36.4116 45.8764 40.3888 42.2078L32.6549 36.2111C30.5031 37.675 27.7252 38.5039 24.4888 38.5039C18.2275 38.5039 12.9187 34.2798 11.0139 28.6006H3.03296V34.7825C7.10718 42.8868 15.4056 48.0016 24.48 48.0016Z",fill:"#34A853"}),W.jsx("path",{d:"M11.0051 28.6006C9.99973 25.6199 9.99973 22.3922 11.0051 19.4115V13.2296H3.03298C-0.371021 20.0112 -0.371021 28.0009 3.03298 34.7825L11.0051 28.6006Z",fill:"#FBBC04"}),W.jsx("path",{d:"M24.48 9.49932C27.9016 9.44641 31.2086 10.7339 33.6866 13.0973L40.5387 6.24523C36.2 2.17101 30.4414 -0.068932 24.48 0.00161733C15.4055 0.00161733 7.10718 5.11644 3.03296 13.2296L11.005 19.4115C12.901 13.7235 18.2187 9.49932 24.48 9.49932Z",fill:"#EA4335"})]}),W.jsx("defs",{children:W.jsx("clipPath",{id:"clip0_17_40",children:W.jsx("rect",{width:"48",height:"48",fill:"white"})})})]}),i?"Signing In...":"Continue with Google"]})]})})}function vx(){return W.jsx("h1",{className:"p-4 text-xl font-bold",children:"Dashboard"})}function wx({onClose:n,createInteraction:e,editingInteraction:t,updateInteraction:i}){const o=$.useMemo(()=>t||{date:new Date().toISOString().split("T")[0],mood:"",person:"",emotion:"",summary:""},[t]),[l,d]=$.useState(o),[h,p]=$.useState(!1),y=k=>{d({...l,[k.target.name]:k.target.value})},w=k=>{k.target.closest("form")?p(!0):p(!1)},T=k=>{!h&&k.target.id==="wrapper"&&n()},S=k=>{k.preventDefault(),t?i(l):e(l),n()};return W.jsx("div",{id:"wrapper",className:"fixed inset-0 flex items-center justify-center backdrop-blur-sm",onMouseDown:w,onMouseUp:T,children:W.jsxs("form",{className:"flex w-96 flex-col rounded-lg bg-white px-6 py-0 shadow-lg",onSubmit:S,children:[W.jsx("button",{className:"text-bold self-end text-2xl text-gray-500 hover:text-gray-700",type:"button",onClick:n,children:""}),W.jsx("h1",{className:"text-center text-lg font-bold",children:t?"Edit interaction":"New interaction"}),W.jsx(fs,{type:"date",label:"Date:",name:"date",value:l.date,onChange:y,required:!0}),W.jsxs("div",{className:"flex flex-col",children:[W.jsx("label",{className:"font-bold",children:"Mood:"}),["good","neutral","bad"].map(k=>W.jsxs("div",{className:"mb-2",children:[W.jsx("input",{type:"radio",id:`moodChoice_${k}`,name:"mood",value:k,checked:l.mood===k,onChange:y,required:!0}),W.jsx("label",{className:"pl-2",htmlFor:`moodChoice_${k}`,children:k.charAt(0).toUpperCase()+k.slice(1)})]},k))]}),W.jsx(fs,{type:"text",label:"Person:",name:"person",value:l.person,onChange:y,required:!0}),W.jsxs("div",{className:"flex flex-col",children:[W.jsx("label",{className:"font-bold",children:"Emotion:"}),["pleasantly","unpleasantly"].map(k=>W.jsxs("div",{className:"mb-2",children:[W.jsx("input",{type:"radio",id:`emotionChoice_${k}`,name:"emotion",value:k,checked:l.emotion===k,onChange:y,required:!0}),W.jsx("label",{className:"pl-2",htmlFor:`emotionChoice_${k}`,children:k.charAt(0).toUpperCase()+k.slice(1)})]},k))]}),W.jsxs("div",{className:"flex flex-col",children:[W.jsx("label",{className:"font-bold",children:"Summary:"}),W.jsx("textarea",{className:"my-2 rounded border border-gray-300 p-2",name:"summary",value:l.summary,onChange:y})]}),W.jsx("button",{className:"mt-2 mb-4 w-full rounded bg-blue-500 px-4 py-2 font-bold text-white hover:bg-blue-700",type:"submit",children:"Submit"})]})})}function Ex(n){return n.charAt(0).toUpperCase()+n.slice(1)}function Tx({label:n,sortKey:e,sortConfig:t,onSort:i}){return W.jsxs("th",{className:"cursor-pointer border border-gray-300 p-2",onClick:()=>i(e),children:[Ex(n),t.key===e&&(t.direction==="asc"?"":"")]})}function Ix(n){const e=new Date(n),t=e.getDate().toString().padStart(2,"0"),i=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getFullYear();return`${t}.${i}.${o}`}function Sx({filters:n,onFilterChange:e,onClearFilters:t}){return W.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:[Object.keys(n).map((i,o)=>W.jsx("input",{type:"text",placeholder:`Filter by ${i.charAt(0).toUpperCase()+i.slice(1)}`,value:n[i],onChange:l=>e(i,l.target.value),className:"w-40 rounded border border-gray-300 p-2"},o)),W.jsx("button",{onClick:t,className:"rounded bg-gray-300 p-2 hover:bg-gray-400",children:"Clear filters"})]})}function Cx({currentPage:n,totalPages:e,onPageChange:t}){return W.jsxs("div",{className:"mt-4 flex items-center justify-end gap-4",children:[W.jsx("button",{className:"rounded bg-gray-300 p-2 hover:bg-gray-400 disabled:opacity-50",disabled:n===1,onClick:()=>t(i=>Math.max(i-1,1)),children:"Previous"}),W.jsxs("span",{children:["Page ",n," of ",e]}),W.jsx("button",{className:"rounded bg-gray-300 p-2 hover:bg-gray-400 disabled:opacity-50",disabled:n===e,onClick:()=>t(i=>Math.min(i+1,e)),children:"Next"})]})}function Rx({onRefresh:n,onLoadingChange:e}){const t=async()=>{if(n){e(!0);try{await n()}catch(i){console.error("Error refreshing data:",i)}finally{e(!1)}}};return W.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-gray-500",children:[W.jsx("p",{className:"mb-4",children:"No interactions found."}),n&&W.jsx("button",{onClick:t,className:"rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-600",children:"Refresh Data"})]})}function Ax(){return W.jsx("div",{className:"flex h-64 w-full items-center justify-center",children:W.jsx(lE,{text:"Loading interactions...",size:"large",color:"primary"})})}function Px({interactionsData:n,editInteraction:e,deleteInteraction:t,isLoading:i,onRefresh:o}){const[l,d]=$.useState({key:"date",direction:"desc"}),[h,p]=$.useState({date:"",mood:"",person:"",emotion:"",summary:""}),y=$.useCallback(re=>{d(oe=>({key:re,direction:oe.key===re&&oe.direction==="asc"?"desc":"asc"}))},[]),w=$.useCallback((re,oe)=>{p(A=>A[re]===oe?A:{...A,[re]:oe}),B(1)},[]),T=$.useMemo(()=>{const re=n.filter(oe=>Object.keys(h).every(A=>String(oe[A]||"").trim().toLowerCase().includes(h[A].toLowerCase())));return l.key?[...re].sort((oe,A)=>{let I=oe[l.key],C=A[l.key];const x=V=>!isNaN(parseFloat(V))&&isFinite(V),D=V=>!isNaN(Date.parse(V));return x(I)&&x(C)?(I=Number(I),C=Number(C)):D(I)&&D(C)?(I=new Date(I),C=new Date(C)):(I=String(I).toLowerCase(),C=String(C).toLowerCase()),(I<C?-1:I>C?1:0)*(l.direction==="asc"?1:-1)}):re},[n,h,l]),[S,k]=$.useState(!1),O=i||S,F=async re=>{if(window.confirm("Are you sure you want to delete this interaction?")){k(!0);try{await t(re)}catch(oe){console.error("Error deleting interaction:",oe)}finally{k(!1)}}},[b,B]=$.useState(1),z=5,G=Math.ceil(T.length/z),te=$.useMemo(()=>{const re=(b-1)*z;return T.slice(re,re+z)},[T,b,z]);return O?W.jsx(Ax,{}):n.length?W.jsxs("div",{className:"flex flex-col py-4",children:[W.jsx(Sx,{filters:h,onFilterChange:w,onClearFilters:()=>p({date:"",mood:"",person:"",emotion:"",summary:""})}),W.jsxs("table",{className:"w-full border-collapse",children:[W.jsx("thead",{children:W.jsxs("tr",{className:"bg-gray-200 text-gray-700",children:[W.jsx("th",{className:"border border-gray-300 p-2",children:""}),["date","mood","person","emotion"].map(re=>W.jsx(Tx,{label:re,sortKey:re,sortConfig:l,onSort:y},re)),W.jsx("th",{className:"border border-gray-300 p-2",children:"Summary"}),W.jsx("th",{className:"border border-gray-300 p-2",children:"Actions"})]})}),W.jsx("tbody",{children:te.map((re,oe)=>W.jsxs("tr",{className:"border-b transition duration-200 hover:bg-gray-100",children:[W.jsx("td",{className:"border border-gray-300 p-2 text-center",children:T.length-((b-1)*z+oe)}),W.jsx("td",{className:"border border-gray-300 p-2 text-center whitespace-nowrap",children:Ix(re.date)}),W.jsx("td",{className:"border border-gray-300 p-2 text-center whitespace-nowrap",children:re.mood}),W.jsx("td",{className:"border border-gray-300 p-2 text-center whitespace-nowrap",children:re.person}),W.jsx("td",{className:"border border-gray-300 p-2 text-center whitespace-nowrap",children:re.emotion}),W.jsx("td",{className:"break-word border border-gray-300 p-2 text-center",style:{wordBreak:"break-word",whiteSpace:"pre-wrap"},children:re.summary}),W.jsx("td",{className:"w-[120px] border border-gray-300 p-2 text-center whitespace-nowrap",children:W.jsxs("div",{className:"flex justify-center gap-2",children:[W.jsx("button",{className:"rounded bg-yellow-500 px-3 py-1 text-white hover:bg-yellow-600",onClick:()=>e(re),children:"Edit"}),W.jsx("button",{className:"rounded bg-red-500 px-3 py-1 text-white hover:bg-red-600",onClick:()=>F(re.id),children:"Delete"})]})})]},oe))})]}),W.jsx(Cx,{currentPage:b,totalPages:G,onPageChange:B})]}):W.jsx(Rx,{onRefresh:o,onLoadingChange:k})}function kx(){const{currentUser:n}=td(),[e,t]=$.useState(!1),[i,o]=$.useState([]),[l,d]=$.useState(null),[h,p]=$.useState(!0),y=$.useCallback(async()=>{if(n){p(!0);try{const b=await sP(n.uid);o(b)}catch(b){Oe.error(`Failed to load interactions: ${b.message}`)}finally{p(!1)}}},[n]);$.useEffect(()=>{n&&y()},[n,y]);const w=async b=>{if(n){console.log("Creating interaction:",b);try{const B=await oP({...b,userId:n.uid});console.log("Added interaction:",B),o(z=>[B,...z]),Oe.success("Interaction added successfully!")}catch(B){Oe.error(`Failed to add interaction: ${B}`)}}},T=async b=>{if(n)try{const B=await aP({...b,userId:n.uid});o(z=>z.map(G=>G.id===B.id?B:G)),d(null),Oe.success("Interaction updated successfully!")}catch(B){Oe.error(`Failed to update interaction: ${B}`)}},S=b=>{d(b),t(!0)},k=async b=>{try{await lP(n.uid,b),o(B=>B.filter(z=>z.id!==b)),Oe.success("Interaction deleted successfully!")}catch(B){Oe.error(`Failed to delete interaction: ${B}`)}},O=()=>{d(null),t(!0)},F=()=>{t(b=>!b)};return W.jsxs("div",{className:"h-full",children:[W.jsx("h2",{className:"text-lg font-bold",children:"Interactions"}),W.jsx(Px,{interactionsData:i,editInteraction:S,deleteInteraction:k,isLoading:h,onRefresh:y}),W.jsx("button",{onClick:O,className:"mt-2 rounded bg-blue-500 p-2 text-white hover:bg-blue-600",children:"Add new interaction"}),e&&W.jsx(wx,{onClose:F,createInteraction:w,editingInteraction:l,updateInteraction:T})]})}function xx(){return W.jsx("h1",{className:"p-4 text-xl font-bold",children:"People"})}function Nx(){return W.jsx("h1",{className:"p-4 text-xl font-bold",children:"Settings"})}function bx(){const{userLoggedIn:n}=td(),[e,t]=$.useState({email:"",password:"",confirmPassword:""}),[i,o]=$.useState(!1),[l,d]=$.useState(""),h=y=>{t(w=>({...w,[y.target.name]:y.target.value}))},p=async y=>{if(y.preventDefault(),!i){if(e.password!==e.confirmPassword){d("Passwords don't match");return}o(!0),d("");try{await px(e.email,e.password)}catch(w){d(w.message||"Failed to sign in")}finally{o(!1)}}};return n?W.jsx(Lp,{to:"/dashboard",replace:!0}):W.jsx("div",{className:"flex h-screen flex-col items-center justify-center bg-gray-100",children:W.jsxs("div",{className:"w-96 rounded-lg bg-white p-6 shadow-lg",children:[W.jsx("h2",{className:"mb-4 text-center text-2xl font-semibold",children:"Create a new account"}),W.jsxs("form",{onSubmit:p,children:[W.jsx(fs,{type:"email",label:"Email:",name:"email",value:e.email,onChange:h,required:!0}),W.jsx(fs,{type:"password",label:"Password:",name:"password",value:e.password,onChange:h,required:!0}),W.jsx(fs,{type:"password",label:"Confirm password:",name:"confirmPassword",value:e.confirmPassword,onChange:h,required:!0}),l&&W.jsx("span",{className:"block text-center font-bold text-red-600",children:l}),W.jsx("button",{className:"mt-2 mb-4 w-full rounded bg-blue-500 px-4 py-2 font-bold text-white hover:bg-blue-700 disabled:bg-gray-400",type:"submit",disabled:i,children:i?"Signing Up...":"Sign Up"}),W.jsxs("p",{className:"text-center text-sm",children:["Already have an account?",W.jsx(Sl,{to:"/login",className:"font-bold hover:underline",children:"Continue"})]})]})]})})}const Dx=[{path:"/dashboard",component:vx},{path:"/interactions",component:kx},{path:"/people",component:xx},{path:"/settings",component:Nx}],Lx=[{path:"/login",component:_x},{path:"/signup",component:bx}];function Ox(){const n=Np(),e=async()=>{try{await yx(),n("/login",{replace:!0})}catch(t){console.error("Error during logout:",t)}};return W.jsx("header",{className:"h-12 border-b border-gray-200 bg-white",children:W.jsxs("div",{className:"flex h-full items-center justify-between p-4",children:[W.jsx("h1",{className:"text-lg font-bold",children:"Header"}),W.jsx("button",{onClick:e,className:"rounded-md bg-blue-500 px-4 py-2 text-sm font-medium text-white shadow-md transition duration-300 ease-in-out hover:bg-blue-600","aria-label":"Logout",children:"Logout"})]})})}function Vx(){return W.jsx("div",{className:"flex justify-center",children:W.jsx("img",{src:"/assets/logo_dark.png",alt:"Logo"})})}function Yu({to:n,icon:e,children:t}){const o=zr().pathname===n;return W.jsxs(Sl,{to:n,className:`flex w-40 items-center rounded px-3 py-2 text-center text-white ${o?"bg-blue-700":"bg-blue-500"} hover:bg-blue-600`,children:[e&&W.jsx("span",{className:"mr-3 text-xl",children:e}),t]})}var bE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},b_=Me.createContext&&Me.createContext(bE),Mx=["attr","size","title"];function Fx(n,e){if(n==null)return{};var t=Ux(n,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Ux(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Nc(){return Nc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Nc.apply(this,arguments)}function D_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function bc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D_(Object(t),!0).forEach(function(i){jx(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function jx(n,e,t){return e=zx(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zx(n){var e=$x(n,"string");return typeof e=="symbol"?e:e+""}function $x(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function DE(n){return n&&n.map((e,t)=>Me.createElement(e.tag,bc({key:t},e.attr),DE(e.child)))}function ad(n){return e=>Me.createElement(Bx,Nc({attr:bc({},n.attr)},e),DE(n.child))}function Bx(n){var e=t=>{var{attr:i,size:o,title:l}=n,d=Fx(n,Mx),h=o||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),Me.createElement("svg",Nc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,d,{className:p,style:bc(bc({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&Me.createElement("title",null,l),n.children)};return b_!==void 0?Me.createElement(b_.Consumer,null,t=>e(t)):e(bE)}function Hx(n){return ad({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function Wx(n){return ad({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function qx(n){return ad({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"},child:[]}]})(n)}function Kx(n){return ad({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M532 386.2c27.5-27.1 44-61.1 44-98.2 0-80-76.5-146.1-176.2-157.9C368.3 72.5 294.3 32 208 32 93.1 32 0 103.6 0 192c0 37 16.5 71 44 98.2-15.3 30.7-37.3 54.5-37.7 54.9-6.3 6.7-8.1 16.5-4.4 25 3.6 8.5 12 14 21.2 14 53.5 0 96.7-20.2 125.2-38.8 9.2 2.1 18.7 3.7 28.4 4.9C208.1 407.6 281.8 448 368 448c20.8 0 40.8-2.4 59.8-6.8C456.3 459.7 499.4 480 553 480c9.2 0 17.5-5.5 21.2-14 3.6-8.5 1.9-18.3-4.4-25-.4-.3-22.5-24.1-37.8-54.8zm-392.8-92.3L122.1 305c-14.1 9.1-28.5 16.3-43.1 21.4 2.7-4.7 5.4-9.7 8-14.8l15.5-31.1L77.7 256C64.2 242.6 48 220.7 48 192c0-60.7 73.3-112 160-112s160 51.3 160 112-73.3 112-160 112c-16.5 0-33-1.9-49-5.6l-19.8-4.5zM498.3 352l-24.7 24.4 15.5 31.1c2.6 5.1 5.3 10.1 8 14.8-14.6-5.1-29-12.3-43.1-21.4l-17.1-11.1-19.9 4.6c-16 3.7-32.5 5.6-49 5.6-54 0-102.2-20.1-131.3-49.7C338 339.5 416 272.9 416 192c0-3.4-.4-6.7-.7-10C479.7 196.5 528 238.8 528 288c0 28.7-16.2 50.6-29.7 64z"},child:[]}]})(n)}function Gx(){return W.jsxs("div",{className:"flex h-screen w-64 flex-col border-r border-gray-200 bg-white p-4",children:[W.jsx(Vx,{}),W.jsxs("nav",{className:"flex flex-grow flex-col items-center justify-center space-y-4",children:[W.jsx(Yu,{to:"/dashboard",icon:W.jsx(Wx,{}),children:"Dashboard"}),W.jsx(Yu,{to:"/interactions",icon:W.jsx(Kx,{}),children:"Interactions"}),W.jsx(Yu,{to:"/people",icon:W.jsx(qx,{}),children:"People"}),W.jsx(Yu,{to:"/settings",icon:W.jsx(Hx,{}),children:"Settings"})]})]})}function Qx({children:n}){return W.jsxs("div",{className:"flex min-h-screen",children:[W.jsx(Gx,{}),W.jsxs("div",{className:"flex flex-1 flex-col",children:[W.jsx(Ox,{}),W.jsx("main",{className:"flex-1 bg-gray-50 p-6",children:n})]})]})}function Yx(){const{userLoggedIn:n}=td();return W.jsxs(ZP,{children:[n?Dx.map(({path:e,component:t})=>W.jsx(ac,{path:e,element:W.jsx(Qx,{children:W.jsx(t,{})})},e)):Lx.map(({path:e,component:t})=>W.jsx(ac,{path:e,element:W.jsx(t,{})},e)),W.jsx(ac,{path:"*",element:W.jsx(Lp,{to:n?"/dashboard":"/login"})})]})}function Xx(){return W.jsx(W.Fragment,{children:W.jsxs(uP,{children:[W.jsx(fx,{position:"top-center",autoClose:3e3}),W.jsx(Ik,{children:W.jsx(Yx,{})})]})})}W0.createRoot(document.getElementById("root")).render(W.jsx(Xx,{}));
